import{_ as x,u as V,a as w,S as U,C as f,A as R,D as O}from"./ActionsMenu-BdIbYJG3.js";import{s as E,H as P,d as z,o as F,l as G,w as H,e as Y,r as W,c as j}from"./connect-BV-2I-fJ.js";import{m as k,u as B,a as p,c as D,s as X,o as r,x as A,k as L,j as _,b as h,d as s,g as J,l as K,t as T,n as Q,r as Z,h as q,F as N,f as ee,p as te,q as ae,D as le,G as se,H as oe}from"./vendor-1x2ovGvJ.js";const de={__name:"AddEditCredentialDialog",props:k({mode:{type:String,required:!0},credentialId:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:k(["created","edited"],["update:modelValue"]),setup(e,{emit:t}){const n=t,i=e,o=B(e,"modelValue"),a=p(""),d=p(""),v=D(()=>{var l,u;return((l=a.value)==null?void 0:l.length)>0&&((u=d.value)==null?void 0:u.length)>0}),g=D(()=>i.mode==="edit"),C=D(()=>g.value?"Edit Credentials":"Add Credentials"),y=D(()=>g.value?"Save":"Add"),S=["cancel","submit"],b=V(E()),$=async()=>{const{result:l,request:u}=V(E());await u(`/api/credentials/${i.credentialId}`),a.value=l.name,d.value=l.sas_token},m=()=>{a.value="",d.value=""},c=async()=>{i.mode==="create"?await b.request("/api/credentials","POST",{name:a.value,sas_token:d.value})<400&&n("created"):await b.request(`/api/credentials/${i.credentialId}`,"PUT",{name:a.value,sas_token:d.value})<400&&n("edited")};return X(()=>o.value,()=>{m(),i.mode==="edit"&&$()},{immediate:!0}),(l,u)=>(r(),A(U,{modelValue:o.value,"onUpdate:modelValue":u[2]||(u[2]=I=>o.value=I),title:C.value,actions:S,onSubmit:c,height:"auto",width:"480px",submitLabel:y.value,isValid:v.value},{default:L(()=>[_(w,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=I=>a.value=I),class:"dialog-input",label:"Name"},null,8,["modelValue"]),_(w,{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=I=>d.value=I),class:"dialog-input",label:"SAS Token"},null,8,["modelValue"])]),_:1},8,["modelValue","title","submitLabel","isValid"]))}},ne=x(de,[["__scopeId","data-v-bdcdc16a"]]),ie={class:"alert"},ue={class:"alert__icon"},ce=["iconName","color"],re={class:"alert__text"},me={__name:"AlertItem",props:{message:{type:String,default:"List is empty. Please add item."},icon:{type:String,default:"googleInfoBaseline"},type:{type:String,default:"default"}},setup(e){const t={info:f.DEEP_BLUE,error:f.NICE_RED,success:f.NICE_GREEN,warning:f.NICE_YELLOW,default:f.MIDDLE_GREY};return(n,i)=>(r(),h("div",{class:Q(["alert-holder",`alert_${e.type}`])},[s("div",ie,[s("div",ue,[s("ui-icon",{iconName:e.icon,color:t[e.type],size:"24"},null,8,ce)]),s("div",re,[J(n.$slots,"message",{},()=>[K(T(e.message),1)],!0)])])],2))}},pe=x(me,[["__scopeId","data-v-868574ac"]]),_e=s("br",null,null,-1),ve=s("span",null,"You cannot undo this action once performed.",-1),ge={__name:"DeleteCredentialDialog",props:k({credentialId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:k(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const n=e,i=B(e,"modelValue"),o=t,a=["cancel","delete"],{request:d}=V(E()),v=async()=>{await d(`/api/credentials/${n.credentialId}`,"DELETE")<400&&o("deleted")};return(g,C)=>(r(),A(U,{modelValue:i.value,"onUpdate:modelValue":C[0]||(C[0]=y=>i.value=y),actions:a,onSubmit:v,height:"auto",title:"Delete Credential",width:"480px"},{default:L(()=>[s("p",null,[s("span",null,"Are you sure you want to delete this credential ("+T(e.credentialId)+")?",1),_e,ve])]),_:1},8,["modelValue"]))}},M=e=>(te("data-v-6c1a997d"),e=e(),ae(),e),fe={class:"credentials-card",title:"Credentials"},he={slot:"actions"},Ce=M(()=>s("ui-icon",{iconName:"googleAddBaseline",color:"#fff",size:"14"},null,-1)),ye=M(()=>s("span",{class:"add-button-text"},"Add",-1)),De=[Ce,ye],Ee=["headers"],Ie={__name:"CredentialsCard",setup(e){const{result:t,request:n}=V(E(),!1,!0);n("/api/credentials");const i=Z([{value:"name",text:"Name"},{value:"actions",text:"",width:"48px"}]),o=p(!1),a=p("create"),d=p(!1),v=p(""),g=p(""),C=m=>{v.value=m,d.value=!0},y=(m,c)=>{a.value=m,o.value=!0,g.value=c},S=()=>{n("/api/credentials"),o.value=!1},b=()=>{v.value="",d.value=!1,n("/api/credentials")},$=m=>[{key:"edit",color:f.TEXT,text:"Edit",icon:"googleEditBaseline",handler:()=>y("edit",m)},{separated:!0,key:"delete",color:f.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:()=>C(m)}];return(m,c)=>(r(),h(N,null,[s("ui-card",fe,[s("div",he,[s("ui-button",{backgroundColor:"#2C98F0",width:"61px",height:"28px",onClick:c[0]||(c[0]=l=>y("create"))},De)]),s("div",null,[q(t).length>0?(r(),h("ui-table",{key:0,headers:i},[(r(!0),h(N,null,ee(q(t),l=>(r(),h("tr",{key:l.id},[s("td",null,T(l.name),1),s("td",null,[_(R,{class:"credentials-actions",actions:$(l.id)},null,8,["actions"])])]))),128))],8,Ee)):(r(),A(pe,{key:1,message:"No credentials added"}))])]),_(ne,{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=l=>o.value=l),mode:a.value,credentialId:g.value,onCreated:S,onEdited:S},null,8,["modelValue","mode","credentialId"]),_(ge,{modelValue:d.value,"onUpdate:modelValue":c[2]||(c[2]=l=>d.value=l),credentialId:v.value,onDeleted:b},null,8,["modelValue","credentialId"])],64))}},Ve=x(Ie,[["__scopeId","data-v-6c1a997d"]]),xe={class:"upload-schedule-card",title:"Upload Schedule"},Se={__name:"UploadScheduleCard",setup(e){const{result:t,request:n}=V(E());n("/api/settings/schedule-tasks/create-uploads");const i={days:"Daily",weeks:"Weekly"},o=D(()=>{var a;return i[(a=t==null?void 0:t.trigger)==null?void 0:a.unit]});return(a,d)=>(r(),h("ui-card",xe,[s("div",null,[_(O,{bodyText:o.value,assistiveText:"00:00 Â· UTC"},null,8,["bodyText"])])]))}},be=x(Se,[["__scopeId","data-v-cc40f2b1"]]),ke={__name:"MainPage",setup(e){const t=p(""),n=D(()=>({height:t.value}));return E().listen("fullscreenSize",({height:o})=>{t.value=`${o}px`}),le("fullscreen-height",t),(o,a)=>(r(),h("div",{class:"app",style:se(n.value)},[_(be),_(Ve)],4))}},$e=x(ke,[["__scopeId","data-v-220ca1e3"]]);P({"ui-table":z,"ui-icon":F,"ui-button":G,"ui-menu":H,"ui-card":Y,"ui-textfield":W}).then(e=>{const t=oe($e);t.use(j,e),t.mount("#app")});
