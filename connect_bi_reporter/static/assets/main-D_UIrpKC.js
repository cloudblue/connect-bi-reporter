import{s as k,a as C,V as L,H as A,p as $,v as F,o as R,l as O,b as T,c as z}from"./connect-Df-aJ342.js";import{c as g,o as a,b as i,t as m,d as u,e as P,p as M,f as V,g as G,h as q,j as h,u as d,F as v,k as S,w as D,R as H,n as j,l as I,m as U,q as Y,a as K,s as Q,v as W,x as Z,y as J}from"./vendor-inFWfVcc.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const X={__name:"DateItem",props:{date:{type:String,required:!0}},setup(o){const{sharedContext:e}=k(),n=o,c=g(()=>{var s,l,y;return new Intl.DateTimeFormat((s=e==null?void 0:e.timezoneInfo)==null?void 0:s.region.replace("_","-"),{timeZone:(l=e==null?void 0:e.timezoneInfo)==null?void 0:l.timezone,hourCycle:(y=e==null?void 0:e.timezoneInfo)!=null&&y.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(n.date))});return(t,s)=>(a(),i("span",null,m(c.value),1))}},ee=(o,e)=>{const n=o.__vccOpts||o;for(const[c,t]of e)n[c]=t;return n},te=o=>(M("data-v-60059d99"),o=o(),V(),o),oe={class:"empty-placeholder"},se={class:"empty-placeholder_content"},ne={class:"empty-placeholder_icon"},ae=["icon-name"],re=te(()=>u("ui-icon",{"icon-name":"googleAddBaseline",color:"#2C98F0",size:"18"},null,-1)),ce={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(o){return(e,n)=>(a(),i("div",oe,[u("div",se,[u("div",ne,[u("ui-icon",{"icon-name":o.icon,color:"#BDBDBD",size:"56"},null,8,ae)]),u("h2",null,m(o.title),1),u("p",null,m(o.message),1),o.action?(a(),i("ui-button",{key:0,class:"empty-placeholder_action","background-color":"transparent",color:"#2C98F0",onClicked:n[0]||(n[0]=c=>e.$emit("actionClicked"))},[re,u("span",null,m(o.action),1)],32)):P("",!0)])]))}},ie=ee(ce,[["__scopeId","data-v-60059d99"]]),le={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(o){const e=o,{navigateTo:n}=k(),c=t=>{t.preventDefault(),t.stopPropagation(),n(e.to,e.params)};return(t,s)=>(a(),i("a",{onClick:c},[G(t.$slots,"default")]))}},E={NICE_GREEN:"#0BB071",MIDDLE_GREY:"#BDBDBD"},b={ENABLED:"enabled",DISABLED:"disabled"},de={[b.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:E.NICE_GREEN},[b.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:E.MIDDLE_GREY}},ue={title:"Feeds","no-padded":""},pe=["total-items","current-page"],me=["icon-name","icon-color","text"],fe={key:4,class:"truncator"},x={__name:"FeedsView",setup(o){const e=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"}],{items:n,page:c,total:t,load:s,next:l,previous:y}=C("/api/feeds"),B=g(()=>!n.value.length),N=g(()=>n.value.map(f=>({id:f.id,scheduleId:f.schedule.id,createdAt:f.events.created.at,description:f.description,status:de[f.status]}))),w=()=>{};return q(async()=>{await s()}),(f,_)=>(a(),i("ui-view",ue,[B.value?(a(),h(ie,{key:0,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:w})):(a(),i("ui-complex-table",{key:1,headers:e,"total-items":d(t),"current-page":d(c),fixed:"",onNextClicked:_[0]||(_[0]=(...r)=>d(l)&&d(l)(...r)),onPreviousClicked:_[1]||(_[1]=(...r)=>d(y)&&d(y)(...r))},[(a(!0),i(v,null,S(N.value,r=>(a(),i("tr",{key:r.id},[(a(),i(v,null,S(e,p=>u("td",{key:p.key},[p.key==="id"?(a(),h(d(H),{key:0,to:{name:"feeds.details",params:{id:r.id}}},{default:D(()=>[I(m(r.id),1)]),_:2},1032,["to"])):p.key==="schedule"?(a(),h(le,{key:1,to:d(L).reportsScheduleDetails,params:r.scheduleId},{default:D(()=>[I(m(r.scheduleId),1)]),_:2},1032,["to","params"])):p.key==="status"?(a(),i("ui-status",{key:2,"icon-name":r.status.icon,"icon-color":r.status.color,text:r.status.text},null,8,me)):p.key==="createdAt"?(a(),h(X,{key:3,date:r.createdAt},null,8,["date"])):(a(),i("div",fe,[u("span",{class:j(["truncate-text",{"assistive-color":!r[p.key]}])},m(r[p.key]||"â€”"),3)]))])),64))]))),128))],40,pe))]))}},ye=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:x},{name:"feeds.details",path:"/feeds/:id",component:x}],_e=U({history:Y(),routes:ye}),he={__name:"MainPage",setup(o){const e=K(""),n=g(()=>({minHeight:e.value}));return k().listen("containerSize",t=>{e.value=t.height}),(t,s)=>(a(),i("div",{class:"app",style:Z(n.value)},[Q(d(W))],4))}};A({"ui-view":$,"ui-complex-table":F,"ui-icon":R,"ui-button":O,"ui-status":T}).then(o=>{const e=J(he);e.use(_e),e.use(z,o),e.mount("#app")});
