import{s as U,V as G,a as ne,H as de,p as re,v as ce,o as ue,l as pe,b as me,w as _e,z as fe,r as ve,c as he}from"./connect-Ckq0VvEn.js";import{m as B,u as D,c as h,o as n,b as c,d as i,t as y,e as I,w as ee,v as ye,F as N,f as F,g as T,h as m,n as q,a as O,r as z,j as w,k as x,l as A,p as H,q as X,R as te,s as be,i as ge,x as Y,y as ke,z as R,A as ae,B as $e,T as Se,C as Ie,D as Ee,E as Te,G as xe,H as Ve,I as we,J as De}from"./vendor-D5PxE7d-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();const Ce="modulepreload",Re=function(e){return"/static/"+e},J={},Be=function(t,a,o){let s=Promise.resolve();if(a&&a.length>0){const l=document.getElementsByTagName("link");s=Promise.all(a.map(u=>{if(u=Re(u),u in J)return;J[u]=!0;const d=u.endsWith(".css"),r=d?'[rel="stylesheet"]':"";if(!!o)for(let v=l.length-1;v>=0;v--){const k=l[v];if(k.href===u&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${r}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Ce,d||(_.as="script",_.crossOrigin=""),_.href=u,document.head.appendChild(_),d)return new Promise((v,k)=>{_.addEventListener("load",v),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})}))}return s.then(()=>t()).catch(l=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l})},$={NICE_GREEN:"#0BB071",NICE_RED:"#FF6A6A",MIDDLE_GREY:"#BDBDBD",DARK_GREY:"#666666",NICE_BLUE:"#2C98F0",DARKER_BLUE:"#4797f2",TEXT:"#212121",WHITE:"#FFFFFF",TRANSPARENT:"transparent"},C=(e,t)=>{const a=e.__vccOpts||e;for(const[o,s]of t)a[o]=s;return a},Ne={class:"select-input"},Fe={key:0,class:"select-input__label"},Le={class:"select-input__real-input"},Ae=["value"],qe={"full-width":"","close-on-click-inside":""},Ue={slot:"trigger",class:"select-input__selected"},Me=["color"],Pe={slot:"content",class:"select-input__menu"},Oe=["onClick"],ze={key:1,class:"select-input__hint assistive-text"},je={__name:"SelectInput",props:B({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=D(e,"modelValue"),a=e,o=l=>{t.value=l[a.propValue]},s=h(()=>a.options.find(l=>l[a.propValue]===t.value)||null);return(l,u)=>(n(),c("div",Ne,[e.label?(n(),c("div",Fe,[i("p",null,y(e.label),1)])):I("",!0),i("div",Le,[ee(i("select",{"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d)},[(n(!0),c(N,null,F(e.options,d=>(n(),c("option",{key:d[e.propValue],value:d[e.propValue]},null,8,Ae))),128))],512),[[ye,t.value]])]),i("ui-menu",qe,[i("div",Ue,[T(l.$slots,"selected",{selectedItem:s.value},()=>[i("span",null,y(t.value),1)],!0),i("ui-icon",{"icon-name":"googleArrowDropDownBaseline",color:m($).DARK_GREY,size:"24"},null,8,Me)]),i("div",Pe,[(n(!0),c(N,null,F(e.options,d=>(n(),c("div",{key:d[e.propValue],class:q(["select-input__option",{"select-input__option_selected":d[e.propValue]===t.value}]),onClick:r=>o(d)},[T(l.$slots,"option",{option:d,isSelected:d[e.propValue]===t.value},()=>[i("span",null,y(d[e.propValue]),1)],!0)],10,Oe))),128))])]),e.hint||l.$slots.hint?(n(),c("div",ze,[T(l.$slots,"hint",{},()=>[i("p",null,y(e.hint),1)],!0)])):I("",!0)]))}},Ke=C(je,[["__scopeId","data-v-fc9cf8f5"]]),W={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:a}=U(),o=s=>{s.preventDefault(),s.stopPropagation(),a(t.to,t.params)};return(s,l)=>(n(),c("a",{onClick:o},[T(s.$slots,"default")]))}},se=e=>t=>e(...t.detail),Ge=["value","label","placeholder","suffix"],Q={__name:"TextField",props:B({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=D(e,"modelValue"),a=se(o=>t.value=o);return(o,s)=>(n(),c("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:s[0]||(s[0]=(...l)=>m(a)&&m(a)(...l))},null,40,Ge))}};class He extends Error{constructor(t,a){super(t),this.status=a}}const Xe=(e,t)=>{let a=`Error ${e.status}: ${e.statusText}.`;return t&&(t.error_code&&(a+=` Error code: ${t.error_code}.`),t.errors&&(a+=t.errors.map(o=>` ${o}`).join(""))),a},Ye=async e=>{let t;try{t=await e.clone().json()}catch{t=await e.text()}return t},We=async(e,t="GET",a=null,o=!1)=>{const s={method:t,headers:{"Content-Type":"application/json"}};a&&(s.body=JSON.stringify(a));const l=await fetch(e,s),u=await Ye(l);if(!l.ok){const d=Xe(l,u);throw new He(d)}return o?{status:l.status,body:u}:u},L=(e,t=!1,a=!1)=>{const o=O(!1),s=a?z([]):z({});return{loading:o,result:s,request:async(u,d,r)=>{o.value=!0;try{const p=await We(u,d,r,!0);return a?(s.splice(0),s.push(...p.body)):(Object.assign(s,{}),Object.assign(s,p.body)),p.status}catch(p){if(e.emit("snackbar:error",p.message),t)throw p;return p.status}finally{o.value=!1}}}},le=e=>(H("data-v-06ab71a6"),e=e(),X(),e),Je={class:"destination-tab"},Qe=le(()=>i("span",null,"You may add credentials in the",-1)),Ze=le(()=>i("span",null,"settings page",-1)),et={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=D(e,"credentialId"),a=D(e,"fileName"),o=D(e,"description"),s=U(),{result:l,request:u}=L(s,!1,!0),d=h(()=>{var p;return(p=s.sharedContext.currentInstallation)==null?void 0:p.id}),r=h(()=>{var p,_,v;return(v=(_=(p=s.sharedContext.currentInstallation)==null?void 0:p.environment)==null?void 0:_.extension)==null?void 0:v.name});return u("/api/credentials"),(p,_)=>(n(),c("div",Je,[w(Ke,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=v=>t.value=v),class:"destination-tab__input",options:m(l),label:"Credentials","prop-display":"name","prop-value":"id"},{selected:x(({selectedItem:v})=>[A(y((v==null?void 0:v.name)||"–"),1)]),option:x(({option:v})=>[A(y(v.name),1)]),hint:x(()=>[Qe,w(W,{class:"destination-tab__hint",to:m(G).extensionSettings,params:d.value},{default:x(()=>[A(y(r.value),1)]),_:1},8,["to","params"]),Ze]),_:1},8,["modelValue","options"]),w(Q,{modelValue:a.value,"onUpdate:modelValue":_[1]||(_[1]=v=>a.value=v),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),w(Q,{modelValue:o.value,"onUpdate:modelValue":_[2]||(_[2]=v=>o.value=v),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},tt=C(et,[["__scopeId","data-v-06ab71a6"]]),K={ENABLED:"enabled",DISABLED:"disabled"},oe={[K.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:$.NICE_GREEN},[K.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:$.MIDDLE_GREY}},P=e=>(H("data-v-70dec868"),e=e(),X(),e),at={class:"feed-summary"},st=P(()=>i("p",{class:"feed-summary__title"},"Summary",-1)),lt={class:"feed-summary__row"},ot=P(()=>i("p",{class:"feed-summary__label"},"Feed",-1)),it={class:"feed-summary__row"},nt=P(()=>i("p",{class:"feed-summary__label"},"Status",-1)),dt=["icon-name","icon-color","text"],rt={class:"feed-summary__row"},ct=P(()=>i("p",{class:"feed-summary__label"},"Report Schedule",-1)),ut={class:"feed-summary__row"},pt=P(()=>i("p",{class:"feed-summary__label"},"Credential",-1)),mt={class:"feed-summary__row"},_t=P(()=>i("p",{class:"feed-summary__label"},"Description",-1)),ft={class:"truncator"},vt={class:"truncate-text"},ht={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,a=h(()=>oe[t.status]),o=h(()=>({name:"feeds.details",params:{id:t.id}}));return(s,l)=>(n(),c("div",at,[st,i("div",lt,[ot,w(m(te),{to:o.value},{default:x(()=>[A(y(e.id),1)]),_:1},8,["to"])]),i("div",it,[nt,i("ui-status",{"icon-name":a.value.icon,"icon-color":a.value.color,text:a.value.text},null,8,dt)]),i("div",rt,[ct,w(W,{to:m(G).reportsScheduleDetails,params:e.scheduleId},{default:x(()=>[A(y(e.scheduleId),1)]),_:1},8,["to","params"])]),i("div",ut,[pt,i("p",null,y(e.credential),1)]),i("div",mt,[_t,i("div",ft,[i("p",vt,y(e.description),1)])])]))}},yt=C(ht,[["__scopeId","data-v-70dec868"]]),bt={class:"dialog__header"},gt={class:"dialog__title"},kt={class:"dialog__body"},$t={key:0,class:"dialog__sidebar"},St={class:"dialog__content-wrapper"},It={class:"dialog__content"},Et={class:"dialog__actions"},Tt=["disabled","color","onClicked"],xt=["color"],Vt={key:1,class:"dialog__action-label"},wt={__name:"SimpleDialog",props:B({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>["cancel","close","details","save","submit","spacer","next","back"].includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:B(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const a=D(e,"modelValue"),o=e,s=t,l=be(),u=O(!1),d=async()=>{u.value=!0;try{await o.onSubmit()}finally{u.value=!1}},r=()=>a.value=!1,p=h(()=>({cancel:{key:"cancel",handler:r,label:"Cancel"},close:{key:"close",handler:r,label:"Close"},submit:{key:"submit",disabled:!o.isValid,handler:d,label:o.submitLabel||"Submit",loading:u.value,color:$.NICE_BLUE},save:{key:"save",disabled:!o.isValid,handler:async()=>{await d(),r()},label:o.submitLabel||"Save",loading:u.value,color:$.NICE_BLUE},details:{key:"details",handler:()=>l.push(o.detailsRoute),label:"Go to details"},spacer:{key:"spacer"},next:{key:"next",disabled:!o.isValid,handler:()=>s("next"),label:"Next",color:$.NICE_BLUE},back:{key:"back",disabled:o.backDisabled,handler:()=>s("back"),label:"Back"}})),_=h(()=>o.actions.map(k=>p.value[k])),v=ge("fullscreen-height");return Y(a,k=>{k?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),ke(()=>{document.documentElement.classList.remove("is-clipped")}),(k,E)=>(n(),R(Se,{to:".dialogs-container"},[a.value?(n(),c("div",$e({key:0},k.$attrs,{class:"dialog",style:{height:m(v)}}),[i("div",{class:"dialog__container",style:ae({height:e.height,width:e.width})},[i("div",bt,[T(k.$slots,"header",{},()=>[i("p",gt,y(e.title),1)],!0)]),i("div",kt,[k.$slots.sidebar?(n(),c("div",$t,[T(k.$slots,"sidebar",{},void 0,!0)])):I("",!0),i("div",St,[i("div",It,[T(k.$slots,"default",{},void 0,!0)]),i("div",Et,[(n(!0),c(N,null,F(_.value,g=>(n(),c(N,null,[g.key==="spacer"?(n(),c("div",{key:g.key,class:"dialog__spacer"})):(n(),c("ui-button",{key:g.key,class:"dialog__action",disabled:g.disabled,color:g.color||m($).TEXT,height:"36px","background-color":"transparent",onClicked:g.handler},[g.loading?(n(),c("ui-icon",{key:0,class:"dialog__action-icon",color:g.color||m($).TEXT,"icon-name":"connectLoaderAnimated",size:"24"},null,8,xt)):(n(),c("span",Vt,y(g.label),1))],40,Tt))],64))),256))])])])],4)],16)):I("",!0)]))}},Dt=C(wt,[["__scopeId","data-v-4bbd847e"]]),Ct=["onClick"],Rt={key:0,class:"vertical-tabs__tab-index"},Bt=["color"],Nt={key:1},Ft=["color"],Lt={__name:"VerticalTabs",props:B({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,a=D(e,"activeTabKey"),o=h(()=>t.tabs.findIndex(d=>d.key===a.value)),s=h(()=>t.tabs.map((d,r)=>({...d,step:r+1,active:r===o.value,inactive:t.linear&&r>o.value,classes:{"vertical-tabs__tab_active":r===o.value,"vertical-tabs__tab_inactive":d.skipStep||t.linear&&r>o.value}}))),l=h(()=>({"vertical-tabs_linear":t.linear})),u=d=>{t.linear||(a.value=d.key)};return(d,r)=>(n(),c("div",{class:q(["vertical-tabs",l.value])},[(n(!0),c(N,null,F(s.value,p=>(n(),c("div",{key:p.key,class:q(["vertical-tabs__tab",p.classes]),onClick:_=>u(p)},[t.linear?(n(),c("div",Rt,[p.skipStep?(n(),c("ui-icon",{key:0,"icon-name":"googleArrowDownwardBaseline",color:m($).NICE_BLUE,size:"18"},null,8,Bt)):p.inactive||p.active?(n(),c("span",Nt,y(p.step),1)):(n(),c("ui-icon",{key:2,"icon-name":"googleCheckBaseline",color:m($).NICE_BLUE,size:"18"},null,8,Ft))])):I("",!0),i("p",null,y(p.label),1)],10,Ct))),128))],2))}},At=C(Lt,[["__scopeId","data-v-bff37898"]]),qt={__name:"FormDialog",props:B({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return["wizard","edit"].includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,a=D(e,"modelValue"),o=O(""),s=h(()=>t.tabs.findIndex(V=>V.key===o.value)),l=h(()=>t.tabs.find(V=>V.key===o.value)),u=h(()=>s.value===0),d=h(()=>s.value===t.tabs.length-1),r=h(()=>o.value==="summary"),p=h(()=>l.value.submittable),_=h(()=>t.mode==="edit"?t.title:r.value?`${t.title} – Summary`:`${t.title} – Step ${s.value+1}`),v=h(()=>(l.value.includes||[]).every(S=>{const M=t.rules[S];return M?M.every(ie=>ie(t.form[S])):!0})),k=V=>{o.value=t.tabs[V].key},E=()=>{const V=s.value+1;k(V)},g=()=>{const V=s.value-1;k(V)},f=async()=>{try{await t.onSubmit(),t.mode==="wizard"&&!d.value&&E()}catch{}},b=h(()=>t.mode==="edit"?["spacer","close","save"]:r.value?["spacer","details","close"]:p.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return Y(a,()=>k(0),{immediate:!0}),(V,S)=>(n(),R(Dt,{modelValue:a.value,"onUpdate:modelValue":S[1]||(S[1]=M=>a.value=M),class:q(["form-dialog",`form-dialog_${e.mode}`]),actions:b.value,"back-disabled":u.value,"details-route":e.detailsRoute,height:e.height,"is-valid":v.value,"on-submit":f,title:_.value,width:e.width,onBack:g,onNext:E},{sidebar:x(()=>[w(At,{"active-tab-key":o.value,"onUpdate:activeTabKey":S[0]||(S[0]=M=>o.value=M),tabs:e.tabs,linear:e.mode==="wizard"},null,8,["active-tab-key","tabs","linear"])]),default:x(()=>[T(V.$slots,o.value)]),_:3},8,["modelValue","class","actions","back-disabled","details-route","height","is-valid","title","width"]))}},Ut={key:0,class:"detail-item__head"},Mt={key:0,class:"detail-item__subhead"},Pt={class:"detail-item__content-holder"},Ot={key:0,class:"detail-item__image"},zt={class:"detail-item__content"},jt={key:0,class:"detail-item__text"},Kt={key:1,class:"detail-item__assistive-text"},Gt={__name:"DetailItem",props:{title:{type:String,default:""},subtitle:{type:String,default:""},bodyText:{type:String,default:""},assistiveText:{type:String,default:""},dense:{type:Boolean,default:!1}},setup(e){return(t,a)=>(n(),c("div",{class:q(["detail-item",{"detail-item_dense":e.dense}])},[e.title||t.$slots.title?(n(),c("div",Ut,[T(t.$slots,"title",{},()=>[i("span",null,y(e.title),1),e.subtitle?(n(),c("span",Mt,y(e.subtitle),1)):I("",!0)],!0)])):I("",!0),i("div",Pt,[t.$slots.image?(n(),c("div",Ot,[T(t.$slots,"image",{},void 0,!0)])):I("",!0),i("div",zt,[T(t.$slots,"content",{},()=>[e.bodyText||t.$slots["body-text"]?(n(),c("div",jt,[T(t.$slots,"body-text",{},()=>[i("span",null,y(e.bodyText),1)],!0)])):I("",!0),e.assistiveText||t.$slots["assistive-text"]?(n(),c("div",Kt,[T(t.$slots,"assistive-text",{},()=>[i("span",null,y(e.assistiveText),1)],!0)])):I("",!0)],!0)])])],2))}},Ht=C(Gt,[["__scopeId","data-v-f5710ba6"]]),Xt=["icon-name","color"],Yt=["value"],Wt={class:"radio-input__label-text"},Jt={__name:"RadioInput",props:B({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=D(e,"modelValue"),a=e,o=h(()=>t.value===a.value),s=h(()=>o.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),l=h(()=>o.value?$.NICE_BLUE:""),u=()=>{t.value=a.value};return(d,r)=>(n(),c("div",{class:"radio-input",onClick:u},[i("ui-icon",{class:"radio-input__box","icon-name":s.value,color:l.value},null,8,Xt),i("label",{class:q(["radio-input__label",{"radio-input__label_empty":!e.label}])},[ee(i("input",{"onUpdate:modelValue":r[0]||(r[0]=p=>t.value=p),value:e.value,class:"radio-input__input",type:"radio"},null,8,Yt),[[Ie,t.value]]),i("span",Wt,y(e.label),1)],2)]))}},Qt=C(Jt,[["__scopeId","data-v-beee31f1"]]),Zt={class:"radio-table"},ea={class:"radio-table__title"},ta={key:0,class:"radio-table__search"},aa=["placeholder"],sa={class:"radio-table__table"},la=["onClick"],oa={class:"radio-table__item-content"},ia={__name:"RadioTable",props:B({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:B(["search"],["update:modelValue"]),setup(e,{emit:t}){const a=D(e,"modelValue"),o=t,s=e,l=d=>{a.value=d[s.valueProp]},u=se(d=>{o("search",d)});return(d,r)=>(n(),c("div",Zt,[i("p",ea,y(e.title),1),e.hideSearch?I("",!0):(n(),c("div",ta,[i("ui-textfield",{placeholder:e.searchPlaceholder,onInput:r[0]||(r[0]=(...p)=>m(u)&&m(u)(...p))},null,40,aa)])),i("div",sa,[(n(!0),c(N,null,F(e.items,p=>(n(),c("div",{key:p[e.valueProp],class:"radio-table__item",onClick:_=>l(p)},[i("div",oa,[T(d.$slots,"default",{item:p},void 0,!0)]),w(Qt,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=_=>a.value=_),value:p[e.valueProp]},null,8,["modelValue","value"])],8,la))),128))])]))}},na=C(ia,[["__scopeId","data-v-7033db48"]]),da=(e,t=200)=>{let a=null;return(...o)=>{window.clearTimeout(a),a=window.setTimeout(()=>{e(...o)},t)}},ra={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=D(e,"modelValue"),{result:a,request:o}=L(U(),!1,!0),s=h(()=>a.filter(d=>d.renderer==="csv")),l=async(d="")=>{let r="/public/v1/reporting/schedules?limit=100";d&&(r+=`&(((ilike(id,${d}*))|(ilike(name,*${d}*))))`),await o(r)},u=da(l,500);return l(),(d,r)=>(n(),R(na,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=p=>t.value=p),items:s.value,"search-placeholder":"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:m(u)},{default:x(({item:p})=>[w(Ht,{"body-text":p.name,"assistive-text":p.id},null,8,["body-text","assistive-text"])]),_:1},8,["modelValue","items","onSearch"]))}},Z=e=>!!e,j={required:e=>t=>e&&e.prop?Z(t[e.prop]):Z(t)},ca={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:B(["created"],["update:modelValue"]),setup(e,{emit:t}){const a=D(e,"modelValue"),o=t,s=U(),{result:l,request:u}=L(s,!0),d=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],r=z({scheduleId:"",credentialId:"",fileName:"",description:""}),p={scheduleId:[j.required()],credentialId:[j.required()],fileName:[j.required()]},_=h(()=>{var g,f;return{id:l.id,scheduleId:(g=l.schedule)==null?void 0:g.id,credential:(f=l.credential)==null?void 0:f.id,description:l.description,status:l.status}}),v=h(()=>({name:"feeds.details",params:{id:_.value.id}})),k=async()=>{await u("/api/feeds","POST",{schedule:{id:r.scheduleId},credential:{id:r.credentialId},file_name:r.fileName,description:r.description}),o("created")},E=()=>{r.scheduleId="",r.credentialId="",r.fileName="",r.description=""};return Y(a,g=>{g||E()},{immediate:!0}),(g,f)=>(n(),R(qt,{modelValue:a.value,"onUpdate:modelValue":f[4]||(f[4]=b=>a.value=b),form:r,rules:p,"on-submit":k,tabs:d,"details-route":v.value,title:"Create Feed",mode:"wizard","submit-label":"Create"},{schedule:x(()=>[w(ra,{modelValue:r.scheduleId,"onUpdate:modelValue":f[0]||(f[0]=b=>r.scheduleId=b)},null,8,["modelValue"])]),destination:x(()=>[w(tt,{"credential-id":r.credentialId,"onUpdate:credentialId":f[1]||(f[1]=b=>r.credentialId=b),"file-name":r.fileName,"onUpdate:fileName":f[2]||(f[2]=b=>r.fileName=b),description:r.description,"onUpdate:description":f[3]||(f[3]=b=>r.description=b)},null,8,["credential-id","file-name","description"])]),summary:x(()=>[w(yt,{id:_.value.id,status:_.value.status,description:_.value.description,credential:_.value.credential,"schedule-id":_.value.scheduleId},null,8,["id","status","description","credential","schedule-id"])]),_:1},8,["modelValue","form","details-route"]))}},ua={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=U(),a=e,o=h(()=>{var l,u,d;return new Intl.DateTimeFormat((l=t==null?void 0:t.timezoneInfo)==null?void 0:l.region.replace("_","-"),{timeZone:(u=t==null?void 0:t.timezoneInfo)==null?void 0:u.timezone,hourCycle:(d=t==null?void 0:t.timezoneInfo)!=null&&d.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(a.date))});return(s,l)=>(n(),c("span",null,y(o.value),1))}},pa={class:"empty-placeholder"},ma={class:"empty-placeholder_content"},_a={class:"empty-placeholder_icon"},fa=["icon-name","color"],va=["color"],ha=["color"],ya={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,a)=>(n(),c("div",pa,[i("div",ma,[i("div",_a,[i("ui-icon",{"icon-name":e.icon,color:m($).MIDDLE_GREY,size:"56"},null,8,fa)]),i("h2",null,y(e.title),1),i("p",null,y(e.message),1),e.action?(n(),c("ui-button",{key:0,class:"empty-placeholder_action","background-color":"transparent",color:m($).NICE_BLUE,onClicked:a[0]||(a[0]=o=>t.$emit("actionClicked"))},[i("ui-icon",{"icon-name":"googleAddBaseline",color:m($).NICE_BLUE,size:"18"},null,8,ha),i("span",null,y(e.action),1)],40,va)):I("",!0)])]))}},ba=C(ya,[["__scopeId","data-v-47ae6665"]]),ga={class:"feed-actions",align:"right"},ka={slot:"trigger"},$a={slot:"content",class:"actions-menu"},Sa={key:0,class:"horizontal-divider"},Ia=["background-color","color","disabled","onClicked"],Ea={class:"button-content"},Ta=["icon-name","color"],xa={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const a=e,o=t,s=U(),l=L(s),u=L(s),d=L(s),r=L(s),p=h(()=>a.feed.id),_=h(()=>a.feed.status===K.DISABLED),v=async()=>{await u.request(`/api/feeds/${p.value}/disable`,"POST")<400&&o("disabled")},k=async()=>{await l.request(`/api/feeds/${p.value}/enable`,"POST")<400&&o("enabled")},E=async()=>{await r.request(`/api/feeds/${p.value}/uploads/force`,"POST")<400&&o("uploaded")},g=async()=>{await d.request(`/api/feeds/${p.value}`,"DELETE")<400&&o("deleted")},f=z([{action:"disable",color:$.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:u.loading,hide:_,handler:v},{action:"enable",color:$.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:l.loading,hide:!_.value,handler:k},{action:"forceUpload",color:$.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:r.loading,disabled:_.value,handler:E},{separated:!0,action:"delete",color:$.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",loading:d.loading,handler:g}]);return(b,V)=>(n(),c("ui-menu",ga,[i("div",ka,[T(b.$slots,"default",{},void 0,!0)]),i("div",$a,[(n(!0),c(N,null,F(f,S=>(n(),c("div",{key:S.action,class:"action-button__wrapper"},[S.separated?(n(),c("div",Sa)):I("",!0),S.hide?I("",!0):(n(),c("ui-button",{key:1,ref_for:!0,ref:S.action,class:"action-button","background-color":m($).TRANSPARENT,color:S.color,disabled:S.disabled,height:"32px",width:"156px",onClicked:S.handler},[i("div",Ea,[i("ui-icon",{"icon-name":S.loading?"connectLoaderAnimated":S.icon,color:S.color,size:"18"},null,8,Ta),i("span",null,y(S.text),1)])],40,Ia))]))),128))])]))}},Va=C(xa,[["__scopeId","data-v-762a5876"]]),wa={class:"loading-indicator"},Da=["size","color"],Ca={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,a)=>(n(),c("div",wa,[i("ui-icon",{"icon-name":"connectLoaderAnimated",size:e.size,color:m($).DARKER_BLUE},null,8,Da)]))}},Ra=C(Ca,[["__scopeId","data-v-bf2c85cd"]]),Ba=e=>(H("data-v-39b9b91e"),e=e(),X(),e),Na={title:"Feeds",style:{height:"inherit"},"no-padded":""},Fa={key:0,slot:"actions",class:"header-actions"},La=["background-color","color"],Aa=Ba(()=>i("span",null,"Create Feed",-1)),qa=[Aa],Ua=["total-items","current-page"],Ma=["icon-name","icon-color","text"],Pa=["background-color"],Oa=["color"],za={key:5,class:"truncator"},ja={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:a,page:o,total:s,load:l,loading:u,next:d,previous:r}=ne("/api/feeds"),p=h(()=>!a.value.length),_=h(()=>a.value.map(E=>({id:E.id,scheduleId:E.schedule.id,createdAt:E.events.created.at,description:E.description,status:oe[E.status],rawFeed:E}))),v=O(!1),k=()=>{v.value=!0};return Ee(async()=>{await l()}),(E,g)=>(n(),c("ui-view",Na,[p.value?I("",!0):(n(),c("div",Fa,[i("ui-button",{class:"header-button","background-color":m($).WHITE,color:m($).TEXT,height:"36px",onClicked:k},qa,40,La)])),m(u)?(n(),R(Ra,{key:1})):p.value?(n(),R(ba,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:k})):(n(),c("ui-complex-table",{key:3,headers:t,"total-items":m(s),"current-page":m(o),fixed:"",onNextClicked:g[0]||(g[0]=(...f)=>m(d)&&m(d)(...f)),onPreviousClicked:g[1]||(g[1]=(...f)=>m(r)&&m(r)(...f))},[(n(!0),c(N,null,F(_.value,f=>(n(),c("tr",{key:f.id},[(n(),c(N,null,F(t,b=>i("td",{key:b.key},[b.key==="id"?(n(),R(m(te),{key:0,to:{name:"feeds.details",params:{id:f.id}}},{default:x(()=>[A(y(f.id),1)]),_:2},1032,["to"])):b.key==="schedule"?(n(),R(W,{key:1,to:m(G).reportsScheduleDetails,params:f.scheduleId},{default:x(()=>[A(y(f.scheduleId),1)]),_:2},1032,["to","params"])):b.key==="status"?(n(),c("ui-status",{key:2,"icon-name":f.status.icon,"icon-color":f.status.color,text:f.status.text},null,8,Ma)):b.key==="createdAt"?(n(),R(ua,{key:3,date:f.createdAt},null,8,["date"])):I("",!0),b.key==="actions"?(n(),R(Va,{key:4,feed:f.rawFeed,onEnabled:m(l),onDisabled:m(l),onUploaded:m(l),onDeleted:m(l)},{default:x(()=>[i("ui-button",{class:"actions-button","background-color":m($).WHITE,height:"36px",width:"36px"},[i("ui-icon",{class:"actions-button__trigger-icon",color:m($).TEXT,"icon-name":"googleMoreVertBaseline"},null,8,Oa)],8,Pa)]),_:2},1032,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):b.key==="description"?(n(),c("div",za,[i("span",{class:q(["truncate-text",{"assistive-color":!f[b.key]}])},y(f[b.key]||"—"),3)])):I("",!0)])),64))]))),128))],40,Ua)),w(ca,{modelValue:v.value,"onUpdate:modelValue":g[2]||(g[2]=f=>v.value=f),onCreated:m(l)},null,8,["modelValue","onCreated"])]))}},Ka=C(ja,[["__scopeId","data-v-39b9b91e"]]),Ga=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:Ka},{name:"feeds.details",path:"/feeds/:id",component:()=>Be(()=>import("./FeedDetails-sUq8N4V8.js"),__vite__mapDeps([0,1,2,3]))}],Ha=Te({history:xe(),routes:Ga}),Xa=i("div",{class:"dialogs-container"},null,-1),Ya={__name:"MainPage",setup(e){const t=O(""),a=h(()=>({height:t.value}));return U().listen("fullscreenSize",({height:s})=>{t.value=`${s}px`}),Ve("fullscreen-height",t),(s,l)=>(n(),c("div",{class:"app",style:ae(a.value)},[Xa,w(m(we))],4))}};de({"ui-view":re,"ui-complex-table":ce,"ui-icon":ue,"ui-button":pe,"ui-status":me,"ui-menu":_e,"ui-tabs":fe,"ui-textfield":ve}).then(e=>{const t=De(Ya);t.use(Ha),t.use(he,e),t.mount("#app")});export{$ as C,tt as D,Va as F,Ra as L,oe as S,C as _,qt as a,Ht as b,W as c,ua as d,L as u,j as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-sUq8N4V8.js","assets/connect-Ckq0VvEn.js","assets/vendor-D5PxE7d-.js","assets/FeedDetails-qEcfGsYt.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
