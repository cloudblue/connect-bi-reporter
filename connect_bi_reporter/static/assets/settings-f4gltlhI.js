import{_ as I,u as x,a as w,S as B,A as L,C as q,D as R}from"./ActionsMenu-DY0nO6r5.js";import{s as V,H as z,d as O,o as P,l as H,w as j,e as W,r as X,c as Y}from"./connect-D4MJftOU.js";import{m as $,u as N,a as p,c as C,s as G,o as r,x as E,k as F,j as _,b as f,d as s,g as J,l as K,t as k,n as Q,r as Z,h as T,F as U,f as ee,p as te,q as ae,E as le,H as se,I as ne}from"./vendor-CHr06oAK.js";const oe={__name:"AddEditCredentialDialog",props:$({mode:{type:String,required:!0},credentialId:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:$(["created","edited"],["update:modelValue"]),setup(e,{emit:t}){const d=t,i=e,n=N(e,"modelValue"),a=p(""),o=p(""),v=C(()=>{var l,u;return((l=a.value)==null?void 0:l.length)>0&&((u=o.value)==null?void 0:u.length)>0}),g=C(()=>i.mode==="edit"),h=C(()=>g.value?"Edit Credentials":"Add Credentials"),y=C(()=>g.value?"Save":"Add"),D=["cancel","submit"],S=x(V()),A=async()=>{const{result:l,request:u}=x(V());await u(`/api/credentials/${i.credentialId}`),a.value=l.name,o.value=l.connection_string},m=()=>{a.value="",o.value=""},c=async()=>{i.mode==="create"?await S.request("/api/credentials","POST",{name:a.value,connection_string:o.value})<400&&d("created"):await S.request(`/api/credentials/${i.credentialId}`,"PUT",{name:a.value,connection_string:o.value})<400&&d("edited")};return G(()=>n.value,()=>{m(),i.mode==="edit"&&A()},{immediate:!0}),(l,u)=>(r(),E(B,{modelValue:n.value,"onUpdate:modelValue":u[2]||(u[2]=b=>n.value=b),title:h.value,actions:D,onSubmit:c,height:"auto",width:"480px",submitLabel:y.value,isValid:v.value},{default:F(()=>[_(w,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=b=>a.value=b),class:"dialog-input",label:"Name"},null,8,["modelValue"]),_(w,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=b=>o.value=b),class:"dialog-input",label:"Connection String"},null,8,["modelValue"])]),_:1},8,["modelValue","title","submitLabel","isValid"]))}},de=I(oe,[["__scopeId","data-v-6d4e2352"]]),ie={class:"alert"},ue={class:"alert__icon"},ce=["iconName","color"],re={class:"alert__text"},me={__name:"AlertItem",props:{message:{type:String,default:"List is empty. Please add item."},icon:{type:String,default:"googleInfoBaseline"},type:{type:String,default:"default"}},setup(e){const t={info:"#0055ff",error:"#FF6A6A",success:"#0bb071",warning:"#FFC700",default:"#bdbdbd"};return(d,i)=>(r(),f("div",{class:Q(["alert-holder",`alert_${e.type}`])},[s("div",ie,[s("div",ue,[s("ui-icon",{iconName:e.icon,color:t[e.type],size:"24"},null,8,ce)]),s("div",re,[J(d.$slots,"message",{},()=>[K(k(e.message),1)],!0)])])],2))}},pe=I(me,[["__scopeId","data-v-1d238166"]]),_e=s("br",null,null,-1),ve=s("span",null,"You cannot undo this action once performed.",-1),ge={__name:"DeleteCredentialDialog",props:$({credentialId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:$(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const d=e,i=N(e,"modelValue"),n=t,a=["cancel","delete"],{request:o}=x(V()),v=async()=>{await o(`/api/credentials/${d.credentialId}`,"DELETE")<400&&n("deleted")};return(g,h)=>(r(),E(B,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=y=>i.value=y),actions:a,onSubmit:v,height:"auto",title:"Delete Credential",width:"480px"},{default:F(()=>[s("p",null,[s("span",null,"Are you sure you want to delete this credential ("+k(e.credentialId)+")?",1),_e,ve])]),_:1},8,["modelValue"]))}},M=e=>(te("data-v-f4793745"),e=e(),ae(),e),fe={class:"credentials-card",title:"Credentials"},he={slot:"actions"},ye=M(()=>s("ui-icon",{iconName:"googleAddBaseline",color:"#fff",size:"14"},null,-1)),Ce=M(()=>s("span",{class:"add-button-text"},"Add",-1)),Ve=[ye,Ce],be=["headers"],xe={__name:"CredentialsCard",setup(e){const{result:t,request:d}=x(V(),!1,!0);d("/api/credentials");const i=Z([{value:"name",text:"Name"},{value:"actions",text:"",width:"48px"}]),n=p(!1),a=p("create"),o=p(!1),v=p(""),g=p(""),h=m=>{v.value=m,o.value=!0},y=(m,c)=>{a.value=m,n.value=!0,g.value=c},D=()=>{d("/api/credentials"),n.value=!1},S=()=>{v.value="",o.value=!1,d("/api/credentials")},A=m=>[{key:"edit",color:q.TEXT,text:"Edit",icon:"googleEditBaseline",handler:()=>y("edit",m)},{separated:!0,key:"delete",color:q.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:()=>h(m)}];return(m,c)=>(r(),f(U,null,[s("ui-card",fe,[s("div",he,[s("ui-button",{backgroundColor:"#2C98F0",width:"61px",height:"28px",onClick:c[0]||(c[0]=l=>y("create"))},Ve)]),s("div",null,[T(t).length>0?(r(),f("ui-table",{key:0,headers:i},[(r(!0),f(U,null,ee(T(t),l=>(r(),f("tr",{key:l.id},[s("td",null,k(l.name),1),s("td",null,[_(L,{class:"credentials-actions",actions:A(l.id)},null,8,["actions"])])]))),128))],8,be)):(r(),E(pe,{key:1,message:"No credentials added"}))])]),_(de,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=l=>n.value=l),mode:a.value,credentialId:g.value,onCreated:D,onEdited:D},null,8,["modelValue","mode","credentialId"]),_(ge,{modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=l=>o.value=l),credentialId:v.value,onDeleted:S},null,8,["modelValue","credentialId"])],64))}},Ie=I(xe,[["__scopeId","data-v-f4793745"]]),De={class:"upload-schedule-card",title:"Upload Schedule"},Se={__name:"UploadScheduleCard",setup(e){const{result:t,request:d}=x(V());d("/api/settings/schedule-tasks/create-uploads");const i={days:"Daily",weeks:"Weekly"},n=C(()=>{var a;return i[(a=t==null?void 0:t.trigger)==null?void 0:a.unit]});return(a,o)=>(r(),f("ui-card",De,[s("div",null,[_(R,{bodyText:n.value,assistiveText:"00:00 Â· UTC"},null,8,["bodyText"])])]))}},$e=I(Se,[["__scopeId","data-v-cc40f2b1"]]),Ae={__name:"MainPage",setup(e){const t=p(""),d=C(()=>({height:t.value}));return V().listen("fullscreenSize",({height:n})=>{t.value=`${n}px`}),le("fullscreen-height",t),(n,a)=>(r(),f("div",{class:"app",style:se(d.value)},[_($e),_(Ie)],4))}},Ee=I(Ae,[["__scopeId","data-v-2073f1a4"]]);z({"ui-table":O,"ui-icon":P,"ui-button":H,"ui-menu":j,"ui-card":W,"ui-textfield":X}).then(e=>{const t=ne(Ee);t.use(Y,e),t.mount("#app")});
