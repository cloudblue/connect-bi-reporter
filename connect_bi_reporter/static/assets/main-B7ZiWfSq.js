import{_ as A,C as S,u as P,D as pe,A as _e}from"./ActionsMenu-Dfye5i2Y.js";import{s as B,V as W,a as ve,H as fe,p as he,v as be,o as ye,l as ge,b as Se,w as ke,z as Ee,r as Ie,c as $e}from"./connect-CA_gaIcb.js";import{m as V,u as T,c as f,o as d,b as m,d as i,t as k,e as N,w as se,v as Ce,F as R,f as O,g as w,h as v,n as G,j as $,k as C,l as q,p as Z,q as J,R as oe,s as De,a as j,i as Te,x as Q,y as Ve,z as ie,A as xe,B as x,C as Ne,D as we,r as ne,E as Ae,G as Le,H as Re,I as Be,J as Fe,K as Ue,L as Pe}from"./vendor-D-t8o7Gd.js";const qe="modulepreload",Oe=function(e){return"/static/"+e},te={},Me=function(t,a,n){let u=Promise.resolve();if(a&&a.length>0){const l=document.getElementsByTagName("link");u=Promise.all(a.map(r=>{if(r=Oe(r),r in te)return;te[r]=!0;const s=r.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let h=l.length-1;h>=0;h--){const E=l[h];if(E.href===r&&(!s||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${o}`))return;const p=document.createElement("link");if(p.rel=s?"stylesheet":qe,s||(p.as="script",p.crossOrigin=""),p.href=r,document.head.appendChild(p),s)return new Promise((h,E)=>{p.addEventListener("load",h),p.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${r}`)))})}))}return u.then(()=>t()).catch(l=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l})},ze={class:"select-input"},Ge={key:0,class:"select-input__label"},Ke={class:"select-input__real-input"},je=["value"],Xe={fullWidth:"",closeOnClickInside:""},Ye={slot:"trigger",class:"select-input__selected"},He=["color"],We={slot:"content",class:"select-input__menu"},Ze=["onClick"],Je={key:1,class:"select-input__hint assistive-text"},Qe={__name:"SelectInput",props:V({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),a=e,n=l=>{t.value=l[a.propValue]},u=f(()=>a.options.find(l=>l[a.propValue]===t.value)||null);return(l,r)=>(d(),m("div",ze,[e.label?(d(),m("div",Ge,[i("p",null,k(e.label),1)])):N("",!0),i("div",Ke,[se(i("select",{"onUpdate:modelValue":r[0]||(r[0]=s=>t.value=s)},[(d(!0),m(R,null,O(e.options,s=>(d(),m("option",{key:s[e.propValue],value:s[e.propValue]},null,8,je))),128))],512),[[Ce,t.value]])]),i("ui-menu",Xe,[i("div",Ye,[w(l.$slots,"selected",{selectedItem:u.value},()=>[i("span",null,k(t.value),1)],!0),i("ui-icon",{iconName:"googleArrowDropDownBaseline",color:v(S).DARK_GREY,size:"24"},null,8,He)]),i("div",We,[(d(!0),m(R,null,O(e.options,s=>(d(),m("div",{key:s[e.propValue],class:G(["select-input__option",{"select-input__option_selected":s[e.propValue]===t.value}]),onClick:o=>n(s)},[w(l.$slots,"option",{option:s,isSelected:s[e.propValue]===t.value},()=>[i("span",null,k(s[e.propValue]),1)],!0)],10,Ze))),128))])]),e.hint||l.$slots.hint?(d(),m("div",Je,[w(l.$slots,"hint",{},()=>[i("p",null,k(e.hint),1)],!0)])):N("",!0)]))}},et=A(Qe,[["__scopeId","data-v-a46b5290"]]),ee={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:a}=B(),n=u=>{u.preventDefault(),u.stopPropagation(),a(t.to,t.params)};return(u,l)=>(d(),m("a",{onClick:n},[w(u.$slots,"default")]))}},de=e=>t=>e(...t.detail),tt=["value","label","placeholder","suffix"],ae={__name:"TextField",props:V({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),a=de(n=>t.value=n);return(n,u)=>(d(),m("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:u[0]||(u[0]=(...l)=>v(a)&&v(a)(...l))},null,40,tt))}},re=e=>(Z("data-v-a4975057"),e=e(),J(),e),at={class:"destination-tab"},lt=re(()=>i("span",null,"You may add credentials in the",-1)),st=re(()=>i("span",null,"settings page",-1)),ot={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=T(e,"credentialId"),a=T(e,"fileName"),n=T(e,"description"),u=B(),{result:l,request:r}=P(u,!1,!0),s=f(()=>{var c;return(c=u.sharedContext.currentInstallation)==null?void 0:c.id}),o=f(()=>{var c,p,h;return(h=(p=(c=u.sharedContext.currentInstallation)==null?void 0:c.environment)==null?void 0:p.extension)==null?void 0:h.name});return r("/api/credentials"),(c,p)=>(d(),m("div",at,[$(et,{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=h=>t.value=h),class:"destination-tab__input",options:v(l),label:"Credentials",propDisplay:"name",propValue:"id"},{selected:C(({selectedItem:h})=>[q(k((h==null?void 0:h.name)||"–"),1)]),option:C(({option:h})=>[q(k(h.name),1)]),hint:C(()=>[lt,$(ee,{class:"destination-tab__hint",to:v(W).extensionSettings,params:s.value},{default:C(()=>[q(k(o.value),1)]),_:1},8,["to","params"]),st]),_:1},8,["modelValue","options"]),$(ae,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=h=>a.value=h),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),$(ae,{modelValue:n.value,"onUpdate:modelValue":p[2]||(p[2]=h=>n.value=h),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},it=A(ot,[["__scopeId","data-v-a4975057"]]),U={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},ue={[U.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:S.NICE_GREEN},[U.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:S.MIDDLE_GREY},[U.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:S.NICE_RED},[U.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:S.MIDDLE_GREY},[U.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:S.MIDDLE_GREY},[U.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:S.NICE_GREEN}},K=e=>(Z("data-v-2d2ed6fd"),e=e(),J(),e),nt={class:"feed-summary"},dt=K(()=>i("p",{class:"feed-summary__title"},"Summary",-1)),rt={class:"feed-summary__row"},ut=K(()=>i("p",{class:"feed-summary__label"},"Feed",-1)),ct={class:"feed-summary__row"},mt=K(()=>i("p",{class:"feed-summary__label"},"Status",-1)),pt=["iconName","iconColor","text"],_t={class:"feed-summary__row"},vt=K(()=>i("p",{class:"feed-summary__label"},"Report Schedule",-1)),ft={class:"feed-summary__row"},ht=K(()=>i("p",{class:"feed-summary__label"},"Credential",-1)),bt={class:"feed-summary__row"},yt=K(()=>i("p",{class:"feed-summary__label"},"Description",-1)),gt={class:"truncator"},St={class:"truncate-text"},kt={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,a=f(()=>ue[t.status]),n=f(()=>({name:"feeds.details",params:{id:t.id}}));return(u,l)=>(d(),m("div",nt,[dt,i("div",rt,[ut,$(v(oe),{to:n.value},{default:C(()=>[q(k(e.id),1)]),_:1},8,["to"])]),i("div",ct,[mt,i("ui-status",{iconName:a.value.icon,iconColor:a.value.color,text:a.value.text},null,8,pt)]),i("div",_t,[vt,$(ee,{to:v(W).reportsScheduleDetails,params:e.scheduleId},{default:C(()=>[q(k(e.scheduleId),1)]),_:1},8,["to","params"])]),i("div",ft,[ht,i("p",null,k(e.credential),1)]),i("div",bt,[yt,i("div",gt,[i("p",St,k(e.description),1)])])]))}},Et=A(kt,[["__scopeId","data-v-2d2ed6fd"]]),y={CANCEL:"cancel",CLOSE:"close",DETAILS:"details",SAVE:"save",SUBMIT:"submit",DELETE:"delete",SPACER:"spacer",NEXT:"next",BACK:"back"},It={[y.CANCEL]:"Cancel",[y.CLOSE]:"Close",[y.DETAILS]:"Go to details",[y.SAVE]:"Save",[y.SUBMIT]:"Submit",[y.DELETE]:"Delete",[y.NEXT]:"Next",[y.BACK]:"Back"},Y={WIZARD:"wizard",EDIT:"edit"},L=(e,t={})=>e===y.SPACER?{key:"spacer"}:{key:e,label:t.label||It[e],handler:t.handler,disabled:t.disabled,loading:t.loading,color:t.color},$t={class:"dialog__header"},Ct={class:"dialog__title"},Dt={class:"dialog__body"},Tt={key:0,class:"dialog__sidebar"},Vt={class:"dialog__content-wrapper"},xt={class:"dialog__content"},Nt={class:"dialog__actions"},wt=["disabled","color","onClicked"],At=["color"],Lt={key:1,class:"dialog__action-label"},Rt={__name:"SimpleDialog",props:V({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>Object.values(y).includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:V(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const a=T(e,"modelValue"),n=e,u=t,l=De(),r=j(!1),s=async()=>{r.value=!0;try{await n.onSubmit()}finally{r.value=!1}},o=()=>a.value=!1,c=f(()=>({[y.CANCEL]:L(y.CANCEL,{handler:o}),[y.CLOSE]:L(y.CLOSE,{handler:o}),[y.SUBMIT]:L(y.SUBMIT,{disabled:!n.isValid,handler:s,label:n.submitLabel,loading:r.value,color:S.NICE_BLUE}),[y.SAVE]:L(y.SAVE,{disabled:!n.isValid,handler:async()=>{await s(),o()},loading:r.value,color:S.NICE_BLUE}),[y.DELETE]:L(y.DELETE,{disabled:!n.isValid,handler:async()=>{await s(),o()},loading:r.value,color:S.NICE_RED}),[y.DETAILS]:L(y.DETAILS,{handler:()=>l.push(n.detailsRoute)}),[y.SPACER]:L(y.SPACER),[y.NEXT]:L(y.NEXT,{disabled:!n.isValid,handler:()=>u("next"),color:S.NICE_BLUE}),[y.BACK]:L(y.BACK,{disabled:n.backDisabled,handler:()=>u("back")})})),p=f(()=>n.actions.map(E=>c.value[E])),h=Te("fullscreen-height");return Q(a,E=>{E?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),Ve(()=>{document.documentElement.classList.remove("is-clipped")}),(E,I)=>a.value?(d(),m("div",xe({key:0},E.$attrs,{class:"dialog",style:{height:v(h)}}),[i("div",{class:"dialog__container",style:ie({height:e.height,width:e.width})},[i("div",$t,[w(E.$slots,"header",{},()=>[i("p",Ct,k(e.title),1)],!0)]),i("div",Dt,[E.$slots.sidebar?(d(),m("div",Tt,[w(E.$slots,"sidebar",{},void 0,!0)])):N("",!0),i("div",Vt,[i("div",xt,[w(E.$slots,"default",{},void 0,!0)]),i("div",Nt,[(d(!0),m(R,null,O(p.value,b=>(d(),m(R,null,[b.key==="spacer"?(d(),m("div",{key:b.key,class:"dialog__spacer"})):(d(),m("ui-button",{key:b.key,class:"dialog__action",disabled:b.disabled,color:b.color||v(S).TEXT,height:"36px",backgroundColor:"transparent",onClicked:b.handler},[b.loading?(d(),m("ui-icon",{key:0,class:"dialog__action-icon",color:b.color||v(S).TEXT,iconName:"connectLoaderAnimated",size:"24"},null,8,At)):(d(),m("span",Lt,k(b.label),1))],40,wt))],64))),256))])])])],4)],16)):N("",!0)}},ce=A(Rt,[["__scopeId","data-v-15fcb727"]]),Bt=["onClick"],Ft={key:0,class:"vertical-tabs__tab-index"},Ut=["color"],Pt={key:1},qt=["color"],Ot={__name:"VerticalTabs",props:V({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,a=T(e,"activeTabKey"),n=f(()=>t.tabs.findIndex(s=>s.key===a.value)),u=f(()=>t.tabs.map((s,o)=>({...s,step:o+1,active:o===n.value,inactive:t.linear&&o>n.value,classes:{"vertical-tabs__tab_active":o===n.value,"vertical-tabs__tab_inactive":s.skipStep||t.linear&&o>n.value}}))),l=f(()=>({"vertical-tabs_linear":t.linear})),r=s=>{t.linear||(a.value=s.key)};return(s,o)=>(d(),m("div",{class:G(["vertical-tabs",l.value])},[(d(!0),m(R,null,O(u.value,c=>(d(),m("div",{key:c.key,class:G(["vertical-tabs__tab",c.classes]),onClick:p=>r(c)},[t.linear?(d(),m("div",Ft,[c.skipStep?(d(),m("ui-icon",{key:0,iconName:"googleArrowDownwardBaseline",color:v(S).NICE_BLUE,size:"18"},null,8,Ut)):c.inactive||c.active?(d(),m("span",Pt,k(c.step),1)):(d(),m("ui-icon",{key:2,iconName:"googleCheckBaseline",color:v(S).NICE_BLUE,size:"18"},null,8,qt))])):N("",!0),i("p",null,k(c.label),1)],10,Bt))),128))],2))}},Mt=A(Ot,[["__scopeId","data-v-aba18a93"]]),zt={__name:"FormDialog",props:V({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return Object.values(Y).includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,a=T(e,"modelValue"),n=f(()=>t.mode===Y.WIZARD),u=f(()=>t.mode===Y.EDIT),l=j(""),r=f(()=>t.tabs.findIndex(D=>D.key===l.value)),s=f(()=>t.tabs.find(D=>D.key===l.value)),o=f(()=>r.value===0),c=f(()=>r.value===t.tabs.length-1),p=f(()=>l.value==="summary"),h=f(()=>s.value.submittable),E=f(()=>u.value?t.title:p.value?`${t.title} – Summary`:`${t.title} – Step ${r.value+1}`),I=f(()=>(s.value.includes||[]).every(F=>{const z=t.rules[F];return z?z.every(me=>me(t.form[F])):!0})),b=D=>{l.value=t.tabs[D].key},_=()=>{const D=r.value+1;b(D)},g=()=>{const D=r.value-1;b(D)},M=async()=>{try{await t.onSubmit(),n.value&&!c.value&&_()}catch{}},X=f(()=>u.value?["spacer","close","save"]:p.value?["spacer","details","close"]:h.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return Q(a,()=>b(0),{immediate:!0}),(D,F)=>(d(),x(ce,{modelValue:a.value,"onUpdate:modelValue":F[1]||(F[1]=z=>a.value=z),class:G(["form-dialog",`form-dialog_${e.mode}`]),actions:X.value,backDisabled:o.value,detailsRoute:e.detailsRoute,height:e.height,isValid:I.value,onSubmit:M,title:E.value,width:e.width,onBack:g,onNext:_},{sidebar:C(()=>[$(Mt,{"active-tab-key":l.value,"onUpdate:activeTabKey":F[0]||(F[0]=z=>l.value=z),tabs:e.tabs,linear:n.value},null,8,["active-tab-key","tabs","linear"])]),default:C(()=>[w(D.$slots,l.value)]),_:3},8,["modelValue","class","actions","backDisabled","detailsRoute","height","isValid","title","width"]))}},Gt=["iconName","color"],Kt=["value"],jt={class:"radio-input__label-text"},Xt={__name:"RadioInput",props:V({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),a=e,n=f(()=>t.value===a.value),u=f(()=>n.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),l=f(()=>n.value?S.NICE_BLUE:""),r=()=>{t.value=a.value};return(s,o)=>(d(),m("div",{class:"radio-input",onClick:r},[i("ui-icon",{class:"radio-input__box",iconName:u.value,color:l.value},null,8,Gt),i("label",{class:G(["radio-input__label",{"radio-input__label_empty":!e.label}])},[se(i("input",{"onUpdate:modelValue":o[0]||(o[0]=c=>t.value=c),value:e.value,class:"radio-input__input",type:"radio"},null,8,Kt),[[Ne,t.value]]),i("span",jt,k(e.label),1)],2)]))}},Yt=A(Xt,[["__scopeId","data-v-c53c5700"]]),Ht={class:"radio-table"},Wt={class:"radio-table__title"},Zt={key:0,class:"radio-table__search"},Jt=["placeholder"],Qt={class:"radio-table__table"},ea=["onClick"],ta={class:"radio-table__item-content"},aa={__name:"RadioTable",props:V({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:V(["search"],["update:modelValue"]),setup(e,{emit:t}){const a=T(e,"modelValue"),n=t,u=e,l=s=>{a.value=s[u.valueProp]},r=de(s=>{n("search",s)});return(s,o)=>(d(),m("div",Ht,[i("p",Wt,k(e.title),1),e.hideSearch?N("",!0):(d(),m("div",Zt,[i("ui-textfield",{placeholder:e.searchPlaceholder,onInput:o[0]||(o[0]=(...c)=>v(r)&&v(r)(...c))},null,40,Jt)])),i("div",Qt,[(d(!0),m(R,null,O(e.items,c=>(d(),m("div",{key:c[e.valueProp],class:"radio-table__item",onClick:p=>l(c)},[i("div",ta,[w(s.$slots,"default",{item:c},void 0,!0)]),$(Yt,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=p=>a.value=p),value:c[e.valueProp]},null,8,["modelValue","value"])],8,ea))),128))])]))}},la=A(aa,[["__scopeId","data-v-7033db48"]]),sa=(e,t=200)=>{let a=null;return(...n)=>{window.clearTimeout(a),a=window.setTimeout(()=>{e(...n)},t)}},Oa=(e=0,t={})=>we(e,{base:2,locale:"en",standard:"jedec",...t}),Ma=(e,t="")=>{const a=document.createElement("a");document.body.appendChild(a),a.href=e,t?a.download=t:a.rel="noopener noreferrer",a.click(),document.body.removeChild(a)},oa={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),{result:a,request:n}=P(B(),!1,!0),u=f(()=>a.filter(s=>s.renderer==="csv")),l=async(s="")=>{let o="/public/v1/reporting/schedules?limit=100";s&&(o+=`&(((ilike(id,${s}*))|(ilike(name,*${s}*))))`),await n(o)},r=sa(l,500);return l(),(s,o)=>(d(),x(la,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=c=>t.value=c),items:u.value,searchPlaceholder:"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:v(r)},{default:C(({item:c})=>[$(pe,{bodyText:c.name,assistiveText:c.id},null,8,["bodyText","assistiveText"])]),_:1},8,["modelValue","items","onSearch"]))}},le=e=>!!e,H={required:e=>t=>e&&e.prop?le(t[e.prop]):le(t)},ia={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:V(["created"],["update:modelValue"]),setup(e,{emit:t}){const a=T(e,"modelValue"),n=t,u=B(),{result:l,request:r}=P(u,!0),s=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],o=ne({scheduleId:"",credentialId:"",fileName:"",description:""}),c={scheduleId:[H.required()],credentialId:[H.required()],fileName:[H.required()]},p=f(()=>{var b,_;return{id:l.id,scheduleId:(b=l.schedule)==null?void 0:b.id,credential:(_=l.credential)==null?void 0:_.id,description:l.description,status:l.status}}),h=f(()=>({name:"feeds.details",params:{id:p.value.id}})),E=async()=>{await r("/api/feeds","POST",{schedule:{id:o.scheduleId},credential:{id:o.credentialId},file_name:o.fileName,description:o.description}),n("created")},I=()=>{o.scheduleId="",o.credentialId="",o.fileName="",o.description=""};return Q(a,b=>{b||I()},{immediate:!0}),(b,_)=>(d(),x(zt,{modelValue:a.value,"onUpdate:modelValue":_[4]||(_[4]=g=>a.value=g),form:o,rules:c,onSubmit:E,tabs:s,detailsRoute:h.value,title:"Create Feed",mode:"wizard",submitLabel:"Create"},{schedule:C(()=>[$(oa,{modelValue:o.scheduleId,"onUpdate:modelValue":_[0]||(_[0]=g=>o.scheduleId=g)},null,8,["modelValue"])]),destination:C(()=>[$(it,{"credential-id":o.credentialId,"onUpdate:credentialId":_[1]||(_[1]=g=>o.credentialId=g),"file-name":o.fileName,"onUpdate:fileName":_[2]||(_[2]=g=>o.fileName=g),description:o.description,"onUpdate:description":_[3]||(_[3]=g=>o.description=g)},null,8,["credential-id","file-name","description"])]),summary:C(()=>[$(Et,{id:p.value.id,status:p.value.status,description:p.value.description,credential:p.value.credential,scheduleId:p.value.scheduleId},null,8,["id","status","description","credential","scheduleId"])]),_:1},8,["modelValue","form","detailsRoute"]))}},na={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=B(),a=e,n=f(()=>{var l,r,s;return new Intl.DateTimeFormat((l=t==null?void 0:t.timezoneInfo)==null?void 0:l.region.replace("_","-"),{timeZone:(r=t==null?void 0:t.timezoneInfo)==null?void 0:r.timezone,hourCycle:(s=t==null?void 0:t.timezoneInfo)!=null&&s.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(a.date))});return(u,l)=>(d(),m("span",null,k(n.value),1))}},da={class:"empty-placeholder"},ra={class:"empty-placeholder_content"},ua={class:"empty-placeholder_icon"},ca=["iconName","color"],ma=["color"],pa=["color"],_a={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,a)=>(d(),m("div",da,[i("div",ra,[i("div",ua,[i("ui-icon",{iconName:e.icon,color:v(S).MIDDLE_GREY,size:"56"},null,8,ca)]),i("h2",null,k(e.title),1),i("p",null,k(e.message),1),e.action?(d(),m("ui-button",{key:0,class:"empty-placeholder_action",backgroundColor:"transparent",color:v(S).NICE_BLUE,onClicked:a[0]||(a[0]=n=>t.$emit("actionClicked"))},[i("ui-icon",{iconName:"googleAddBaseline",color:v(S).NICE_BLUE,size:"18"},null,8,pa),i("span",null,k(e.action),1)],40,ma)):N("",!0)])]))}},va=A(_a,[["__scopeId","data-v-19daa194"]]),fa=i("br",null,null,-1),ha=i("span",null,"You cannot undo this action once performed.",-1),ba={__name:"DeleteFeedDialog",props:V({feedId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:V(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const a=e,n=T(e,"modelValue"),u=t,l=["cancel","delete"],{request:r}=P(B()),s=async()=>{await r(`/api/feeds/${a.feedId}`,"DELETE")<400&&u("deleted")};return(o,c)=>(d(),x(ce,{modelValue:n.value,"onUpdate:modelValue":c[0]||(c[0]=p=>n.value=p),actions:l,onSubmit:s,height:"auto",title:"Delete Feed",width:"480px"},{default:C(()=>[i("p",null,[i("span",null,"Are you sure you want to delete this feed ("+k(e.feedId)+")?",1),fa,ha])]),_:1},8,["modelValue"]))}},ya={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const a=e,n=t,u=B(),l=P(u),r=P(u),s=P(u),o=f(()=>a.feed.id),c=f(()=>a.feed.status===U.DISABLED),p=async()=>{await r.request(`/api/feeds/${o.value}/disable`,"POST")<400&&n("disabled")},h=async()=>{await l.request(`/api/feeds/${o.value}/enable`,"POST")<400&&n("enabled")},E=async()=>{await s.request(`/api/feeds/${o.value}/uploads/force`,"POST")<400&&n("uploaded")},I=j(!1),b=()=>{I.value=!0},_=ne([{key:"disable",color:S.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:r.loading,hide:c,handler:p},{key:"enable",color:S.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:l.loading,hide:!c.value,handler:h},{key:"forceUpload",color:S.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:s.loading,disabled:c.value,handler:E},{separated:!0,key:"delete",color:S.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:b}]);return(g,M)=>(d(),m(R,null,[$(_e,{class:"feed-actions",actions:_},Ae({_:2},[g.$slots.default?{name:"trigger",fn:C(()=>[w(g.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]),$(ba,{modelValue:I.value,"onUpdate:modelValue":M[0]||(M[0]=X=>I.value=X),feedId:o.value,onDeleted:M[1]||(M[1]=X=>n("deleted"))},null,8,["modelValue","feedId"])],64))}},ga={class:"loading-indicator"},Sa=["size","color"],ka={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,a)=>(d(),m("div",ga,[i("ui-icon",{iconName:"connectLoaderAnimated",size:e.size,color:v(S).DARKER_BLUE},null,8,Sa)]))}},Ea=A(ka,[["__scopeId","data-v-bec31191"]]),Ia=e=>(Z("data-v-b72ddafa"),e=e(),J(),e),$a={title:"Feeds",style:{height:"inherit"},noPadded:""},Ca={key:0,slot:"actions",class:"header-actions"},Da=["backgroundColor","color"],Ta=Ia(()=>i("span",null,"Create Feed",-1)),Va=[Ta],xa=["totalItems","currentPage"],Na=["iconName","iconColor","text"],wa={key:5,class:"truncator"},Aa={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:a,page:n,total:u,load:l,loading:r,next:s,previous:o}=ve("/api/feeds"),c=f(()=>!a.value.length),p=f(()=>a.value.map(I=>({id:I.id,scheduleId:I.schedule.id,createdAt:I.events.created.at,description:I.description,status:ue[I.status],rawFeed:I}))),h=j(!1),E=()=>{h.value=!0};return Le(async()=>{await l()}),(I,b)=>(d(),m("ui-view",$a,[c.value?N("",!0):(d(),m("div",Ca,[i("ui-button",{class:"header-button",backgroundColor:v(S).WHITE,color:v(S).TEXT,height:"36px",onClicked:E},Va,40,Da)])),v(r)?(d(),x(Ea,{key:1})):c.value?(d(),x(va,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:E})):(d(),m("ui-complex-table",{key:3,headers:t,totalItems:v(u),currentPage:v(n),fixed:"",onNextClicked:b[0]||(b[0]=(..._)=>v(s)&&v(s)(..._)),onPreviousClicked:b[1]||(b[1]=(..._)=>v(o)&&v(o)(..._))},[(d(!0),m(R,null,O(p.value,_=>(d(),m("tr",{key:_.id},[(d(),m(R,null,O(t,g=>i("td",{key:g.key},[g.key==="id"?(d(),x(v(oe),{key:0,to:{name:"feeds.details",params:{id:_.id}}},{default:C(()=>[q(k(_.id),1)]),_:2},1032,["to"])):g.key==="schedule"?(d(),x(ee,{key:1,to:v(W).reportsScheduleDetails,params:_.scheduleId},{default:C(()=>[q(k(_.scheduleId),1)]),_:2},1032,["to","params"])):g.key==="status"?(d(),m("ui-status",{key:2,iconName:_.status.icon,iconColor:_.status.color,text:_.status.text},null,8,Na)):g.key==="createdAt"?(d(),x(na,{key:3,date:_.createdAt},null,8,["date"])):N("",!0),g.key==="actions"?(d(),x(ya,{key:4,feed:_.rawFeed,onEnabled:v(l),onDisabled:v(l),onUploaded:v(l),onDeleted:v(l)},null,8,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):g.key==="description"?(d(),m("div",wa,[i("span",{class:G(["truncate-text",{"assistive-color":!_[g.key]}])},k(_[g.key]||"—"),3)])):N("",!0)])),64))]))),128))],40,xa)),$(ia,{modelValue:h.value,"onUpdate:modelValue":b[2]||(b[2]=_=>h.value=_),onCreated:v(l)},null,8,["modelValue","onCreated"])]))}},La=A(Aa,[["__scopeId","data-v-b72ddafa"]]),Ra=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:La},{name:"feeds.details",path:"/feeds/:id",component:()=>Me(()=>import("./FeedDetails-Qk64MkHT.js"),__vite__mapDeps([0,1,2,3,4,5]))}],Ba=Re({history:Be(),routes:Ra}),Fa={__name:"MainPage",setup(e){const t=j(""),a=f(()=>({height:t.value}));return B().listen("fullscreenSize",({height:u})=>{t.value=`${u}px`}),Fe("fullscreen-height",t),(u,l)=>(d(),m("div",{class:"app",style:ie(a.value)},[$(v(Ue))],4))}};fe({"ui-view":he,"ui-complex-table":be,"ui-icon":ye,"ui-button":ge,"ui-status":Se,"ui-menu":ke,"ui-tabs":Ee,"ui-textfield":Ie}).then(e=>{const t=Pe(Fa);t.use(Ba),t.use($e,e),t.mount("#app")});export{it as D,Ea as L,ue as S,zt as _,U as a,na as b,ee as c,Ma as d,ya as e,Oa as g,H as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-Qk64MkHT.js","assets/connect-CA_gaIcb.js","assets/vendor-D-t8o7Gd.js","assets/ActionsMenu-Dfye5i2Y.js","assets/ActionsMenu-BEbfmVDt.css","assets/FeedDetails-XAIvT6Bh.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
