import{s as U,V as K,a as ne,H as de,p as re,v as ce,o as ue,l as me,b as pe,w as _e,z as fe,r as ve,c as he}from"./connect-4XpspIZx.js";import{m as R,u as w,c as h,o as n,b as c,d as i,t as b,e as S,w as ee,v as ye,F as N,f as B,g as E,h as p,n as M,a as z,r as G,j as D,k as T,l as q,p as X,q as H,R as te,s as be,i as ge,x as Y,y as ke,z as C,A as se,B as $e,T as Se,C as Ee,D as Ie,E as Te,G as xe,H as De,I as we,J as Ve,K as Ce,L as Re}from"./vendor-QZT6KSBV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=s(l);fetch(l.href,o)}})();const Ne="modulepreload",Be=function(e){return"/static/"+e},J={},Ae=function(t,s,a){let l=Promise.resolve();if(s&&s.length>0){const o=document.getElementsByTagName("link");l=Promise.all(s.map(u=>{if(u=Be(u),u in J)return;J[u]=!0;const d=u.endsWith(".css"),r=d?'[rel="stylesheet"]':"";if(!!a)for(let v=o.length-1;v>=0;v--){const $=o[v];if($.href===u&&(!d||$.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${r}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Ne,d||(_.as="script",_.crossOrigin=""),_.href=u,document.head.appendChild(_),d)return new Promise((v,$)=>{_.addEventListener("load",v),_.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${u}`)))})}))}return l.then(()=>t()).catch(o=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o})},y={NICE_GREEN:"#0BB071",NICE_RED:"#FF6A6A",MIDDLE_GREY:"#BDBDBD",DARK_GREY:"#666666",NICE_BLUE:"#2C98F0",DARKER_BLUE:"#4797f2",TEXT:"#212121",WHITE:"#FFFFFF",TRANSPARENT:"transparent"},V=(e,t)=>{const s=e.__vccOpts||e;for(const[a,l]of t)s[a]=l;return s},Le={class:"select-input"},Fe={key:0,class:"select-input__label"},qe={class:"select-input__real-input"},Ue=["value"],Pe={"full-width":"","close-on-click-inside":""},Me={slot:"trigger",class:"select-input__selected"},Oe=["color"],ze={slot:"content",class:"select-input__menu"},Ge=["onClick"],je={key:1,class:"select-input__hint assistive-text"},Ke={__name:"SelectInput",props:R({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=w(e,"modelValue"),s=e,a=o=>{t.value=o[s.propValue]},l=h(()=>s.options.find(o=>o[s.propValue]===t.value)||null);return(o,u)=>(n(),c("div",Le,[e.label?(n(),c("div",Fe,[i("p",null,b(e.label),1)])):S("",!0),i("div",qe,[ee(i("select",{"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d)},[(n(!0),c(N,null,B(e.options,d=>(n(),c("option",{key:d[e.propValue],value:d[e.propValue]},null,8,Ue))),128))],512),[[ye,t.value]])]),i("ui-menu",Pe,[i("div",Me,[E(o.$slots,"selected",{selectedItem:l.value},()=>[i("span",null,b(t.value),1)],!0),i("ui-icon",{"icon-name":"googleArrowDropDownBaseline",color:p(y).DARK_GREY,size:"24"},null,8,Oe)]),i("div",ze,[(n(!0),c(N,null,B(e.options,d=>(n(),c("div",{key:d[e.propValue],class:M(["select-input__option",{"select-input__option_selected":d[e.propValue]===t.value}]),onClick:r=>a(d)},[E(o.$slots,"option",{option:d,isSelected:d[e.propValue]===t.value},()=>[i("span",null,b(d[e.propValue]),1)],!0)],10,Ge))),128))])]),e.hint||o.$slots.hint?(n(),c("div",je,[E(o.$slots,"hint",{},()=>[i("p",null,b(e.hint),1)],!0)])):S("",!0)]))}},Xe=V(Ke,[["__scopeId","data-v-fc9cf8f5"]]),W={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:s}=U(),a=l=>{l.preventDefault(),l.stopPropagation(),s(t.to,t.params)};return(l,o)=>(n(),c("a",{onClick:a},[E(l.$slots,"default")]))}},ae=e=>t=>e(...t.detail),He=["value","label","placeholder","suffix"],Q={__name:"TextField",props:R({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=w(e,"modelValue"),s=ae(a=>t.value=a);return(a,l)=>(n(),c("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:l[0]||(l[0]=(...o)=>p(s)&&p(s)(...o))},null,40,He))}};class Ye extends Error{constructor(t,s){super(t),this.status=s}}const We=(e,t)=>{let s=`Error ${e.status}: ${e.statusText}.`;return t&&(t.error_code&&(s+=` Error code: ${t.error_code}.`),t.errors&&(s+=t.errors.map(a=>` ${a}`).join(""))),s},Je=async e=>{let t;try{t=await e.clone().json()}catch{t=await e.text()}return t},Qe=async(e,t="GET",s=null,a=!1)=>{const l={method:t,headers:{"Content-Type":"application/json"}};s&&(l.body=JSON.stringify(s));const o=await fetch(e,l),u=await Je(o);if(!o.ok){const d=We(o,u);throw new Ye(d)}return a?{status:o.status,body:u}:u},F=(e,t=!1,s=!1)=>{const a=z(!1),l=s?G([]):G({});return{loading:a,result:l,request:async(u,d,r)=>{a.value=!0;try{const m=await Qe(u,d,r,!0);return s?(l.splice(0),l.push(...m.body)):(Object.assign(l,{}),Object.assign(l,m.body)),m.status}catch(m){if(e.emit("snackbar:error",m.message),t)throw m;return m.status}finally{a.value=!1}}}},le=e=>(X("data-v-06ab71a6"),e=e(),H(),e),Ze={class:"destination-tab"},et=le(()=>i("span",null,"You may add credentials in the",-1)),tt=le(()=>i("span",null,"settings page",-1)),st={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=w(e,"credentialId"),s=w(e,"fileName"),a=w(e,"description"),l=U(),{result:o,request:u}=F(l,!1,!0),d=h(()=>{var m;return(m=l.sharedContext.currentInstallation)==null?void 0:m.id}),r=h(()=>{var m,_,v;return(v=(_=(m=l.sharedContext.currentInstallation)==null?void 0:m.environment)==null?void 0:_.extension)==null?void 0:v.name});return u("/api/credentials"),(m,_)=>(n(),c("div",Ze,[D(Xe,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=v=>t.value=v),class:"destination-tab__input",options:p(o),label:"Credentials","prop-display":"name","prop-value":"id"},{selected:T(({selectedItem:v})=>[q(b((v==null?void 0:v.name)||"–"),1)]),option:T(({option:v})=>[q(b(v.name),1)]),hint:T(()=>[et,D(W,{class:"destination-tab__hint",to:p(K).extensionSettings,params:d.value},{default:T(()=>[q(b(r.value),1)]),_:1},8,["to","params"]),tt]),_:1},8,["modelValue","options"]),D(Q,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=v=>s.value=v),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),D(Q,{modelValue:a.value,"onUpdate:modelValue":_[2]||(_[2]=v=>a.value=v),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},at=V(st,[["__scopeId","data-v-06ab71a6"]]),L={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},oe={[L.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:y.NICE_GREEN},[L.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:y.MIDDLE_GREY},[L.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:y.NICE_RED},[L.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[L.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[L.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:y.NICE_GREEN}},O=e=>(X("data-v-70dec868"),e=e(),H(),e),lt={class:"feed-summary"},ot=O(()=>i("p",{class:"feed-summary__title"},"Summary",-1)),it={class:"feed-summary__row"},nt=O(()=>i("p",{class:"feed-summary__label"},"Feed",-1)),dt={class:"feed-summary__row"},rt=O(()=>i("p",{class:"feed-summary__label"},"Status",-1)),ct=["icon-name","icon-color","text"],ut={class:"feed-summary__row"},mt=O(()=>i("p",{class:"feed-summary__label"},"Report Schedule",-1)),pt={class:"feed-summary__row"},_t=O(()=>i("p",{class:"feed-summary__label"},"Credential",-1)),ft={class:"feed-summary__row"},vt=O(()=>i("p",{class:"feed-summary__label"},"Description",-1)),ht={class:"truncator"},yt={class:"truncate-text"},bt={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,s=h(()=>oe[t.status]),a=h(()=>({name:"feeds.details",params:{id:t.id}}));return(l,o)=>(n(),c("div",lt,[ot,i("div",it,[nt,D(p(te),{to:a.value},{default:T(()=>[q(b(e.id),1)]),_:1},8,["to"])]),i("div",dt,[rt,i("ui-status",{"icon-name":s.value.icon,"icon-color":s.value.color,text:s.value.text},null,8,ct)]),i("div",ut,[mt,D(W,{to:p(K).reportsScheduleDetails,params:e.scheduleId},{default:T(()=>[q(b(e.scheduleId),1)]),_:1},8,["to","params"])]),i("div",pt,[_t,i("p",null,b(e.credential),1)]),i("div",ft,[vt,i("div",ht,[i("p",yt,b(e.description),1)])])]))}},gt=V(bt,[["__scopeId","data-v-70dec868"]]),kt={class:"dialog__header"},$t={class:"dialog__title"},St={class:"dialog__body"},Et={key:0,class:"dialog__sidebar"},It={class:"dialog__content-wrapper"},Tt={class:"dialog__content"},xt={class:"dialog__actions"},Dt=["disabled","color","onClicked"],wt=["color"],Vt={key:1,class:"dialog__action-label"},Ct={__name:"SimpleDialog",props:R({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>["cancel","close","details","save","submit","spacer","next","back"].includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:R(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const s=w(e,"modelValue"),a=e,l=t,o=be(),u=z(!1),d=async()=>{u.value=!0;try{await a.onSubmit()}finally{u.value=!1}},r=()=>s.value=!1,m=h(()=>({cancel:{key:"cancel",handler:r,label:"Cancel"},close:{key:"close",handler:r,label:"Close"},submit:{key:"submit",disabled:!a.isValid,handler:d,label:a.submitLabel||"Submit",loading:u.value,color:y.NICE_BLUE},save:{key:"save",disabled:!a.isValid,handler:async()=>{await d(),r()},label:a.submitLabel||"Save",loading:u.value,color:y.NICE_BLUE},details:{key:"details",handler:()=>o.push(a.detailsRoute),label:"Go to details"},spacer:{key:"spacer"},next:{key:"next",disabled:!a.isValid,handler:()=>l("next"),label:"Next",color:y.NICE_BLUE},back:{key:"back",disabled:a.backDisabled,handler:()=>l("back"),label:"Back"}})),_=h(()=>a.actions.map($=>m.value[$])),v=ge("fullscreen-height");return Y(s,$=>{$?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),ke(()=>{document.documentElement.classList.remove("is-clipped")}),($,I)=>(n(),C(Se,{to:".dialogs-container"},[s.value?(n(),c("div",$e({key:0},$.$attrs,{class:"dialog",style:{height:p(v)}}),[i("div",{class:"dialog__container",style:se({height:e.height,width:e.width})},[i("div",kt,[E($.$slots,"header",{},()=>[i("p",$t,b(e.title),1)],!0)]),i("div",St,[$.$slots.sidebar?(n(),c("div",Et,[E($.$slots,"sidebar",{},void 0,!0)])):S("",!0),i("div",It,[i("div",Tt,[E($.$slots,"default",{},void 0,!0)]),i("div",xt,[(n(!0),c(N,null,B(_.value,k=>(n(),c(N,null,[k.key==="spacer"?(n(),c("div",{key:k.key,class:"dialog__spacer"})):(n(),c("ui-button",{key:k.key,class:"dialog__action",disabled:k.disabled,color:k.color||p(y).TEXT,height:"36px","background-color":"transparent",onClicked:k.handler},[k.loading?(n(),c("ui-icon",{key:0,class:"dialog__action-icon",color:k.color||p(y).TEXT,"icon-name":"connectLoaderAnimated",size:"24"},null,8,wt)):(n(),c("span",Vt,b(k.label),1))],40,Dt))],64))),256))])])])],4)],16)):S("",!0)]))}},Rt=V(Ct,[["__scopeId","data-v-4bbd847e"]]),Nt=["onClick"],Bt={key:0,class:"vertical-tabs__tab-index"},At=["color"],Lt={key:1},Ft=["color"],qt={__name:"VerticalTabs",props:R({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,s=w(e,"activeTabKey"),a=h(()=>t.tabs.findIndex(d=>d.key===s.value)),l=h(()=>t.tabs.map((d,r)=>({...d,step:r+1,active:r===a.value,inactive:t.linear&&r>a.value,classes:{"vertical-tabs__tab_active":r===a.value,"vertical-tabs__tab_inactive":d.skipStep||t.linear&&r>a.value}}))),o=h(()=>({"vertical-tabs_linear":t.linear})),u=d=>{t.linear||(s.value=d.key)};return(d,r)=>(n(),c("div",{class:M(["vertical-tabs",o.value])},[(n(!0),c(N,null,B(l.value,m=>(n(),c("div",{key:m.key,class:M(["vertical-tabs__tab",m.classes]),onClick:_=>u(m)},[t.linear?(n(),c("div",Bt,[m.skipStep?(n(),c("ui-icon",{key:0,"icon-name":"googleArrowDownwardBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,At)):m.inactive||m.active?(n(),c("span",Lt,b(m.step),1)):(n(),c("ui-icon",{key:2,"icon-name":"googleCheckBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,Ft))])):S("",!0),i("p",null,b(m.label),1)],10,Nt))),128))],2))}},Ut=V(qt,[["__scopeId","data-v-bff37898"]]),Pt={__name:"FormDialog",props:R({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return["wizard","edit"].includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,s=w(e,"modelValue"),a=z(""),l=h(()=>t.tabs.findIndex(x=>x.key===a.value)),o=h(()=>t.tabs.find(x=>x.key===a.value)),u=h(()=>l.value===0),d=h(()=>l.value===t.tabs.length-1),r=h(()=>a.value==="summary"),m=h(()=>o.value.submittable),_=h(()=>t.mode==="edit"?t.title:r.value?`${t.title} – Summary`:`${t.title} – Step ${l.value+1}`),v=h(()=>(o.value.includes||[]).every(A=>{const P=t.rules[A];return P?P.every(ie=>ie(t.form[A])):!0})),$=x=>{a.value=t.tabs[x].key},I=()=>{const x=l.value+1;$(x)},k=()=>{const x=l.value-1;$(x)},f=async()=>{try{await t.onSubmit(),t.mode==="wizard"&&!d.value&&I()}catch{}},g=h(()=>t.mode==="edit"?["spacer","close","save"]:r.value?["spacer","details","close"]:m.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return Y(s,()=>$(0),{immediate:!0}),(x,A)=>(n(),C(Rt,{modelValue:s.value,"onUpdate:modelValue":A[1]||(A[1]=P=>s.value=P),class:M(["form-dialog",`form-dialog_${e.mode}`]),actions:g.value,"back-disabled":u.value,"details-route":e.detailsRoute,height:e.height,"is-valid":v.value,"on-submit":f,title:_.value,width:e.width,onBack:k,onNext:I},{sidebar:T(()=>[D(Ut,{"active-tab-key":a.value,"onUpdate:activeTabKey":A[0]||(A[0]=P=>a.value=P),tabs:e.tabs,linear:e.mode==="wizard"},null,8,["active-tab-key","tabs","linear"])]),default:T(()=>[E(x.$slots,a.value)]),_:3},8,["modelValue","class","actions","back-disabled","details-route","height","is-valid","title","width"]))}},Mt={class:"detail-item"},Ot={key:0,class:"detail-item__head"},zt={key:0,class:"detail-item__subhead"},Gt={class:"detail-item__content-holder"},jt={key:0,class:"detail-item__image"},Kt={class:"detail-item__content"},Xt={key:0,class:"detail-item__text"},Ht={key:1,class:"detail-item__assistive-text"},Yt={__name:"DetailItem",props:{title:{type:String,default:""},subtitle:{type:String,default:""},bodyText:{type:String,default:""},assistiveText:{type:String,default:""}},setup(e){return(t,s)=>(n(),c("div",Mt,[e.title||t.$slots.title?(n(),c("div",Ot,[E(t.$slots,"title",{},()=>[i("span",null,b(e.title),1),e.subtitle?(n(),c("span",zt,b(e.subtitle),1)):S("",!0)],!0)])):S("",!0),i("div",Gt,[t.$slots.image?(n(),c("div",jt,[E(t.$slots,"image",{},void 0,!0)])):S("",!0),i("div",Kt,[E(t.$slots,"content",{},()=>[e.bodyText||t.$slots["body-text"]?(n(),c("div",Xt,[E(t.$slots,"body-text",{},()=>[i("span",null,b(e.bodyText),1)],!0)])):S("",!0),e.assistiveText||t.$slots["assistive-text"]?(n(),c("div",Ht,[E(t.$slots,"assistive-text",{},()=>[i("span",null,b(e.assistiveText),1)],!0)])):S("",!0)],!0)])])]))}},Wt=V(Yt,[["__scopeId","data-v-54319148"]]),Jt=["icon-name","color"],Qt=["value"],Zt={class:"radio-input__label-text"},es={__name:"RadioInput",props:R({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=w(e,"modelValue"),s=e,a=h(()=>t.value===s.value),l=h(()=>a.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),o=h(()=>a.value?y.NICE_BLUE:""),u=()=>{t.value=s.value};return(d,r)=>(n(),c("div",{class:"radio-input",onClick:u},[i("ui-icon",{class:"radio-input__box","icon-name":l.value,color:o.value},null,8,Jt),i("label",{class:M(["radio-input__label",{"radio-input__label_empty":!e.label}])},[ee(i("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>t.value=m),value:e.value,class:"radio-input__input",type:"radio"},null,8,Qt),[[Ee,t.value]]),i("span",Zt,b(e.label),1)],2)]))}},ts=V(es,[["__scopeId","data-v-beee31f1"]]),ss={class:"radio-table"},as={class:"radio-table__title"},ls={key:0,class:"radio-table__search"},os=["placeholder"],is={class:"radio-table__table"},ns=["onClick"],ds={class:"radio-table__item-content"},rs={__name:"RadioTable",props:R({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:R(["search"],["update:modelValue"]),setup(e,{emit:t}){const s=w(e,"modelValue"),a=t,l=e,o=d=>{s.value=d[l.valueProp]},u=ae(d=>{a("search",d)});return(d,r)=>(n(),c("div",ss,[i("p",as,b(e.title),1),e.hideSearch?S("",!0):(n(),c("div",ls,[i("ui-textfield",{placeholder:e.searchPlaceholder,onInput:r[0]||(r[0]=(...m)=>p(u)&&p(u)(...m))},null,40,os)])),i("div",is,[(n(!0),c(N,null,B(e.items,m=>(n(),c("div",{key:m[e.valueProp],class:"radio-table__item",onClick:_=>o(m)},[i("div",ds,[E(d.$slots,"default",{item:m},void 0,!0)]),D(ts,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=_=>s.value=_),value:m[e.valueProp]},null,8,["modelValue","value"])],8,ns))),128))])]))}},cs=V(rs,[["__scopeId","data-v-7033db48"]]),us=(e,t=200)=>{let s=null;return(...a)=>{window.clearTimeout(s),s=window.setTimeout(()=>{e(...a)},t)}},sa=(e=0,t={})=>Ie(e,{base:2,locale:"en",standard:"jedec",...t}),aa=(e,t="")=>{const s=document.createElement("a");document.body.appendChild(s),s.href=e,t?s.download=t:s.rel="noopener noreferrer",s.click(),document.body.removeChild(s)},ms={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=w(e,"modelValue"),{result:s,request:a}=F(U(),!1,!0),l=h(()=>s.filter(d=>d.renderer==="csv")),o=async(d="")=>{let r="/public/v1/reporting/schedules?limit=100";d&&(r+=`&(((ilike(id,${d}*))|(ilike(name,*${d}*))))`),await a(r)},u=us(o,500);return o(),(d,r)=>(n(),C(cs,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=m=>t.value=m),items:l.value,"search-placeholder":"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:p(u)},{default:T(({item:m})=>[D(Wt,{"body-text":m.name,"assistive-text":m.id},null,8,["body-text","assistive-text"])]),_:1},8,["modelValue","items","onSearch"]))}},Z=e=>!!e,j={required:e=>t=>e&&e.prop?Z(t[e.prop]):Z(t)},ps={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:R(["created"],["update:modelValue"]),setup(e,{emit:t}){const s=w(e,"modelValue"),a=t,l=U(),{result:o,request:u}=F(l,!0),d=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],r=G({scheduleId:"",credentialId:"",fileName:"",description:""}),m={scheduleId:[j.required()],credentialId:[j.required()],fileName:[j.required()]},_=h(()=>{var k,f;return{id:o.id,scheduleId:(k=o.schedule)==null?void 0:k.id,credential:(f=o.credential)==null?void 0:f.id,description:o.description,status:o.status}}),v=h(()=>({name:"feeds.details",params:{id:_.value.id}})),$=async()=>{await u("/api/feeds","POST",{schedule:{id:r.scheduleId},credential:{id:r.credentialId},file_name:r.fileName,description:r.description}),a("created")},I=()=>{r.scheduleId="",r.credentialId="",r.fileName="",r.description=""};return Y(s,k=>{k||I()},{immediate:!0}),(k,f)=>(n(),C(Pt,{modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=g=>s.value=g),form:r,rules:m,"on-submit":$,tabs:d,"details-route":v.value,title:"Create Feed",mode:"wizard","submit-label":"Create"},{schedule:T(()=>[D(ms,{modelValue:r.scheduleId,"onUpdate:modelValue":f[0]||(f[0]=g=>r.scheduleId=g)},null,8,["modelValue"])]),destination:T(()=>[D(at,{"credential-id":r.credentialId,"onUpdate:credentialId":f[1]||(f[1]=g=>r.credentialId=g),"file-name":r.fileName,"onUpdate:fileName":f[2]||(f[2]=g=>r.fileName=g),description:r.description,"onUpdate:description":f[3]||(f[3]=g=>r.description=g)},null,8,["credential-id","file-name","description"])]),summary:T(()=>[D(gt,{id:_.value.id,status:_.value.status,description:_.value.description,credential:_.value.credential,"schedule-id":_.value.scheduleId},null,8,["id","status","description","credential","schedule-id"])]),_:1},8,["modelValue","form","details-route"]))}},_s={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=U(),s=e,a=h(()=>{var o,u,d;return new Intl.DateTimeFormat((o=t==null?void 0:t.timezoneInfo)==null?void 0:o.region.replace("_","-"),{timeZone:(u=t==null?void 0:t.timezoneInfo)==null?void 0:u.timezone,hourCycle:(d=t==null?void 0:t.timezoneInfo)!=null&&d.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(s.date))});return(l,o)=>(n(),c("span",null,b(a.value),1))}},fs={class:"empty-placeholder"},vs={class:"empty-placeholder_content"},hs={class:"empty-placeholder_icon"},ys=["icon-name","color"],bs=["color"],gs=["color"],ks={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,s)=>(n(),c("div",fs,[i("div",vs,[i("div",hs,[i("ui-icon",{"icon-name":e.icon,color:p(y).MIDDLE_GREY,size:"56"},null,8,ys)]),i("h2",null,b(e.title),1),i("p",null,b(e.message),1),e.action?(n(),c("ui-button",{key:0,class:"empty-placeholder_action","background-color":"transparent",color:p(y).NICE_BLUE,onClicked:s[0]||(s[0]=a=>t.$emit("actionClicked"))},[i("ui-icon",{"icon-name":"googleAddBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,gs),i("span",null,b(e.action),1)],40,bs)):S("",!0)])]))}},$s=V(ks,[["__scopeId","data-v-47ae6665"]]),Ss={class:"actions-menu",align:"right","close-on-click-inside":!1},Es={slot:"trigger",class:"actions-menu__trigger"},Is=["background-color"],Ts=["color"],xs={slot:"content",class:"actions-menu__content"},Ds={key:0,class:"horizontal-divider"},ws=["background-color","color","disabled","onClicked"],Vs={class:"actions-menu__action-content"},Cs=["icon-name","color"],Rs={__name:"ActionsMenu",props:{actions:{type:Array,required:!0,validator(e){return e.length>0&&e.every(t=>!!(t.key&&t.text&&t.icon&&t.handler))}}},setup(e){return(t,s)=>(n(),c("ui-menu",Ss,[i("div",Es,[E(t.$slots,"trigger",{},()=>[i("ui-button",{class:"actions-menu__trigger-button","background-color":p(y).WHITE,height:"36px",width:"36px"},[i("ui-icon",{class:"actions-menu__trigger-icon",color:p(y).TEXT,"icon-name":"googleMoreVertBaseline"},null,8,Ts)],8,Is)],!0)]),i("div",xs,[(n(!0),c(N,null,B(e.actions,a=>(n(),c("div",{key:a.key,class:"actions-menu__action"},[a.separated?(n(),c("div",Ds)):S("",!0),a.hide?S("",!0):(n(),c("ui-button",{key:1,ref_for:!0,ref:a.key,"background-color":p(y).TRANSPARENT,color:a.color||p(y).TEXT,disabled:a.disabled,height:"32px",width:"156px",onClicked:a.handler},[i("div",Vs,[i("ui-icon",{"icon-name":a.loading?"connectLoaderAnimated":a.icon,color:a.color||p(y).TEXT,size:"18"},null,8,Cs),i("span",null,b(a.text),1)])],40,ws))]))),128))])]))}},Ns=V(Rs,[["__scopeId","data-v-6dc318a3"]]),Bs={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const s=e,a=t,l=U(),o=F(l),u=F(l),d=F(l),r=F(l),m=h(()=>s.feed.id),_=h(()=>s.feed.status===L.DISABLED),v=async()=>{await u.request(`/api/feeds/${m.value}/disable`,"POST")<400&&a("disabled")},$=async()=>{await o.request(`/api/feeds/${m.value}/enable`,"POST")<400&&a("enabled")},I=async()=>{await r.request(`/api/feeds/${m.value}/uploads/force`,"POST")<400&&a("uploaded")},k=async()=>{await d.request(`/api/feeds/${m.value}`,"DELETE")<400&&a("deleted")},f=G([{key:"disable",color:y.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:u.loading,hide:_,handler:v},{key:"enable",color:y.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:o.loading,hide:!_.value,handler:$},{key:"forceUpload",color:y.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:r.loading,disabled:_.value,handler:I},{separated:!0,key:"delete",color:y.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",loading:d.loading,handler:k}]);return(g,x)=>(n(),C(Ns,{class:"feed-actions",actions:f},Te({_:2},[g.$slots.default?{name:"trigger",fn:T(()=>[E(g.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]))}},As={class:"loading-indicator"},Ls=["size","color"],Fs={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,s)=>(n(),c("div",As,[i("ui-icon",{"icon-name":"connectLoaderAnimated",size:e.size,color:p(y).DARKER_BLUE},null,8,Ls)]))}},qs=V(Fs,[["__scopeId","data-v-bf2c85cd"]]),Us=e=>(X("data-v-6ed98659"),e=e(),H(),e),Ps={title:"Feeds",style:{height:"inherit"},"no-padded":""},Ms={key:0,slot:"actions",class:"header-actions"},Os=["background-color","color"],zs=Us(()=>i("span",null,"Create Feed",-1)),Gs=[zs],js=["total-items","current-page"],Ks=["icon-name","icon-color","text"],Xs={key:5,class:"truncator"},Hs={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:s,page:a,total:l,load:o,loading:u,next:d,previous:r}=ne("/api/feeds"),m=h(()=>!s.value.length),_=h(()=>s.value.map(I=>({id:I.id,scheduleId:I.schedule.id,createdAt:I.events.created.at,description:I.description,status:oe[I.status],rawFeed:I}))),v=z(!1),$=()=>{v.value=!0};return xe(async()=>{await o()}),(I,k)=>(n(),c("ui-view",Ps,[m.value?S("",!0):(n(),c("div",Ms,[i("ui-button",{class:"header-button","background-color":p(y).WHITE,color:p(y).TEXT,height:"36px",onClicked:$},Gs,40,Os)])),p(u)?(n(),C(qs,{key:1})):m.value?(n(),C($s,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:$})):(n(),c("ui-complex-table",{key:3,headers:t,"total-items":p(l),"current-page":p(a),fixed:"",onNextClicked:k[0]||(k[0]=(...f)=>p(d)&&p(d)(...f)),onPreviousClicked:k[1]||(k[1]=(...f)=>p(r)&&p(r)(...f))},[(n(!0),c(N,null,B(_.value,f=>(n(),c("tr",{key:f.id},[(n(),c(N,null,B(t,g=>i("td",{key:g.key},[g.key==="id"?(n(),C(p(te),{key:0,to:{name:"feeds.details",params:{id:f.id}}},{default:T(()=>[q(b(f.id),1)]),_:2},1032,["to"])):g.key==="schedule"?(n(),C(W,{key:1,to:p(K).reportsScheduleDetails,params:f.scheduleId},{default:T(()=>[q(b(f.scheduleId),1)]),_:2},1032,["to","params"])):g.key==="status"?(n(),c("ui-status",{key:2,"icon-name":f.status.icon,"icon-color":f.status.color,text:f.status.text},null,8,Ks)):g.key==="createdAt"?(n(),C(_s,{key:3,date:f.createdAt},null,8,["date"])):S("",!0),g.key==="actions"?(n(),C(Bs,{key:4,feed:f.rawFeed,onEnabled:p(o),onDisabled:p(o),onUploaded:p(o),onDeleted:p(o)},null,8,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):g.key==="description"?(n(),c("div",Xs,[i("span",{class:M(["truncate-text",{"assistive-color":!f[g.key]}])},b(f[g.key]||"—"),3)])):S("",!0)])),64))]))),128))],40,js)),D(ps,{modelValue:v.value,"onUpdate:modelValue":k[2]||(k[2]=f=>v.value=f),onCreated:p(o)},null,8,["modelValue","onCreated"])]))}},Ys=V(Hs,[["__scopeId","data-v-6ed98659"]]),Ws=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:Ys},{name:"feeds.details",path:"/feeds/:id",component:()=>Ae(()=>import("./FeedDetails-DheuDwSp.js"),__vite__mapDeps([0,1,2,3]))}],Js=De({history:we(),routes:Ws}),Qs=i("div",{class:"dialogs-container"},null,-1),Zs={__name:"MainPage",setup(e){const t=z(""),s=h(()=>({height:t.value}));return U().listen("fullscreenSize",({height:l})=>{t.value=`${l}px`}),Ve("fullscreen-height",t),(l,o)=>(n(),c("div",{class:"app",style:se(s.value)},[Qs,D(p(Ce))],4))}};de({"ui-view":re,"ui-complex-table":ce,"ui-icon":ue,"ui-button":me,"ui-status":pe,"ui-menu":_e,"ui-tabs":fe,"ui-textfield":ve}).then(e=>{const t=Re(Zs);t.use(Js),t.use(he,e),t.mount("#app")});export{Ns as A,y as C,at as D,qs as L,oe as S,V as _,Pt as a,L as b,_s as c,W as d,Wt as e,aa as f,sa as g,Bs as h,F as u,j as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-DheuDwSp.js","assets/connect-4XpspIZx.js","assets/vendor-QZT6KSBV.js","assets/FeedDetails-B6mkvw_M.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
