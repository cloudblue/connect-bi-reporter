import{_ as w,u as F,D as ne}from"./DetailItem-BAhWrCsF.js";import{s as q,V as K,a as de,H as ce,p as re,v as ue,o as pe,l as me,b as _e,w as ve,z as fe,r as he,c as be}from"./connect-CssGEuJz.js";import{m as R,u as x,c as h,o,b as c,d as s,t as S,e as D,w as Z,v as ye,F as B,f as N,g as C,h as m,n as M,j as T,k as E,l as U,p as j,q as X,R as ee,s as ge,a as O,i as ke,x as H,y as Se,z as V,A as te,B as $e,T as Ee,C as Ie,D as Te,r as ae,E as xe,G as De,H as Ve,I as Ce,J as we,K as Re,L as Be}from"./vendor-QZT6KSBV.js";const Ne="modulepreload",Ae=function(e){return"/static/"+e},W={},Le=function(t,l,a){let r=Promise.resolve();if(l&&l.length>0){const d=document.getElementsByTagName("link");r=Promise.all(l.map(u=>{if(u=Ae(u),u in W)return;W[u]=!0;const i=u.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(!!a)for(let f=d.length-1;f>=0;f--){const k=d[f];if(k.href===u&&(!i||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${n}`))return;const _=document.createElement("link");if(_.rel=i?"stylesheet":Ne,i||(_.as="script",_.crossOrigin=""),_.href=u,document.head.appendChild(_),i)return new Promise((f,k)=>{_.addEventListener("load",f),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${u}`)))})}))}return r.then(()=>t()).catch(d=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d})},b={NICE_GREEN:"#0BB071",NICE_RED:"#FF6A6A",MIDDLE_GREY:"#BDBDBD",DARK_GREY:"#666666",NICE_BLUE:"#2C98F0",DARKER_BLUE:"#4797f2",TEXT:"#212121",WHITE:"#FFFFFF",TRANSPARENT:"transparent"},Fe={class:"select-input"},Ue={key:0,class:"select-input__label"},qe={class:"select-input__real-input"},Pe=["value"],Me={"full-width":"","close-on-click-inside":""},ze={slot:"trigger",class:"select-input__selected"},Oe=["color"],Ge={slot:"content",class:"select-input__menu"},Ke=["onClick"],je={key:1,class:"select-input__hint assistive-text"},Xe={__name:"SelectInput",props:R({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),l=e,a=d=>{t.value=d[l.propValue]},r=h(()=>l.options.find(d=>d[l.propValue]===t.value)||null);return(d,u)=>(o(),c("div",Fe,[e.label?(o(),c("div",Ue,[s("p",null,S(e.label),1)])):D("",!0),s("div",qe,[Z(s("select",{"onUpdate:modelValue":u[0]||(u[0]=i=>t.value=i)},[(o(!0),c(B,null,N(e.options,i=>(o(),c("option",{key:i[e.propValue],value:i[e.propValue]},null,8,Pe))),128))],512),[[ye,t.value]])]),s("ui-menu",Me,[s("div",ze,[C(d.$slots,"selected",{selectedItem:r.value},()=>[s("span",null,S(t.value),1)],!0),s("ui-icon",{"icon-name":"googleArrowDropDownBaseline",color:m(b).DARK_GREY,size:"24"},null,8,Oe)]),s("div",Ge,[(o(!0),c(B,null,N(e.options,i=>(o(),c("div",{key:i[e.propValue],class:M(["select-input__option",{"select-input__option_selected":i[e.propValue]===t.value}]),onClick:n=>a(i)},[C(d.$slots,"option",{option:i,isSelected:i[e.propValue]===t.value},()=>[s("span",null,S(i[e.propValue]),1)],!0)],10,Ke))),128))])]),e.hint||d.$slots.hint?(o(),c("div",je,[C(d.$slots,"hint",{},()=>[s("p",null,S(e.hint),1)],!0)])):D("",!0)]))}},He=w(Xe,[["__scopeId","data-v-fc9cf8f5"]]),Y={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:l}=q(),a=r=>{r.preventDefault(),r.stopPropagation(),l(t.to,t.params)};return(r,d)=>(o(),c("a",{onClick:a},[C(r.$slots,"default")]))}},le=e=>t=>e(...t.detail),Ye=["value","label","placeholder","suffix"],J={__name:"TextField",props:R({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),l=le(a=>t.value=a);return(a,r)=>(o(),c("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:r[0]||(r[0]=(...d)=>m(l)&&m(l)(...d))},null,40,Ye))}},se=e=>(j("data-v-06ab71a6"),e=e(),X(),e),We={class:"destination-tab"},Je=se(()=>s("span",null,"You may add credentials in the",-1)),Qe=se(()=>s("span",null,"settings page",-1)),Ze={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=x(e,"credentialId"),l=x(e,"fileName"),a=x(e,"description"),r=q(),{result:d,request:u}=F(r,!1,!0),i=h(()=>{var p;return(p=r.sharedContext.currentInstallation)==null?void 0:p.id}),n=h(()=>{var p,_,f;return(f=(_=(p=r.sharedContext.currentInstallation)==null?void 0:p.environment)==null?void 0:_.extension)==null?void 0:f.name});return u("/api/credentials"),(p,_)=>(o(),c("div",We,[T(He,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=f=>t.value=f),class:"destination-tab__input",options:m(d),label:"Credentials","prop-display":"name","prop-value":"id"},{selected:E(({selectedItem:f})=>[U(S((f==null?void 0:f.name)||"–"),1)]),option:E(({option:f})=>[U(S(f.name),1)]),hint:E(()=>[Je,T(Y,{class:"destination-tab__hint",to:m(K).extensionSettings,params:i.value},{default:E(()=>[U(S(n.value),1)]),_:1},8,["to","params"]),Qe]),_:1},8,["modelValue","options"]),T(J,{modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=f=>l.value=f),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),T(J,{modelValue:a.value,"onUpdate:modelValue":_[2]||(_[2]=f=>a.value=f),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},et=w(Ze,[["__scopeId","data-v-06ab71a6"]]),L={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},oe={[L.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:b.NICE_GREEN},[L.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:b.MIDDLE_GREY},[L.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:b.NICE_RED},[L.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:b.MIDDLE_GREY},[L.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:b.MIDDLE_GREY},[L.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:b.NICE_GREEN}},z=e=>(j("data-v-70dec868"),e=e(),X(),e),tt={class:"feed-summary"},at=z(()=>s("p",{class:"feed-summary__title"},"Summary",-1)),lt={class:"feed-summary__row"},st=z(()=>s("p",{class:"feed-summary__label"},"Feed",-1)),ot={class:"feed-summary__row"},it=z(()=>s("p",{class:"feed-summary__label"},"Status",-1)),nt=["icon-name","icon-color","text"],dt={class:"feed-summary__row"},ct=z(()=>s("p",{class:"feed-summary__label"},"Report Schedule",-1)),rt={class:"feed-summary__row"},ut=z(()=>s("p",{class:"feed-summary__label"},"Credential",-1)),pt={class:"feed-summary__row"},mt=z(()=>s("p",{class:"feed-summary__label"},"Description",-1)),_t={class:"truncator"},vt={class:"truncate-text"},ft={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,l=h(()=>oe[t.status]),a=h(()=>({name:"feeds.details",params:{id:t.id}}));return(r,d)=>(o(),c("div",tt,[at,s("div",lt,[st,T(m(ee),{to:a.value},{default:E(()=>[U(S(e.id),1)]),_:1},8,["to"])]),s("div",ot,[it,s("ui-status",{"icon-name":l.value.icon,"icon-color":l.value.color,text:l.value.text},null,8,nt)]),s("div",dt,[ct,T(Y,{to:m(K).reportsScheduleDetails,params:e.scheduleId},{default:E(()=>[U(S(e.scheduleId),1)]),_:1},8,["to","params"])]),s("div",rt,[ut,s("p",null,S(e.credential),1)]),s("div",pt,[mt,s("div",_t,[s("p",vt,S(e.description),1)])])]))}},ht=w(ft,[["__scopeId","data-v-70dec868"]]),bt={class:"dialog__header"},yt={class:"dialog__title"},gt={class:"dialog__body"},kt={key:0,class:"dialog__sidebar"},St={class:"dialog__content-wrapper"},$t={class:"dialog__content"},Et={class:"dialog__actions"},It=["disabled","color","onClicked"],Tt=["color"],xt={key:1,class:"dialog__action-label"},Dt={__name:"SimpleDialog",props:R({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>["cancel","close","details","save","submit","spacer","next","back"].includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:R(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const l=x(e,"modelValue"),a=e,r=t,d=ge(),u=O(!1),i=async()=>{u.value=!0;try{await a.onSubmit()}finally{u.value=!1}},n=()=>l.value=!1,p=h(()=>({cancel:{key:"cancel",handler:n,label:"Cancel"},close:{key:"close",handler:n,label:"Close"},submit:{key:"submit",disabled:!a.isValid,handler:i,label:a.submitLabel||"Submit",loading:u.value,color:b.NICE_BLUE},save:{key:"save",disabled:!a.isValid,handler:async()=>{await i(),n()},label:a.submitLabel||"Save",loading:u.value,color:b.NICE_BLUE},details:{key:"details",handler:()=>d.push(a.detailsRoute),label:"Go to details"},spacer:{key:"spacer"},next:{key:"next",disabled:!a.isValid,handler:()=>r("next"),label:"Next",color:b.NICE_BLUE},back:{key:"back",disabled:a.backDisabled,handler:()=>r("back"),label:"Back"}})),_=h(()=>a.actions.map(k=>p.value[k])),f=ke("fullscreen-height");return H(l,k=>{k?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),Se(()=>{document.documentElement.classList.remove("is-clipped")}),(k,$)=>(o(),V(Ee,{to:".dialogs-container"},[l.value?(o(),c("div",$e({key:0},k.$attrs,{class:"dialog",style:{height:m(f)}}),[s("div",{class:"dialog__container",style:te({height:e.height,width:e.width})},[s("div",bt,[C(k.$slots,"header",{},()=>[s("p",yt,S(e.title),1)],!0)]),s("div",gt,[k.$slots.sidebar?(o(),c("div",kt,[C(k.$slots,"sidebar",{},void 0,!0)])):D("",!0),s("div",St,[s("div",$t,[C(k.$slots,"default",{},void 0,!0)]),s("div",Et,[(o(!0),c(B,null,N(_.value,g=>(o(),c(B,null,[g.key==="spacer"?(o(),c("div",{key:g.key,class:"dialog__spacer"})):(o(),c("ui-button",{key:g.key,class:"dialog__action",disabled:g.disabled,color:g.color||m(b).TEXT,height:"36px","background-color":"transparent",onClicked:g.handler},[g.loading?(o(),c("ui-icon",{key:0,class:"dialog__action-icon",color:g.color||m(b).TEXT,"icon-name":"connectLoaderAnimated",size:"24"},null,8,Tt)):(o(),c("span",xt,S(g.label),1))],40,It))],64))),256))])])])],4)],16)):D("",!0)]))}},Vt=w(Dt,[["__scopeId","data-v-4bbd847e"]]),Ct=["onClick"],wt={key:0,class:"vertical-tabs__tab-index"},Rt=["color"],Bt={key:1},Nt=["color"],At={__name:"VerticalTabs",props:R({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,l=x(e,"activeTabKey"),a=h(()=>t.tabs.findIndex(i=>i.key===l.value)),r=h(()=>t.tabs.map((i,n)=>({...i,step:n+1,active:n===a.value,inactive:t.linear&&n>a.value,classes:{"vertical-tabs__tab_active":n===a.value,"vertical-tabs__tab_inactive":i.skipStep||t.linear&&n>a.value}}))),d=h(()=>({"vertical-tabs_linear":t.linear})),u=i=>{t.linear||(l.value=i.key)};return(i,n)=>(o(),c("div",{class:M(["vertical-tabs",d.value])},[(o(!0),c(B,null,N(r.value,p=>(o(),c("div",{key:p.key,class:M(["vertical-tabs__tab",p.classes]),onClick:_=>u(p)},[t.linear?(o(),c("div",wt,[p.skipStep?(o(),c("ui-icon",{key:0,"icon-name":"googleArrowDownwardBaseline",color:m(b).NICE_BLUE,size:"18"},null,8,Rt)):p.inactive||p.active?(o(),c("span",Bt,S(p.step),1)):(o(),c("ui-icon",{key:2,"icon-name":"googleCheckBaseline",color:m(b).NICE_BLUE,size:"18"},null,8,Nt))])):D("",!0),s("p",null,S(p.label),1)],10,Ct))),128))],2))}},Lt=w(At,[["__scopeId","data-v-bff37898"]]),Ft={__name:"FormDialog",props:R({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return["wizard","edit"].includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,l=x(e,"modelValue"),a=O(""),r=h(()=>t.tabs.findIndex(I=>I.key===a.value)),d=h(()=>t.tabs.find(I=>I.key===a.value)),u=h(()=>r.value===0),i=h(()=>r.value===t.tabs.length-1),n=h(()=>a.value==="summary"),p=h(()=>d.value.submittable),_=h(()=>t.mode==="edit"?t.title:n.value?`${t.title} – Summary`:`${t.title} – Step ${r.value+1}`),f=h(()=>(d.value.includes||[]).every(A=>{const P=t.rules[A];return P?P.every(ie=>ie(t.form[A])):!0})),k=I=>{a.value=t.tabs[I].key},$=()=>{const I=r.value+1;k(I)},g=()=>{const I=r.value-1;k(I)},v=async()=>{try{await t.onSubmit(),t.mode==="wizard"&&!i.value&&$()}catch{}},y=h(()=>t.mode==="edit"?["spacer","close","save"]:n.value?["spacer","details","close"]:p.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return H(l,()=>k(0),{immediate:!0}),(I,A)=>(o(),V(Vt,{modelValue:l.value,"onUpdate:modelValue":A[1]||(A[1]=P=>l.value=P),class:M(["form-dialog",`form-dialog_${e.mode}`]),actions:y.value,"back-disabled":u.value,"details-route":e.detailsRoute,height:e.height,"is-valid":f.value,"on-submit":v,title:_.value,width:e.width,onBack:g,onNext:$},{sidebar:E(()=>[T(Lt,{"active-tab-key":a.value,"onUpdate:activeTabKey":A[0]||(A[0]=P=>a.value=P),tabs:e.tabs,linear:e.mode==="wizard"},null,8,["active-tab-key","tabs","linear"])]),default:E(()=>[C(I.$slots,a.value)]),_:3},8,["modelValue","class","actions","back-disabled","details-route","height","is-valid","title","width"]))}},Ut=["icon-name","color"],qt=["value"],Pt={class:"radio-input__label-text"},Mt={__name:"RadioInput",props:R({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),l=e,a=h(()=>t.value===l.value),r=h(()=>a.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),d=h(()=>a.value?b.NICE_BLUE:""),u=()=>{t.value=l.value};return(i,n)=>(o(),c("div",{class:"radio-input",onClick:u},[s("ui-icon",{class:"radio-input__box","icon-name":r.value,color:d.value},null,8,Ut),s("label",{class:M(["radio-input__label",{"radio-input__label_empty":!e.label}])},[Z(s("input",{"onUpdate:modelValue":n[0]||(n[0]=p=>t.value=p),value:e.value,class:"radio-input__input",type:"radio"},null,8,qt),[[Ie,t.value]]),s("span",Pt,S(e.label),1)],2)]))}},zt=w(Mt,[["__scopeId","data-v-beee31f1"]]),Ot={class:"radio-table"},Gt={class:"radio-table__title"},Kt={key:0,class:"radio-table__search"},jt=["placeholder"],Xt={class:"radio-table__table"},Ht=["onClick"],Yt={class:"radio-table__item-content"},Wt={__name:"RadioTable",props:R({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:R(["search"],["update:modelValue"]),setup(e,{emit:t}){const l=x(e,"modelValue"),a=t,r=e,d=i=>{l.value=i[r.valueProp]},u=le(i=>{a("search",i)});return(i,n)=>(o(),c("div",Ot,[s("p",Gt,S(e.title),1),e.hideSearch?D("",!0):(o(),c("div",Kt,[s("ui-textfield",{placeholder:e.searchPlaceholder,onInput:n[0]||(n[0]=(...p)=>m(u)&&m(u)(...p))},null,40,jt)])),s("div",Xt,[(o(!0),c(B,null,N(e.items,p=>(o(),c("div",{key:p[e.valueProp],class:"radio-table__item",onClick:_=>d(p)},[s("div",Yt,[C(i.$slots,"default",{item:p},void 0,!0)]),T(zt,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=_=>l.value=_),value:p[e.valueProp]},null,8,["modelValue","value"])],8,Ht))),128))])]))}},Jt=w(Wt,[["__scopeId","data-v-7033db48"]]),Qt=(e,t=200)=>{let l=null;return(...a)=>{window.clearTimeout(l),l=window.setTimeout(()=>{e(...a)},t)}},Ga=(e=0,t={})=>Te(e,{base:2,locale:"en",standard:"jedec",...t}),Ka=(e,t="")=>{const l=document.createElement("a");document.body.appendChild(l),l.href=e,t?l.download=t:l.rel="noopener noreferrer",l.click(),document.body.removeChild(l)},Zt={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),{result:l,request:a}=F(q(),!1,!0),r=h(()=>l.filter(i=>i.renderer==="csv")),d=async(i="")=>{let n="/public/v1/reporting/schedules?limit=100";i&&(n+=`&(((ilike(id,${i}*))|(ilike(name,*${i}*))))`),await a(n)},u=Qt(d,500);return d(),(i,n)=>(o(),V(Jt,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=p=>t.value=p),items:r.value,"search-placeholder":"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:m(u)},{default:E(({item:p})=>[T(ne,{"body-text":p.name,"assistive-text":p.id},null,8,["body-text","assistive-text"])]),_:1},8,["modelValue","items","onSearch"]))}},Q=e=>!!e,G={required:e=>t=>e&&e.prop?Q(t[e.prop]):Q(t)},ea={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:R(["created"],["update:modelValue"]),setup(e,{emit:t}){const l=x(e,"modelValue"),a=t,r=q(),{result:d,request:u}=F(r,!0),i=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],n=ae({scheduleId:"",credentialId:"",fileName:"",description:""}),p={scheduleId:[G.required()],credentialId:[G.required()],fileName:[G.required()]},_=h(()=>{var g,v;return{id:d.id,scheduleId:(g=d.schedule)==null?void 0:g.id,credential:(v=d.credential)==null?void 0:v.id,description:d.description,status:d.status}}),f=h(()=>({name:"feeds.details",params:{id:_.value.id}})),k=async()=>{await u("/api/feeds","POST",{schedule:{id:n.scheduleId},credential:{id:n.credentialId},file_name:n.fileName,description:n.description}),a("created")},$=()=>{n.scheduleId="",n.credentialId="",n.fileName="",n.description=""};return H(l,g=>{g||$()},{immediate:!0}),(g,v)=>(o(),V(Ft,{modelValue:l.value,"onUpdate:modelValue":v[4]||(v[4]=y=>l.value=y),form:n,rules:p,"on-submit":k,tabs:i,"details-route":f.value,title:"Create Feed",mode:"wizard","submit-label":"Create"},{schedule:E(()=>[T(Zt,{modelValue:n.scheduleId,"onUpdate:modelValue":v[0]||(v[0]=y=>n.scheduleId=y)},null,8,["modelValue"])]),destination:E(()=>[T(et,{"credential-id":n.credentialId,"onUpdate:credentialId":v[1]||(v[1]=y=>n.credentialId=y),"file-name":n.fileName,"onUpdate:fileName":v[2]||(v[2]=y=>n.fileName=y),description:n.description,"onUpdate:description":v[3]||(v[3]=y=>n.description=y)},null,8,["credential-id","file-name","description"])]),summary:E(()=>[T(ht,{id:_.value.id,status:_.value.status,description:_.value.description,credential:_.value.credential,"schedule-id":_.value.scheduleId},null,8,["id","status","description","credential","schedule-id"])]),_:1},8,["modelValue","form","details-route"]))}},ta={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=q(),l=e,a=h(()=>{var d,u,i;return new Intl.DateTimeFormat((d=t==null?void 0:t.timezoneInfo)==null?void 0:d.region.replace("_","-"),{timeZone:(u=t==null?void 0:t.timezoneInfo)==null?void 0:u.timezone,hourCycle:(i=t==null?void 0:t.timezoneInfo)!=null&&i.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(l.date))});return(r,d)=>(o(),c("span",null,S(a.value),1))}},aa={class:"empty-placeholder"},la={class:"empty-placeholder_content"},sa={class:"empty-placeholder_icon"},oa=["icon-name","color"],ia=["color"],na=["color"],da={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,l)=>(o(),c("div",aa,[s("div",la,[s("div",sa,[s("ui-icon",{"icon-name":e.icon,color:m(b).MIDDLE_GREY,size:"56"},null,8,oa)]),s("h2",null,S(e.title),1),s("p",null,S(e.message),1),e.action?(o(),c("ui-button",{key:0,class:"empty-placeholder_action","background-color":"transparent",color:m(b).NICE_BLUE,onClicked:l[0]||(l[0]=a=>t.$emit("actionClicked"))},[s("ui-icon",{"icon-name":"googleAddBaseline",color:m(b).NICE_BLUE,size:"18"},null,8,na),s("span",null,S(e.action),1)],40,ia)):D("",!0)])]))}},ca=w(da,[["__scopeId","data-v-47ae6665"]]),ra={class:"actions-menu",align:"right","close-on-click-inside":!1},ua={slot:"trigger",class:"actions-menu__trigger"},pa=["background-color"],ma=["color"],_a={slot:"content",class:"actions-menu__content"},va={key:0,class:"horizontal-divider"},fa=["background-color","color","disabled","onClicked"],ha={class:"actions-menu__action-content"},ba=["icon-name","color"],ya={__name:"ActionsMenu",props:{actions:{type:Array,required:!0,validator(e){return e.length>0&&e.every(t=>!!(t.key&&t.text&&t.icon&&t.handler))}}},setup(e){return(t,l)=>(o(),c("ui-menu",ra,[s("div",ua,[C(t.$slots,"trigger",{},()=>[s("ui-button",{class:"actions-menu__trigger-button","background-color":m(b).WHITE,height:"36px",width:"36px"},[s("ui-icon",{class:"actions-menu__trigger-icon",color:m(b).TEXT,"icon-name":"googleMoreVertBaseline"},null,8,ma)],8,pa)],!0)]),s("div",_a,[(o(!0),c(B,null,N(e.actions,a=>(o(),c("div",{key:a.key,class:"actions-menu__action"},[a.separated?(o(),c("div",va)):D("",!0),a.hide?D("",!0):(o(),c("ui-button",{key:1,ref_for:!0,ref:a.key,"background-color":m(b).TRANSPARENT,color:a.color||m(b).TEXT,disabled:a.disabled,height:"32px",width:"156px",onClicked:a.handler},[s("div",ha,[s("ui-icon",{"icon-name":a.loading?"connectLoaderAnimated":a.icon,color:a.color||m(b).TEXT,size:"18"},null,8,ba),s("span",null,S(a.text),1)])],40,fa))]))),128))])]))}},ga=w(ya,[["__scopeId","data-v-6dc318a3"]]),ka={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const l=e,a=t,r=q(),d=F(r),u=F(r),i=F(r),n=F(r),p=h(()=>l.feed.id),_=h(()=>l.feed.status===L.DISABLED),f=async()=>{await u.request(`/api/feeds/${p.value}/disable`,"POST")<400&&a("disabled")},k=async()=>{await d.request(`/api/feeds/${p.value}/enable`,"POST")<400&&a("enabled")},$=async()=>{await n.request(`/api/feeds/${p.value}/uploads/force`,"POST")<400&&a("uploaded")},g=async()=>{await i.request(`/api/feeds/${p.value}`,"DELETE")<400&&a("deleted")},v=ae([{key:"disable",color:b.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:u.loading,hide:_,handler:f},{key:"enable",color:b.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:d.loading,hide:!_.value,handler:k},{key:"forceUpload",color:b.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:n.loading,disabled:_.value,handler:$},{separated:!0,key:"delete",color:b.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",loading:i.loading,handler:g}]);return(y,I)=>(o(),V(ga,{class:"feed-actions",actions:v},xe({_:2},[y.$slots.default?{name:"trigger",fn:E(()=>[C(y.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]))}},Sa={class:"loading-indicator"},$a=["size","color"],Ea={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,l)=>(o(),c("div",Sa,[s("ui-icon",{"icon-name":"connectLoaderAnimated",size:e.size,color:m(b).DARKER_BLUE},null,8,$a)]))}},Ia=w(Ea,[["__scopeId","data-v-bf2c85cd"]]),Ta=e=>(j("data-v-6ed98659"),e=e(),X(),e),xa={title:"Feeds",style:{height:"inherit"},"no-padded":""},Da={key:0,slot:"actions",class:"header-actions"},Va=["background-color","color"],Ca=Ta(()=>s("span",null,"Create Feed",-1)),wa=[Ca],Ra=["total-items","current-page"],Ba=["icon-name","icon-color","text"],Na={key:5,class:"truncator"},Aa={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:l,page:a,total:r,load:d,loading:u,next:i,previous:n}=de("/api/feeds"),p=h(()=>!l.value.length),_=h(()=>l.value.map($=>({id:$.id,scheduleId:$.schedule.id,createdAt:$.events.created.at,description:$.description,status:oe[$.status],rawFeed:$}))),f=O(!1),k=()=>{f.value=!0};return De(async()=>{await d()}),($,g)=>(o(),c("ui-view",xa,[p.value?D("",!0):(o(),c("div",Da,[s("ui-button",{class:"header-button","background-color":m(b).WHITE,color:m(b).TEXT,height:"36px",onClicked:k},wa,40,Va)])),m(u)?(o(),V(Ia,{key:1})):p.value?(o(),V(ca,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:k})):(o(),c("ui-complex-table",{key:3,headers:t,"total-items":m(r),"current-page":m(a),fixed:"",onNextClicked:g[0]||(g[0]=(...v)=>m(i)&&m(i)(...v)),onPreviousClicked:g[1]||(g[1]=(...v)=>m(n)&&m(n)(...v))},[(o(!0),c(B,null,N(_.value,v=>(o(),c("tr",{key:v.id},[(o(),c(B,null,N(t,y=>s("td",{key:y.key},[y.key==="id"?(o(),V(m(ee),{key:0,to:{name:"feeds.details",params:{id:v.id}}},{default:E(()=>[U(S(v.id),1)]),_:2},1032,["to"])):y.key==="schedule"?(o(),V(Y,{key:1,to:m(K).reportsScheduleDetails,params:v.scheduleId},{default:E(()=>[U(S(v.scheduleId),1)]),_:2},1032,["to","params"])):y.key==="status"?(o(),c("ui-status",{key:2,"icon-name":v.status.icon,"icon-color":v.status.color,text:v.status.text},null,8,Ba)):y.key==="createdAt"?(o(),V(ta,{key:3,date:v.createdAt},null,8,["date"])):D("",!0),y.key==="actions"?(o(),V(ka,{key:4,feed:v.rawFeed,onEnabled:m(d),onDisabled:m(d),onUploaded:m(d),onDeleted:m(d)},null,8,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):y.key==="description"?(o(),c("div",Na,[s("span",{class:M(["truncate-text",{"assistive-color":!v[y.key]}])},S(v[y.key]||"—"),3)])):D("",!0)])),64))]))),128))],40,Ra)),T(ea,{modelValue:f.value,"onUpdate:modelValue":g[2]||(g[2]=v=>f.value=v),onCreated:m(d)},null,8,["modelValue","onCreated"])]))}},La=w(Aa,[["__scopeId","data-v-6ed98659"]]),Fa=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:La},{name:"feeds.details",path:"/feeds/:id",component:()=>Le(()=>import("./FeedDetails-CPFZCMiC.js"),__vite__mapDeps([0,1,2,3,4,5]))}],Ua=Ve({history:Ce(),routes:Fa}),qa=s("div",{class:"dialogs-container"},null,-1),Pa={__name:"MainPage",setup(e){const t=O(""),l=h(()=>({height:t.value}));return q().listen("fullscreenSize",({height:r})=>{t.value=`${r}px`}),we("fullscreen-height",t),(r,d)=>(o(),c("div",{class:"app",style:te(l.value)},[qa,T(m(Re))],4))}};ce({"ui-view":re,"ui-complex-table":ue,"ui-icon":pe,"ui-button":me,"ui-status":_e,"ui-menu":ve,"ui-tabs":fe,"ui-textfield":he}).then(e=>{const t=Be(Pa);t.use(Ua),t.use(be,e),t.mount("#app")});export{ga as A,b as C,et as D,Ia as L,oe as S,Ft as _,L as a,ta as b,Y as c,Ka as d,ka as e,Ga as g,G as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-CPFZCMiC.js","assets/connect-CssGEuJz.js","assets/vendor-QZT6KSBV.js","assets/DetailItem-BAhWrCsF.js","assets/DetailItem-D1ZAW7X-.css","assets/FeedDetails-B6mkvw_M.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
