import{o as a,c as i,b as u,t as m,d as C,p as L,e as A,f as $,g,h as F,j as h,u as d,F as v,k as S,w as D,R,n as O,l as I,m as T,q as z,a as P,s as M,v as V,x as G,y as q}from"./vendor-CL9-0E2M.js";import{s as k,a as H,V as j,H as U,p as Y,v as K,o as Q,l as W,b as Z,c as J}from"./connect-BRripZQu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const X=(o,e)=>{const n=o.__vccOpts||o;for(const[c,t]of e)n[c]=t;return n},ee=o=>(L("data-v-60059d99"),o=o(),A(),o),te={class:"empty-placeholder"},oe={class:"empty-placeholder_content"},se={class:"empty-placeholder_icon"},ne=["icon-name"],ae=ee(()=>u("ui-icon",{"icon-name":"googleAddBaseline",color:"#2C98F0",size:"18"},null,-1)),re={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(o){return(e,n)=>(a(),i("div",te,[u("div",oe,[u("div",se,[u("ui-icon",{"icon-name":o.icon,color:"#BDBDBD",size:"56"},null,8,ne)]),u("h2",null,m(o.title),1),u("p",null,m(o.message),1),o.action?(a(),i("ui-button",{key:0,class:"empty-placeholder_action","background-color":"transparent",color:"#2C98F0",onClicked:n[0]||(n[0]=c=>e.$emit("actionClicked"))},[ae,u("span",null,m(o.action),1)],32)):C("",!0)])]))}},ce=X(re,[["__scopeId","data-v-60059d99"]]),ie={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(o){const e=o,{navigateTo:n}=k(),c=t=>{t.preventDefault(),t.stopPropagation(),n(e.to,e.params)};return(t,s)=>(a(),i("a",{onClick:c},[$(t.$slots,"default")]))}},le={__name:"DateItem",props:{date:{type:String,required:!0}},setup(o){const{sharedContext:e}=k(),n=o,c=g(()=>{var s,l,y;return new Intl.DateTimeFormat((s=e==null?void 0:e.timezoneInfo)==null?void 0:s.region.replace("_","-"),{timeZone:(l=e==null?void 0:e.timezoneInfo)==null?void 0:l.timezone,hourCycle:(y=e==null?void 0:e.timezoneInfo)!=null&&y.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(n.date))});return(t,s)=>(a(),i("span",null,m(c.value),1))}},E={NICE_GREEN:"#0BB071",MIDDLE_GREY:"#BDBDBD"},b={ENABLED:"enabled",DISABLED:"disabled"},de={[b.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:E.NICE_GREEN},[b.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:E.MIDDLE_GREY}},ue={title:"Feeds","no-padded":""},pe=["total-items","current-page"],me=["icon-name","icon-color","text"],fe={key:4,class:"truncator"},x={__name:"FeedsView",setup(o){const e=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"}],{items:n,page:c,total:t,load:s,next:l,previous:y}=H("/api/feeds"),B=g(()=>!n.value.length),N=g(()=>n.value.map(f=>({id:f.id,scheduleId:f.schedule.id,createdAt:f.events.created.at,description:f.description,status:de[f.status]}))),w=()=>{};return F(async()=>{await s()}),(f,_)=>(a(),i("ui-view",ue,[B.value?(a(),h(ce,{key:0,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:w})):(a(),i("ui-complex-table",{key:1,headers:e,"total-items":d(t),"current-page":d(c),fixed:"",onNextClicked:_[0]||(_[0]=(...r)=>d(l)&&d(l)(...r)),onPreviousClicked:_[1]||(_[1]=(...r)=>d(y)&&d(y)(...r))},[(a(!0),i(v,null,S(N.value,r=>(a(),i("tr",{key:r.id},[(a(),i(v,null,S(e,p=>u("td",{key:p.key},[p.key==="id"?(a(),h(d(R),{key:0,to:{name:"feeds.details",params:{id:r.id}}},{default:D(()=>[I(m(r.id),1)]),_:2},1032,["to"])):p.key==="schedule"?(a(),h(ie,{key:1,to:d(j).reportsScheduleDetails,params:r.scheduleId},{default:D(()=>[I(m(r.scheduleId),1)]),_:2},1032,["to","params"])):p.key==="status"?(a(),i("ui-status",{key:2,"icon-name":r.status.icon,"icon-color":r.status.color,text:r.status.text},null,8,me)):p.key==="createdAt"?(a(),h(le,{key:3,date:r.createdAt},null,8,["date"])):(a(),i("div",fe,[u("span",{class:O(["truncate-text",{"assistive-color":!r[p.key]}])},m(r[p.key]||"â€”"),3)]))])),64))]))),128))],40,pe))]))}},ye=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:x},{name:"feeds.details",path:"/feeds/:id",component:x}],_e=T({history:z(),routes:ye}),he={__name:"MainPage",setup(o){const e=P(""),n=g(()=>({minHeight:e.value}));return k().listen("containerSize",t=>{e.value=t.height}),(t,s)=>(a(),i("div",{class:"app",style:G(n.value)},[M(d(V))],4))}};U({"ui-view":Y,"ui-complex-table":K,"ui-icon":Q,"ui-button":W,"ui-status":Z}).then(o=>{const e=q(he);e.use(_e),e.use(J,o),e.mount("#app")});
