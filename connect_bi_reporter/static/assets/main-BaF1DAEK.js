import{_ as D,u as A,D as ne}from"./DetailItem-CcqWq6Tw.js";import{s as U,V as G,a as de,H as ce,p as re,v as ue,o as pe,l as me,b as _e,w as ve,z as fe,r as he,c as be}from"./connect-DBSWfLqd.js";import{m as R,u as x,c as h,o as s,b as c,d as a,t as k,e as w,w as Z,v as ye,F as N,f as F,g as B,h as m,n as z,j as V,k as E,l as L,p as j,q as H,R as ee,s as ge,a as P,i as ke,x as X,y as Se,z as C,A as te,B as $e,T as Ie,C as Ee,r as ae,D as Te,E as Ve,G as xe,H as we,I as De,J as Ce}from"./vendor-D5PxE7d-.js";const Be="modulepreload",Re=function(e){return"/static/"+e},W={},Ne=function(t,l,o){let r=Promise.resolve();if(l&&l.length>0){const d=document.getElementsByTagName("link");r=Promise.all(l.map(u=>{if(u=Re(u),u in W)return;W[u]=!0;const i=u.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(!!o)for(let f=d.length-1;f>=0;f--){const g=d[f];if(g.href===u&&(!i||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${n}`))return;const _=document.createElement("link");if(_.rel=i?"stylesheet":Be,i||(_.as="script",_.crossOrigin=""),_.href=u,document.head.appendChild(_),i)return new Promise((f,g)=>{_.addEventListener("load",f),_.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}return r.then(()=>t()).catch(d=>{const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=d,window.dispatchEvent(u),!u.defaultPrevented)throw d})},S={NICE_GREEN:"#0BB071",NICE_RED:"#FF6A6A",MIDDLE_GREY:"#BDBDBD",DARK_GREY:"#666666",NICE_BLUE:"#2C98F0",DARKER_BLUE:"#4797f2",TEXT:"#212121",WHITE:"#FFFFFF",TRANSPARENT:"transparent"},Fe={class:"select-input"},Ae={key:0,class:"select-input__label"},Le={class:"select-input__real-input"},Ue=["value"],qe={"full-width":"","close-on-click-inside":""},ze={slot:"trigger",class:"select-input__selected"},Me=["color"],Pe={slot:"content",class:"select-input__menu"},Oe=["onClick"],Ke={key:1,class:"select-input__hint assistive-text"},Ge={__name:"SelectInput",props:R({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),l=e,o=d=>{t.value=d[l.propValue]},r=h(()=>l.options.find(d=>d[l.propValue]===t.value)||null);return(d,u)=>(s(),c("div",Fe,[e.label?(s(),c("div",Ae,[a("p",null,k(e.label),1)])):w("",!0),a("div",Le,[Z(a("select",{"onUpdate:modelValue":u[0]||(u[0]=i=>t.value=i)},[(s(!0),c(N,null,F(e.options,i=>(s(),c("option",{key:i[e.propValue],value:i[e.propValue]},null,8,Ue))),128))],512),[[ye,t.value]])]),a("ui-menu",qe,[a("div",ze,[B(d.$slots,"selected",{selectedItem:r.value},()=>[a("span",null,k(t.value),1)],!0),a("ui-icon",{"icon-name":"googleArrowDropDownBaseline",color:m(S).DARK_GREY,size:"24"},null,8,Me)]),a("div",Pe,[(s(!0),c(N,null,F(e.options,i=>(s(),c("div",{key:i[e.propValue],class:z(["select-input__option",{"select-input__option_selected":i[e.propValue]===t.value}]),onClick:n=>o(i)},[B(d.$slots,"option",{option:i,isSelected:i[e.propValue]===t.value},()=>[a("span",null,k(i[e.propValue]),1)],!0)],10,Oe))),128))])]),e.hint||d.$slots.hint?(s(),c("div",Ke,[B(d.$slots,"hint",{},()=>[a("p",null,k(e.hint),1)],!0)])):w("",!0)]))}},je=D(Ge,[["__scopeId","data-v-fc9cf8f5"]]),Y={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:l}=U(),o=r=>{r.preventDefault(),r.stopPropagation(),l(t.to,t.params)};return(r,d)=>(s(),c("a",{onClick:o},[B(r.$slots,"default")]))}},le=e=>t=>e(...t.detail),He=["value","label","placeholder","suffix"],J={__name:"TextField",props:R({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),l=le(o=>t.value=o);return(o,r)=>(s(),c("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:r[0]||(r[0]=(...d)=>m(l)&&m(l)(...d))},null,40,He))}},se=e=>(j("data-v-06ab71a6"),e=e(),H(),e),Xe={class:"destination-tab"},Ye=se(()=>a("span",null,"You may add credentials in the",-1)),We=se(()=>a("span",null,"settings page",-1)),Je={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=x(e,"credentialId"),l=x(e,"fileName"),o=x(e,"description"),r=U(),{result:d,request:u}=A(r,!1,!0),i=h(()=>{var p;return(p=r.sharedContext.currentInstallation)==null?void 0:p.id}),n=h(()=>{var p,_,f;return(f=(_=(p=r.sharedContext.currentInstallation)==null?void 0:p.environment)==null?void 0:_.extension)==null?void 0:f.name});return u("/api/credentials"),(p,_)=>(s(),c("div",Xe,[V(je,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=f=>t.value=f),class:"destination-tab__input",options:m(d),label:"Credentials","prop-display":"name","prop-value":"id"},{selected:E(({selectedItem:f})=>[L(k((f==null?void 0:f.name)||"â€“"),1)]),option:E(({option:f})=>[L(k(f.name),1)]),hint:E(()=>[Ye,V(Y,{class:"destination-tab__hint",to:m(G).extensionSettings,params:i.value},{default:E(()=>[L(k(n.value),1)]),_:1},8,["to","params"]),We]),_:1},8,["modelValue","options"]),V(J,{modelValue:l.value,"onUpdate:modelValue":_[1]||(_[1]=f=>l.value=f),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),V(J,{modelValue:o.value,"onUpdate:modelValue":_[2]||(_[2]=f=>o.value=f),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},Qe=D(Je,[["__scopeId","data-v-06ab71a6"]]),K={ENABLED:"enabled",DISABLED:"disabled"},oe={[K.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:S.NICE_GREEN},[K.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:S.MIDDLE_GREY}},M=e=>(j("data-v-70dec868"),e=e(),H(),e),Ze={class:"feed-summary"},et=M(()=>a("p",{class:"feed-summary__title"},"Summary",-1)),tt={class:"feed-summary__row"},at=M(()=>a("p",{class:"feed-summary__label"},"Feed",-1)),lt={class:"feed-summary__row"},st=M(()=>a("p",{class:"feed-summary__label"},"Status",-1)),ot=["icon-name","icon-color","text"],it={class:"feed-summary__row"},nt=M(()=>a("p",{class:"feed-summary__label"},"Report Schedule",-1)),dt={class:"feed-summary__row"},ct=M(()=>a("p",{class:"feed-summary__label"},"Credential",-1)),rt={class:"feed-summary__row"},ut=M(()=>a("p",{class:"feed-summary__label"},"Description",-1)),pt={class:"truncator"},mt={class:"truncate-text"},_t={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,l=h(()=>oe[t.status]),o=h(()=>({name:"feeds.details",params:{id:t.id}}));return(r,d)=>(s(),c("div",Ze,[et,a("div",tt,[at,V(m(ee),{to:o.value},{default:E(()=>[L(k(e.id),1)]),_:1},8,["to"])]),a("div",lt,[st,a("ui-status",{"icon-name":l.value.icon,"icon-color":l.value.color,text:l.value.text},null,8,ot)]),a("div",it,[nt,V(Y,{to:m(G).reportsScheduleDetails,params:e.scheduleId},{default:E(()=>[L(k(e.scheduleId),1)]),_:1},8,["to","params"])]),a("div",dt,[ct,a("p",null,k(e.credential),1)]),a("div",rt,[ut,a("div",pt,[a("p",mt,k(e.description),1)])])]))}},vt=D(_t,[["__scopeId","data-v-70dec868"]]),ft={class:"dialog__header"},ht={class:"dialog__title"},bt={class:"dialog__body"},yt={key:0,class:"dialog__sidebar"},gt={class:"dialog__content-wrapper"},kt={class:"dialog__content"},St={class:"dialog__actions"},$t=["disabled","color","onClicked"],It=["color"],Et={key:1,class:"dialog__action-label"},Tt={__name:"SimpleDialog",props:R({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>["cancel","close","details","save","submit","spacer","next","back"].includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:R(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const l=x(e,"modelValue"),o=e,r=t,d=ge(),u=P(!1),i=async()=>{u.value=!0;try{await o.onSubmit()}finally{u.value=!1}},n=()=>l.value=!1,p=h(()=>({cancel:{key:"cancel",handler:n,label:"Cancel"},close:{key:"close",handler:n,label:"Close"},submit:{key:"submit",disabled:!o.isValid,handler:i,label:o.submitLabel||"Submit",loading:u.value,color:S.NICE_BLUE},save:{key:"save",disabled:!o.isValid,handler:async()=>{await i(),n()},label:o.submitLabel||"Save",loading:u.value,color:S.NICE_BLUE},details:{key:"details",handler:()=>d.push(o.detailsRoute),label:"Go to details"},spacer:{key:"spacer"},next:{key:"next",disabled:!o.isValid,handler:()=>r("next"),label:"Next",color:S.NICE_BLUE},back:{key:"back",disabled:o.backDisabled,handler:()=>r("back"),label:"Back"}})),_=h(()=>o.actions.map(g=>p.value[g])),f=ke("fullscreen-height");return X(l,g=>{g?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),Se(()=>{document.documentElement.classList.remove("is-clipped")}),(g,I)=>(s(),C(Ie,{to:".dialogs-container"},[l.value?(s(),c("div",$e({key:0},g.$attrs,{class:"dialog",style:{height:m(f)}}),[a("div",{class:"dialog__container",style:te({height:e.height,width:e.width})},[a("div",ft,[B(g.$slots,"header",{},()=>[a("p",ht,k(e.title),1)],!0)]),a("div",bt,[g.$slots.sidebar?(s(),c("div",yt,[B(g.$slots,"sidebar",{},void 0,!0)])):w("",!0),a("div",gt,[a("div",kt,[B(g.$slots,"default",{},void 0,!0)]),a("div",St,[(s(!0),c(N,null,F(_.value,y=>(s(),c(N,null,[y.key==="spacer"?(s(),c("div",{key:y.key,class:"dialog__spacer"})):(s(),c("ui-button",{key:y.key,class:"dialog__action",disabled:y.disabled,color:y.color||m(S).TEXT,height:"36px","background-color":"transparent",onClicked:y.handler},[y.loading?(s(),c("ui-icon",{key:0,class:"dialog__action-icon",color:y.color||m(S).TEXT,"icon-name":"connectLoaderAnimated",size:"24"},null,8,It)):(s(),c("span",Et,k(y.label),1))],40,$t))],64))),256))])])])],4)],16)):w("",!0)]))}},Vt=D(Tt,[["__scopeId","data-v-4bbd847e"]]),xt=["onClick"],wt={key:0,class:"vertical-tabs__tab-index"},Dt=["color"],Ct={key:1},Bt=["color"],Rt={__name:"VerticalTabs",props:R({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,l=x(e,"activeTabKey"),o=h(()=>t.tabs.findIndex(i=>i.key===l.value)),r=h(()=>t.tabs.map((i,n)=>({...i,step:n+1,active:n===o.value,inactive:t.linear&&n>o.value,classes:{"vertical-tabs__tab_active":n===o.value,"vertical-tabs__tab_inactive":i.skipStep||t.linear&&n>o.value}}))),d=h(()=>({"vertical-tabs_linear":t.linear})),u=i=>{t.linear||(l.value=i.key)};return(i,n)=>(s(),c("div",{class:z(["vertical-tabs",d.value])},[(s(!0),c(N,null,F(r.value,p=>(s(),c("div",{key:p.key,class:z(["vertical-tabs__tab",p.classes]),onClick:_=>u(p)},[t.linear?(s(),c("div",wt,[p.skipStep?(s(),c("ui-icon",{key:0,"icon-name":"googleArrowDownwardBaseline",color:m(S).NICE_BLUE,size:"18"},null,8,Dt)):p.inactive||p.active?(s(),c("span",Ct,k(p.step),1)):(s(),c("ui-icon",{key:2,"icon-name":"googleCheckBaseline",color:m(S).NICE_BLUE,size:"18"},null,8,Bt))])):w("",!0),a("p",null,k(p.label),1)],10,xt))),128))],2))}},Nt=D(Rt,[["__scopeId","data-v-bff37898"]]),Ft={__name:"FormDialog",props:R({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return["wizard","edit"].includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,l=x(e,"modelValue"),o=P(""),r=h(()=>t.tabs.findIndex(T=>T.key===o.value)),d=h(()=>t.tabs.find(T=>T.key===o.value)),u=h(()=>r.value===0),i=h(()=>r.value===t.tabs.length-1),n=h(()=>o.value==="summary"),p=h(()=>d.value.submittable),_=h(()=>t.mode==="edit"?t.title:n.value?`${t.title} â€“ Summary`:`${t.title} â€“ Step ${r.value+1}`),f=h(()=>(d.value.includes||[]).every($=>{const q=t.rules[$];return q?q.every(ie=>ie(t.form[$])):!0})),g=T=>{o.value=t.tabs[T].key},I=()=>{const T=r.value+1;g(T)},y=()=>{const T=r.value-1;g(T)},v=async()=>{try{await t.onSubmit(),t.mode==="wizard"&&!i.value&&I()}catch{}},b=h(()=>t.mode==="edit"?["spacer","close","save"]:n.value?["spacer","details","close"]:p.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return X(l,()=>g(0),{immediate:!0}),(T,$)=>(s(),C(Vt,{modelValue:l.value,"onUpdate:modelValue":$[1]||($[1]=q=>l.value=q),class:z(["form-dialog",`form-dialog_${e.mode}`]),actions:b.value,"back-disabled":u.value,"details-route":e.detailsRoute,height:e.height,"is-valid":f.value,"on-submit":v,title:_.value,width:e.width,onBack:y,onNext:I},{sidebar:E(()=>[V(Nt,{"active-tab-key":o.value,"onUpdate:activeTabKey":$[0]||($[0]=q=>o.value=q),tabs:e.tabs,linear:e.mode==="wizard"},null,8,["active-tab-key","tabs","linear"])]),default:E(()=>[B(T.$slots,o.value)]),_:3},8,["modelValue","class","actions","back-disabled","details-route","height","is-valid","title","width"]))}},At=["icon-name","color"],Lt=["value"],Ut={class:"radio-input__label-text"},qt={__name:"RadioInput",props:R({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),l=e,o=h(()=>t.value===l.value),r=h(()=>o.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),d=h(()=>o.value?S.NICE_BLUE:""),u=()=>{t.value=l.value};return(i,n)=>(s(),c("div",{class:"radio-input",onClick:u},[a("ui-icon",{class:"radio-input__box","icon-name":r.value,color:d.value},null,8,At),a("label",{class:z(["radio-input__label",{"radio-input__label_empty":!e.label}])},[Z(a("input",{"onUpdate:modelValue":n[0]||(n[0]=p=>t.value=p),value:e.value,class:"radio-input__input",type:"radio"},null,8,Lt),[[Ee,t.value]]),a("span",Ut,k(e.label),1)],2)]))}},zt=D(qt,[["__scopeId","data-v-beee31f1"]]),Mt={class:"radio-table"},Pt={class:"radio-table__title"},Ot={key:0,class:"radio-table__search"},Kt=["placeholder"],Gt={class:"radio-table__table"},jt=["onClick"],Ht={class:"radio-table__item-content"},Xt={__name:"RadioTable",props:R({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:R(["search"],["update:modelValue"]),setup(e,{emit:t}){const l=x(e,"modelValue"),o=t,r=e,d=i=>{l.value=i[r.valueProp]},u=le(i=>{o("search",i)});return(i,n)=>(s(),c("div",Mt,[a("p",Pt,k(e.title),1),e.hideSearch?w("",!0):(s(),c("div",Ot,[a("ui-textfield",{placeholder:e.searchPlaceholder,onInput:n[0]||(n[0]=(...p)=>m(u)&&m(u)(...p))},null,40,Kt)])),a("div",Gt,[(s(!0),c(N,null,F(e.items,p=>(s(),c("div",{key:p[e.valueProp],class:"radio-table__item",onClick:_=>d(p)},[a("div",Ht,[B(i.$slots,"default",{item:p},void 0,!0)]),V(zt,{modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=_=>l.value=_),value:p[e.valueProp]},null,8,["modelValue","value"])],8,jt))),128))])]))}},Yt=D(Xt,[["__scopeId","data-v-7033db48"]]),Wt=(e,t=200)=>{let l=null;return(...o)=>{window.clearTimeout(l),l=window.setTimeout(()=>{e(...o)},t)}},Jt={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),{result:l,request:o}=A(U(),!1,!0),r=h(()=>l.filter(i=>i.renderer==="csv")),d=async(i="")=>{let n="/public/v1/reporting/schedules?limit=100";i&&(n+=`&(((ilike(id,${i}*))|(ilike(name,*${i}*))))`),await o(n)},u=Wt(d,500);return d(),(i,n)=>(s(),C(Yt,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=p=>t.value=p),items:r.value,"search-placeholder":"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:m(u)},{default:E(({item:p})=>[V(ne,{"body-text":p.name,"assistive-text":p.id},null,8,["body-text","assistive-text"])]),_:1},8,["modelValue","items","onSearch"]))}},Q=e=>!!e,O={required:e=>t=>e&&e.prop?Q(t[e.prop]):Q(t)},Qt={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:R(["created"],["update:modelValue"]),setup(e,{emit:t}){const l=x(e,"modelValue"),o=t,r=U(),{result:d,request:u}=A(r,!0),i=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],n=ae({scheduleId:"",credentialId:"",fileName:"",description:""}),p={scheduleId:[O.required()],credentialId:[O.required()],fileName:[O.required()]},_=h(()=>{var y,v;return{id:d.id,scheduleId:(y=d.schedule)==null?void 0:y.id,credential:(v=d.credential)==null?void 0:v.id,description:d.description,status:d.status}}),f=h(()=>({name:"feeds.details",params:{id:_.value.id}})),g=async()=>{await u("/api/feeds","POST",{schedule:{id:n.scheduleId},credential:{id:n.credentialId},file_name:n.fileName,description:n.description}),o("created")},I=()=>{n.scheduleId="",n.credentialId="",n.fileName="",n.description=""};return X(l,y=>{y||I()},{immediate:!0}),(y,v)=>(s(),C(Ft,{modelValue:l.value,"onUpdate:modelValue":v[4]||(v[4]=b=>l.value=b),form:n,rules:p,"on-submit":g,tabs:i,"details-route":f.value,title:"Create Feed",mode:"wizard","submit-label":"Create"},{schedule:E(()=>[V(Jt,{modelValue:n.scheduleId,"onUpdate:modelValue":v[0]||(v[0]=b=>n.scheduleId=b)},null,8,["modelValue"])]),destination:E(()=>[V(Qe,{"credential-id":n.credentialId,"onUpdate:credentialId":v[1]||(v[1]=b=>n.credentialId=b),"file-name":n.fileName,"onUpdate:fileName":v[2]||(v[2]=b=>n.fileName=b),description:n.description,"onUpdate:description":v[3]||(v[3]=b=>n.description=b)},null,8,["credential-id","file-name","description"])]),summary:E(()=>[V(vt,{id:_.value.id,status:_.value.status,description:_.value.description,credential:_.value.credential,"schedule-id":_.value.scheduleId},null,8,["id","status","description","credential","schedule-id"])]),_:1},8,["modelValue","form","details-route"]))}},Zt={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=U(),l=e,o=h(()=>{var d,u,i;return new Intl.DateTimeFormat((d=t==null?void 0:t.timezoneInfo)==null?void 0:d.region.replace("_","-"),{timeZone:(u=t==null?void 0:t.timezoneInfo)==null?void 0:u.timezone,hourCycle:(i=t==null?void 0:t.timezoneInfo)!=null&&i.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(l.date))});return(r,d)=>(s(),c("span",null,k(o.value),1))}},ea={class:"empty-placeholder"},ta={class:"empty-placeholder_content"},aa={class:"empty-placeholder_icon"},la=["icon-name","color"],sa=["color"],oa=["color"],ia={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,l)=>(s(),c("div",ea,[a("div",ta,[a("div",aa,[a("ui-icon",{"icon-name":e.icon,color:m(S).MIDDLE_GREY,size:"56"},null,8,la)]),a("h2",null,k(e.title),1),a("p",null,k(e.message),1),e.action?(s(),c("ui-button",{key:0,class:"empty-placeholder_action","background-color":"transparent",color:m(S).NICE_BLUE,onClicked:l[0]||(l[0]=o=>t.$emit("actionClicked"))},[a("ui-icon",{"icon-name":"googleAddBaseline",color:m(S).NICE_BLUE,size:"18"},null,8,oa),a("span",null,k(e.action),1)],40,sa)):w("",!0)])]))}},na=D(ia,[["__scopeId","data-v-47ae6665"]]),da={class:"feed-actions",align:"right"},ca={slot:"trigger"},ra={slot:"content",class:"actions-menu"},ua={key:0,class:"horizontal-divider"},pa=["background-color","color","disabled","onClicked"],ma={class:"button-content"},_a=["icon-name","color"],va={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const l=e,o=t,r=U(),d=A(r),u=A(r),i=A(r),n=A(r),p=h(()=>l.feed.id),_=h(()=>l.feed.status===K.DISABLED),f=async()=>{await u.request(`/api/feeds/${p.value}/disable`,"POST")<400&&o("disabled")},g=async()=>{await d.request(`/api/feeds/${p.value}/enable`,"POST")<400&&o("enabled")},I=async()=>{await n.request(`/api/feeds/${p.value}/uploads/force`,"POST")<400&&o("uploaded")},y=async()=>{await i.request(`/api/feeds/${p.value}`,"DELETE")<400&&o("deleted")},v=ae([{action:"disable",color:S.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:u.loading,hide:_,handler:f},{action:"enable",color:S.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:d.loading,hide:!_.value,handler:g},{action:"forceUpload",color:S.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:n.loading,disabled:_.value,handler:I},{separated:!0,action:"delete",color:S.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",loading:i.loading,handler:y}]);return(b,T)=>(s(),c("ui-menu",da,[a("div",ca,[B(b.$slots,"default",{},void 0,!0)]),a("div",ra,[(s(!0),c(N,null,F(v,$=>(s(),c("div",{key:$.action,class:"action-button__wrapper"},[$.separated?(s(),c("div",ua)):w("",!0),$.hide?w("",!0):(s(),c("ui-button",{key:1,ref_for:!0,ref:$.action,class:"action-button","background-color":m(S).TRANSPARENT,color:$.color,disabled:$.disabled,height:"32px",width:"156px",onClicked:$.handler},[a("div",ma,[a("ui-icon",{"icon-name":$.loading?"connectLoaderAnimated":$.icon,color:$.color,size:"18"},null,8,_a),a("span",null,k($.text),1)])],40,pa))]))),128))])]))}},fa=D(va,[["__scopeId","data-v-762a5876"]]),ha={class:"loading-indicator"},ba=["size","color"],ya={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,l)=>(s(),c("div",ha,[a("ui-icon",{"icon-name":"connectLoaderAnimated",size:e.size,color:m(S).DARKER_BLUE},null,8,ba)]))}},ga=D(ya,[["__scopeId","data-v-bf2c85cd"]]),ka=e=>(j("data-v-39b9b91e"),e=e(),H(),e),Sa={title:"Feeds",style:{height:"inherit"},"no-padded":""},$a={key:0,slot:"actions",class:"header-actions"},Ia=["background-color","color"],Ea=ka(()=>a("span",null,"Create Feed",-1)),Ta=[Ea],Va=["total-items","current-page"],xa=["icon-name","icon-color","text"],wa=["background-color"],Da=["color"],Ca={key:5,class:"truncator"},Ba={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:l,page:o,total:r,load:d,loading:u,next:i,previous:n}=de("/api/feeds"),p=h(()=>!l.value.length),_=h(()=>l.value.map(I=>({id:I.id,scheduleId:I.schedule.id,createdAt:I.events.created.at,description:I.description,status:oe[I.status],rawFeed:I}))),f=P(!1),g=()=>{f.value=!0};return Te(async()=>{await d()}),(I,y)=>(s(),c("ui-view",Sa,[p.value?w("",!0):(s(),c("div",$a,[a("ui-button",{class:"header-button","background-color":m(S).WHITE,color:m(S).TEXT,height:"36px",onClicked:g},Ta,40,Ia)])),m(u)?(s(),C(ga,{key:1})):p.value?(s(),C(na,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:g})):(s(),c("ui-complex-table",{key:3,headers:t,"total-items":m(r),"current-page":m(o),fixed:"",onNextClicked:y[0]||(y[0]=(...v)=>m(i)&&m(i)(...v)),onPreviousClicked:y[1]||(y[1]=(...v)=>m(n)&&m(n)(...v))},[(s(!0),c(N,null,F(_.value,v=>(s(),c("tr",{key:v.id},[(s(),c(N,null,F(t,b=>a("td",{key:b.key},[b.key==="id"?(s(),C(m(ee),{key:0,to:{name:"feeds.details",params:{id:v.id}}},{default:E(()=>[L(k(v.id),1)]),_:2},1032,["to"])):b.key==="schedule"?(s(),C(Y,{key:1,to:m(G).reportsScheduleDetails,params:v.scheduleId},{default:E(()=>[L(k(v.scheduleId),1)]),_:2},1032,["to","params"])):b.key==="status"?(s(),c("ui-status",{key:2,"icon-name":v.status.icon,"icon-color":v.status.color,text:v.status.text},null,8,xa)):b.key==="createdAt"?(s(),C(Zt,{key:3,date:v.createdAt},null,8,["date"])):w("",!0),b.key==="actions"?(s(),C(fa,{key:4,feed:v.rawFeed,onEnabled:m(d),onDisabled:m(d),onUploaded:m(d),onDeleted:m(d)},{default:E(()=>[a("ui-button",{class:"actions-button","background-color":m(S).WHITE,height:"36px",width:"36px"},[a("ui-icon",{class:"actions-button__trigger-icon",color:m(S).TEXT,"icon-name":"googleMoreVertBaseline"},null,8,Da)],8,wa)]),_:2},1032,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):b.key==="description"?(s(),c("div",Ca,[a("span",{class:z(["truncate-text",{"assistive-color":!v[b.key]}])},k(v[b.key]||"â€”"),3)])):w("",!0)])),64))]))),128))],40,Va)),V(Qt,{modelValue:f.value,"onUpdate:modelValue":y[2]||(y[2]=v=>f.value=v),onCreated:m(d)},null,8,["modelValue","onCreated"])]))}},Ra=D(Ba,[["__scopeId","data-v-39b9b91e"]]),Na=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:Ra},{name:"feeds.details",path:"/feeds/:id",component:()=>Ne(()=>import("./FeedDetails-DVBnz90d.js"),__vite__mapDeps([0,1,2,3,4,5]))}],Fa=Ve({history:xe(),routes:Na}),Aa=a("div",{class:"dialogs-container"},null,-1),La={__name:"MainPage",setup(e){const t=P(""),l=h(()=>({height:t.value}));return U().listen("fullscreenSize",({height:r})=>{t.value=`${r}px`}),we("fullscreen-height",t),(r,d)=>(s(),c("div",{class:"app",style:te(l.value)},[Aa,V(m(De))],4))}};ce({"ui-view":re,"ui-complex-table":ue,"ui-icon":pe,"ui-button":me,"ui-status":_e,"ui-menu":ve,"ui-tabs":fe,"ui-textfield":he}).then(e=>{const t=Ce(La);t.use(Fa),t.use(be,e),t.mount("#app")});export{S as C,Qe as D,fa as F,ga as L,oe as S,Ft as _,Y as a,Zt as b,O as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-DVBnz90d.js","assets/connect-DBSWfLqd.js","assets/vendor-D5PxE7d-.js","assets/DetailItem-CcqWq6Tw.js","assets/DetailItem-DB2ZgmTS.css","assets/FeedDetails-qEcfGsYt.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
