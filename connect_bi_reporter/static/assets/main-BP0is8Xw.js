import{_ as A,C as S,u as P,D as me,A as _e}from"./ActionsMenu-xnovkCKm.js";import{s as B,V as W,a as ve,H as fe,p as he,v as ye,o as be,l as ge,b as Se,w as ke,z as Ee,r as Ie,c as $e}from"./connect-D6CtjTYh.js";import{m as V,u as T,c as f,o as d,b as p,d as i,t as k,e as N,w as se,v as Ce,F as R,f as O,g as w,h as v,n as G,j as $,k as C,l as q,p as Z,q as J,R as oe,s as De,a as j,i as Te,x as Q,y as Ve,z as x,A as ie,B as xe,T as Ne,C as we,D as Ae,r as ne,E as Le,G as Re,H as Be,I as Fe,J as Ue,K as Pe,L as qe}from"./vendor-QZT6KSBV.js";const Oe="modulepreload",Me=function(e){return"/static/"+e},te={},ze=function(t,a,n){let c=Promise.resolve();if(a&&a.length>0){const l=document.getElementsByTagName("link");c=Promise.all(a.map(r=>{if(r=Me(r),r in te)return;te[r]=!0;const s=r.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let h=l.length-1;h>=0;h--){const E=l[h];if(E.href===r&&(!s||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${o}`))return;const m=document.createElement("link");if(m.rel=s?"stylesheet":Oe,s||(m.as="script",m.crossOrigin=""),m.href=r,document.head.appendChild(m),s)return new Promise((h,E)=>{m.addEventListener("load",h),m.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${r}`)))})}))}return c.then(()=>t()).catch(l=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l})},Ge={class:"select-input"},Ke={key:0,class:"select-input__label"},je={class:"select-input__real-input"},Xe=["value"],Ye={fullWidth:"",closeOnClickInside:""},He={slot:"trigger",class:"select-input__selected"},We=["color"],Ze={slot:"content",class:"select-input__menu"},Je=["onClick"],Qe={key:1,class:"select-input__hint assistive-text"},et={__name:"SelectInput",props:V({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),a=e,n=l=>{t.value=l[a.propValue]},c=f(()=>a.options.find(l=>l[a.propValue]===t.value)||null);return(l,r)=>(d(),p("div",Ge,[e.label?(d(),p("div",Ke,[i("p",null,k(e.label),1)])):N("",!0),i("div",je,[se(i("select",{"onUpdate:modelValue":r[0]||(r[0]=s=>t.value=s)},[(d(!0),p(R,null,O(e.options,s=>(d(),p("option",{key:s[e.propValue],value:s[e.propValue]},null,8,Xe))),128))],512),[[Ce,t.value]])]),i("ui-menu",Ye,[i("div",He,[w(l.$slots,"selected",{selectedItem:c.value},()=>[i("span",null,k(t.value),1)],!0),i("ui-icon",{iconName:"googleArrowDropDownBaseline",color:v(S).DARK_GREY,size:"24"},null,8,We)]),i("div",Ze,[(d(!0),p(R,null,O(e.options,s=>(d(),p("div",{key:s[e.propValue],class:G(["select-input__option",{"select-input__option_selected":s[e.propValue]===t.value}]),onClick:o=>n(s)},[w(l.$slots,"option",{option:s,isSelected:s[e.propValue]===t.value},()=>[i("span",null,k(s[e.propValue]),1)],!0)],10,Je))),128))])]),e.hint||l.$slots.hint?(d(),p("div",Qe,[w(l.$slots,"hint",{},()=>[i("p",null,k(e.hint),1)],!0)])):N("",!0)]))}},tt=A(et,[["__scopeId","data-v-a46b5290"]]),ee={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:a}=B(),n=c=>{c.preventDefault(),c.stopPropagation(),a(t.to,t.params)};return(c,l)=>(d(),p("a",{onClick:n},[w(c.$slots,"default")]))}},de=e=>t=>e(...t.detail),at=["value","label","placeholder","suffix"],ae={__name:"TextField",props:V({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),a=de(n=>t.value=n);return(n,c)=>(d(),p("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:c[0]||(c[0]=(...l)=>v(a)&&v(a)(...l))},null,40,at))}},re=e=>(Z("data-v-a4975057"),e=e(),J(),e),lt={class:"destination-tab"},st=re(()=>i("span",null,"You may add credentials in the",-1)),ot=re(()=>i("span",null,"settings page",-1)),it={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=T(e,"credentialId"),a=T(e,"fileName"),n=T(e,"description"),c=B(),{result:l,request:r}=P(c,!1,!0),s=f(()=>{var u;return(u=c.sharedContext.currentInstallation)==null?void 0:u.id}),o=f(()=>{var u,m,h;return(h=(m=(u=c.sharedContext.currentInstallation)==null?void 0:u.environment)==null?void 0:m.extension)==null?void 0:h.name});return r("/api/credentials"),(u,m)=>(d(),p("div",lt,[$(tt,{modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=h=>t.value=h),class:"destination-tab__input",options:v(l),label:"Credentials",propDisplay:"name",propValue:"id"},{selected:C(({selectedItem:h})=>[q(k((h==null?void 0:h.name)||"â€“"),1)]),option:C(({option:h})=>[q(k(h.name),1)]),hint:C(()=>[st,$(ee,{class:"destination-tab__hint",to:v(W).extensionSettings,params:s.value},{default:C(()=>[q(k(o.value),1)]),_:1},8,["to","params"]),ot]),_:1},8,["modelValue","options"]),$(ae,{modelValue:a.value,"onUpdate:modelValue":m[1]||(m[1]=h=>a.value=h),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),$(ae,{modelValue:n.value,"onUpdate:modelValue":m[2]||(m[2]=h=>n.value=h),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},nt=A(it,[["__scopeId","data-v-a4975057"]]),U={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},ce={[U.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:S.NICE_GREEN},[U.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:S.MIDDLE_GREY},[U.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:S.NICE_RED},[U.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:S.MIDDLE_GREY},[U.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:S.MIDDLE_GREY},[U.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:S.NICE_GREEN}},K=e=>(Z("data-v-2d2ed6fd"),e=e(),J(),e),dt={class:"feed-summary"},rt=K(()=>i("p",{class:"feed-summary__title"},"Summary",-1)),ct={class:"feed-summary__row"},ut=K(()=>i("p",{class:"feed-summary__label"},"Feed",-1)),pt={class:"feed-summary__row"},mt=K(()=>i("p",{class:"feed-summary__label"},"Status",-1)),_t=["iconName","iconColor","text"],vt={class:"feed-summary__row"},ft=K(()=>i("p",{class:"feed-summary__label"},"Report Schedule",-1)),ht={class:"feed-summary__row"},yt=K(()=>i("p",{class:"feed-summary__label"},"Credential",-1)),bt={class:"feed-summary__row"},gt=K(()=>i("p",{class:"feed-summary__label"},"Description",-1)),St={class:"truncator"},kt={class:"truncate-text"},Et={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,a=f(()=>ce[t.status]),n=f(()=>({name:"feeds.details",params:{id:t.id}}));return(c,l)=>(d(),p("div",dt,[rt,i("div",ct,[ut,$(v(oe),{to:n.value},{default:C(()=>[q(k(e.id),1)]),_:1},8,["to"])]),i("div",pt,[mt,i("ui-status",{iconName:a.value.icon,iconColor:a.value.color,text:a.value.text},null,8,_t)]),i("div",vt,[ft,$(ee,{to:v(W).reportsScheduleDetails,params:e.scheduleId},{default:C(()=>[q(k(e.scheduleId),1)]),_:1},8,["to","params"])]),i("div",ht,[yt,i("p",null,k(e.credential),1)]),i("div",bt,[gt,i("div",St,[i("p",kt,k(e.description),1)])])]))}},It=A(Et,[["__scopeId","data-v-2d2ed6fd"]]),b={CANCEL:"cancel",CLOSE:"close",DETAILS:"details",SAVE:"save",SUBMIT:"submit",DELETE:"delete",SPACER:"spacer",NEXT:"next",BACK:"back"},$t={[b.CANCEL]:"Cancel",[b.CLOSE]:"Close",[b.DETAILS]:"Go to details",[b.SAVE]:"Save",[b.SUBMIT]:"Submit",[b.DELETE]:"Delete",[b.NEXT]:"Next",[b.BACK]:"Back"},Y={WIZARD:"wizard",EDIT:"edit"},L=(e,t={})=>e===b.SPACER?{key:"spacer"}:{key:e,label:t.label||$t[e],handler:t.handler,disabled:t.disabled,loading:t.loading,color:t.color},Ct={class:"dialog__header"},Dt={class:"dialog__title"},Tt={class:"dialog__body"},Vt={key:0,class:"dialog__sidebar"},xt={class:"dialog__content-wrapper"},Nt={class:"dialog__content"},wt={class:"dialog__actions"},At=["disabled","color","onClicked"],Lt=["color"],Rt={key:1,class:"dialog__action-label"},Bt={__name:"SimpleDialog",props:V({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>Object.values(b).includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:V(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const a=T(e,"modelValue"),n=e,c=t,l=De(),r=j(!1),s=async()=>{r.value=!0;try{await n.onSubmit()}finally{r.value=!1}},o=()=>a.value=!1,u=f(()=>({[b.CANCEL]:L(b.CANCEL,{handler:o}),[b.CLOSE]:L(b.CLOSE,{handler:o}),[b.SUBMIT]:L(b.SUBMIT,{disabled:!n.isValid,handler:s,label:n.submitLabel,loading:r.value,color:S.NICE_BLUE}),[b.SAVE]:L(b.SAVE,{disabled:!n.isValid,handler:async()=>{await s(),o()},loading:r.value,color:S.NICE_BLUE}),[b.DELETE]:L(b.DELETE,{disabled:!n.isValid,handler:async()=>{await s(),o()},loading:r.value,color:S.NICE_RED}),[b.DETAILS]:L(b.DETAILS,{handler:()=>l.push(n.detailsRoute)}),[b.SPACER]:L(b.SPACER),[b.NEXT]:L(b.NEXT,{disabled:!n.isValid,handler:()=>c("next"),color:S.NICE_BLUE}),[b.BACK]:L(b.BACK,{disabled:n.backDisabled,handler:()=>c("back")})})),m=f(()=>n.actions.map(E=>u.value[E])),h=Te("fullscreen-height");return Q(a,E=>{E?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),Ve(()=>{document.documentElement.classList.remove("is-clipped")}),(E,I)=>(d(),x(Ne,{to:".dialogs-container"},[a.value?(d(),p("div",xe({key:0},E.$attrs,{class:"dialog",style:{height:v(h)}}),[i("div",{class:"dialog__container",style:ie({height:e.height,width:e.width})},[i("div",Ct,[w(E.$slots,"header",{},()=>[i("p",Dt,k(e.title),1)],!0)]),i("div",Tt,[E.$slots.sidebar?(d(),p("div",Vt,[w(E.$slots,"sidebar",{},void 0,!0)])):N("",!0),i("div",xt,[i("div",Nt,[w(E.$slots,"default",{},void 0,!0)]),i("div",wt,[(d(!0),p(R,null,O(m.value,y=>(d(),p(R,null,[y.key==="spacer"?(d(),p("div",{key:y.key,class:"dialog__spacer"})):(d(),p("ui-button",{key:y.key,class:"dialog__action",disabled:y.disabled,color:y.color||v(S).TEXT,height:"36px",backgroundColor:"transparent",onClicked:y.handler},[y.loading?(d(),p("ui-icon",{key:0,class:"dialog__action-icon",color:y.color||v(S).TEXT,iconName:"connectLoaderAnimated",size:"24"},null,8,Lt)):(d(),p("span",Rt,k(y.label),1))],40,At))],64))),256))])])])],4)],16)):N("",!0)]))}},ue=A(Bt,[["__scopeId","data-v-e09d9d72"]]),Ft=["onClick"],Ut={key:0,class:"vertical-tabs__tab-index"},Pt=["color"],qt={key:1},Ot=["color"],Mt={__name:"VerticalTabs",props:V({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,a=T(e,"activeTabKey"),n=f(()=>t.tabs.findIndex(s=>s.key===a.value)),c=f(()=>t.tabs.map((s,o)=>({...s,step:o+1,active:o===n.value,inactive:t.linear&&o>n.value,classes:{"vertical-tabs__tab_active":o===n.value,"vertical-tabs__tab_inactive":s.skipStep||t.linear&&o>n.value}}))),l=f(()=>({"vertical-tabs_linear":t.linear})),r=s=>{t.linear||(a.value=s.key)};return(s,o)=>(d(),p("div",{class:G(["vertical-tabs",l.value])},[(d(!0),p(R,null,O(c.value,u=>(d(),p("div",{key:u.key,class:G(["vertical-tabs__tab",u.classes]),onClick:m=>r(u)},[t.linear?(d(),p("div",Ut,[u.skipStep?(d(),p("ui-icon",{key:0,iconName:"googleArrowDownwardBaseline",color:v(S).NICE_BLUE,size:"18"},null,8,Pt)):u.inactive||u.active?(d(),p("span",qt,k(u.step),1)):(d(),p("ui-icon",{key:2,iconName:"googleCheckBaseline",color:v(S).NICE_BLUE,size:"18"},null,8,Ot))])):N("",!0),i("p",null,k(u.label),1)],10,Ft))),128))],2))}},zt=A(Mt,[["__scopeId","data-v-aba18a93"]]),Gt={__name:"FormDialog",props:V({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return Object.values(Y).includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,a=T(e,"modelValue"),n=f(()=>t.mode===Y.WIZARD),c=f(()=>t.mode===Y.EDIT),l=j(""),r=f(()=>t.tabs.findIndex(D=>D.key===l.value)),s=f(()=>t.tabs.find(D=>D.key===l.value)),o=f(()=>r.value===0),u=f(()=>r.value===t.tabs.length-1),m=f(()=>l.value==="summary"),h=f(()=>s.value.submittable),E=f(()=>c.value?t.title:m.value?`${t.title} â€“ Summary`:`${t.title} â€“ Step ${r.value+1}`),I=f(()=>(s.value.includes||[]).every(F=>{const z=t.rules[F];return z?z.every(pe=>pe(t.form[F])):!0})),y=D=>{l.value=t.tabs[D].key},_=()=>{const D=r.value+1;y(D)},g=()=>{const D=r.value-1;y(D)},M=async()=>{try{await t.onSubmit(),n.value&&!u.value&&_()}catch{}},X=f(()=>c.value?["spacer","close","save"]:m.value?["spacer","details","close"]:h.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return Q(a,()=>y(0),{immediate:!0}),(D,F)=>(d(),x(ue,{modelValue:a.value,"onUpdate:modelValue":F[1]||(F[1]=z=>a.value=z),class:G(["form-dialog",`form-dialog_${e.mode}`]),actions:X.value,backDisabled:o.value,detailsRoute:e.detailsRoute,height:e.height,isValid:I.value,onSubmit:M,title:E.value,width:e.width,onBack:g,onNext:_},{sidebar:C(()=>[$(zt,{"active-tab-key":l.value,"onUpdate:activeTabKey":F[0]||(F[0]=z=>l.value=z),tabs:e.tabs,linear:n.value},null,8,["active-tab-key","tabs","linear"])]),default:C(()=>[w(D.$slots,l.value)]),_:3},8,["modelValue","class","actions","backDisabled","detailsRoute","height","isValid","title","width"]))}},Kt=["iconName","color"],jt=["value"],Xt={class:"radio-input__label-text"},Yt={__name:"RadioInput",props:V({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),a=e,n=f(()=>t.value===a.value),c=f(()=>n.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),l=f(()=>n.value?S.NICE_BLUE:""),r=()=>{t.value=a.value};return(s,o)=>(d(),p("div",{class:"radio-input",onClick:r},[i("ui-icon",{class:"radio-input__box",iconName:c.value,color:l.value},null,8,Kt),i("label",{class:G(["radio-input__label",{"radio-input__label_empty":!e.label}])},[se(i("input",{"onUpdate:modelValue":o[0]||(o[0]=u=>t.value=u),value:e.value,class:"radio-input__input",type:"radio"},null,8,jt),[[we,t.value]]),i("span",Xt,k(e.label),1)],2)]))}},Ht=A(Yt,[["__scopeId","data-v-c53c5700"]]),Wt={class:"radio-table"},Zt={class:"radio-table__title"},Jt={key:0,class:"radio-table__search"},Qt=["placeholder"],ea={class:"radio-table__table"},ta=["onClick"],aa={class:"radio-table__item-content"},la={__name:"RadioTable",props:V({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:V(["search"],["update:modelValue"]),setup(e,{emit:t}){const a=T(e,"modelValue"),n=t,c=e,l=s=>{a.value=s[c.valueProp]},r=de(s=>{n("search",s)});return(s,o)=>(d(),p("div",Wt,[i("p",Zt,k(e.title),1),e.hideSearch?N("",!0):(d(),p("div",Jt,[i("ui-textfield",{placeholder:e.searchPlaceholder,onInput:o[0]||(o[0]=(...u)=>v(r)&&v(r)(...u))},null,40,Qt)])),i("div",ea,[(d(!0),p(R,null,O(e.items,u=>(d(),p("div",{key:u[e.valueProp],class:"radio-table__item",onClick:m=>l(u)},[i("div",aa,[w(s.$slots,"default",{item:u},void 0,!0)]),$(Ht,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=m=>a.value=m),value:u[e.valueProp]},null,8,["modelValue","value"])],8,ta))),128))])]))}},sa=A(la,[["__scopeId","data-v-7033db48"]]),oa=(e,t=200)=>{let a=null;return(...n)=>{window.clearTimeout(a),a=window.setTimeout(()=>{e(...n)},t)}},za=(e=0,t={})=>Ae(e,{base:2,locale:"en",standard:"jedec",...t}),Ga=(e,t="")=>{const a=document.createElement("a");document.body.appendChild(a),a.href=e,t?a.download=t:a.rel="noopener noreferrer",a.click(),document.body.removeChild(a)},ia={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=T(e,"modelValue"),{result:a,request:n}=P(B(),!1,!0),c=f(()=>a.filter(s=>s.renderer==="csv")),l=async(s="")=>{let o="/public/v1/reporting/schedules?limit=100";s&&(o+=`&(((ilike(id,${s}*))|(ilike(name,*${s}*))))`),await n(o)},r=oa(l,500);return l(),(s,o)=>(d(),x(sa,{modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=u=>t.value=u),items:c.value,searchPlaceholder:"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:v(r)},{default:C(({item:u})=>[$(me,{bodyText:u.name,assistiveText:u.id},null,8,["bodyText","assistiveText"])]),_:1},8,["modelValue","items","onSearch"]))}},le=e=>!!e,H={required:e=>t=>e&&e.prop?le(t[e.prop]):le(t)},na={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:V(["created"],["update:modelValue"]),setup(e,{emit:t}){const a=T(e,"modelValue"),n=t,c=B(),{result:l,request:r}=P(c,!0),s=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],o=ne({scheduleId:"",credentialId:"",fileName:"",description:""}),u={scheduleId:[H.required()],credentialId:[H.required()],fileName:[H.required()]},m=f(()=>{var y,_;return{id:l.id,scheduleId:(y=l.schedule)==null?void 0:y.id,credential:(_=l.credential)==null?void 0:_.id,description:l.description,status:l.status}}),h=f(()=>({name:"feeds.details",params:{id:m.value.id}})),E=async()=>{await r("/api/feeds","POST",{schedule:{id:o.scheduleId},credential:{id:o.credentialId},file_name:o.fileName,description:o.description}),n("created")},I=()=>{o.scheduleId="",o.credentialId="",o.fileName="",o.description=""};return Q(a,y=>{y||I()},{immediate:!0}),(y,_)=>(d(),x(Gt,{modelValue:a.value,"onUpdate:modelValue":_[4]||(_[4]=g=>a.value=g),form:o,rules:u,onSubmit:E,tabs:s,detailsRoute:h.value,title:"Create Feed",mode:"wizard",submitLabel:"Create"},{schedule:C(()=>[$(ia,{modelValue:o.scheduleId,"onUpdate:modelValue":_[0]||(_[0]=g=>o.scheduleId=g)},null,8,["modelValue"])]),destination:C(()=>[$(nt,{"credential-id":o.credentialId,"onUpdate:credentialId":_[1]||(_[1]=g=>o.credentialId=g),"file-name":o.fileName,"onUpdate:fileName":_[2]||(_[2]=g=>o.fileName=g),description:o.description,"onUpdate:description":_[3]||(_[3]=g=>o.description=g)},null,8,["credential-id","file-name","description"])]),summary:C(()=>[$(It,{id:m.value.id,status:m.value.status,description:m.value.description,credential:m.value.credential,scheduleId:m.value.scheduleId},null,8,["id","status","description","credential","scheduleId"])]),_:1},8,["modelValue","form","detailsRoute"]))}},da={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=B(),a=e,n=f(()=>{var l,r,s;return new Intl.DateTimeFormat((l=t==null?void 0:t.timezoneInfo)==null?void 0:l.region.replace("_","-"),{timeZone:(r=t==null?void 0:t.timezoneInfo)==null?void 0:r.timezone,hourCycle:(s=t==null?void 0:t.timezoneInfo)!=null&&s.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(a.date))});return(c,l)=>(d(),p("span",null,k(n.value),1))}},ra={class:"empty-placeholder"},ca={class:"empty-placeholder_content"},ua={class:"empty-placeholder_icon"},pa=["iconName","color"],ma=["color"],_a=["color"],va={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,a)=>(d(),p("div",ra,[i("div",ca,[i("div",ua,[i("ui-icon",{iconName:e.icon,color:v(S).MIDDLE_GREY,size:"56"},null,8,pa)]),i("h2",null,k(e.title),1),i("p",null,k(e.message),1),e.action?(d(),p("ui-button",{key:0,class:"empty-placeholder_action",backgroundColor:"transparent",color:v(S).NICE_BLUE,onClicked:a[0]||(a[0]=n=>t.$emit("actionClicked"))},[i("ui-icon",{iconName:"googleAddBaseline",color:v(S).NICE_BLUE,size:"18"},null,8,_a),i("span",null,k(e.action),1)],40,ma)):N("",!0)])]))}},fa=A(va,[["__scopeId","data-v-19daa194"]]),ha=i("br",null,null,-1),ya=i("span",null,"You cannot undo this action once performed.",-1),ba={__name:"DeleteFeedDialog",props:V({feedId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:V(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const a=e,n=T(e,"modelValue"),c=t,l=["cancel","delete"],{request:r}=P(B()),s=async()=>{await r(`/api/feeds/${a.feedId}`,"DELETE")<400&&c("deleted")};return(o,u)=>(d(),x(ue,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=m=>n.value=m),actions:l,onSubmit:s,height:"auto",title:"Delete Feed",width:"480px"},{default:C(()=>[i("p",null,[i("span",null,"Are you sure you want to delete this feed ("+k(e.feedId)+")?",1),ha,ya])]),_:1},8,["modelValue"]))}},ga={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const a=e,n=t,c=B(),l=P(c),r=P(c),s=P(c),o=f(()=>a.feed.id),u=f(()=>a.feed.status===U.DISABLED),m=async()=>{await r.request(`/api/feeds/${o.value}/disable`,"POST")<400&&n("disabled")},h=async()=>{await l.request(`/api/feeds/${o.value}/enable`,"POST")<400&&n("enabled")},E=async()=>{await s.request(`/api/feeds/${o.value}/uploads/force`,"POST")<400&&n("uploaded")},I=j(!1),y=()=>{I.value=!0},_=ne([{key:"disable",color:S.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:r.loading,hide:u,handler:m},{key:"enable",color:S.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:l.loading,hide:!u.value,handler:h},{key:"forceUpload",color:S.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:s.loading,disabled:u.value,handler:E},{separated:!0,key:"delete",color:S.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:y}]);return(g,M)=>(d(),p(R,null,[$(_e,{class:"feed-actions",actions:_},Le({_:2},[g.$slots.default?{name:"trigger",fn:C(()=>[w(g.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]),$(ba,{modelValue:I.value,"onUpdate:modelValue":M[0]||(M[0]=X=>I.value=X),feedId:o.value,onDeleted:M[1]||(M[1]=X=>n("deleted"))},null,8,["modelValue","feedId"])],64))}},Sa={class:"loading-indicator"},ka=["size","color"],Ea={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,a)=>(d(),p("div",Sa,[i("ui-icon",{iconName:"connectLoaderAnimated",size:e.size,color:v(S).DARKER_BLUE},null,8,ka)]))}},Ia=A(Ea,[["__scopeId","data-v-bec31191"]]),$a=e=>(Z("data-v-b72ddafa"),e=e(),J(),e),Ca={title:"Feeds",style:{height:"inherit"},noPadded:""},Da={key:0,slot:"actions",class:"header-actions"},Ta=["backgroundColor","color"],Va=$a(()=>i("span",null,"Create Feed",-1)),xa=[Va],Na=["totalItems","currentPage"],wa=["iconName","iconColor","text"],Aa={key:5,class:"truncator"},La={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:a,page:n,total:c,load:l,loading:r,next:s,previous:o}=ve("/api/feeds"),u=f(()=>!a.value.length),m=f(()=>a.value.map(I=>({id:I.id,scheduleId:I.schedule.id,createdAt:I.events.created.at,description:I.description,status:ce[I.status],rawFeed:I}))),h=j(!1),E=()=>{h.value=!0};return Re(async()=>{await l()}),(I,y)=>(d(),p("ui-view",Ca,[u.value?N("",!0):(d(),p("div",Da,[i("ui-button",{class:"header-button",backgroundColor:v(S).WHITE,color:v(S).TEXT,height:"36px",onClicked:E},xa,40,Ta)])),v(r)?(d(),x(Ia,{key:1})):u.value?(d(),x(fa,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:E})):(d(),p("ui-complex-table",{key:3,headers:t,totalItems:v(c),currentPage:v(n),fixed:"",onNextClicked:y[0]||(y[0]=(..._)=>v(s)&&v(s)(..._)),onPreviousClicked:y[1]||(y[1]=(..._)=>v(o)&&v(o)(..._))},[(d(!0),p(R,null,O(m.value,_=>(d(),p("tr",{key:_.id},[(d(),p(R,null,O(t,g=>i("td",{key:g.key},[g.key==="id"?(d(),x(v(oe),{key:0,to:{name:"feeds.details",params:{id:_.id}}},{default:C(()=>[q(k(_.id),1)]),_:2},1032,["to"])):g.key==="schedule"?(d(),x(ee,{key:1,to:v(W).reportsScheduleDetails,params:_.scheduleId},{default:C(()=>[q(k(_.scheduleId),1)]),_:2},1032,["to","params"])):g.key==="status"?(d(),p("ui-status",{key:2,iconName:_.status.icon,iconColor:_.status.color,text:_.status.text},null,8,wa)):g.key==="createdAt"?(d(),x(da,{key:3,date:_.createdAt},null,8,["date"])):N("",!0),g.key==="actions"?(d(),x(ga,{key:4,feed:_.rawFeed,onEnabled:v(l),onDisabled:v(l),onUploaded:v(l),onDeleted:v(l)},null,8,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):g.key==="description"?(d(),p("div",Aa,[i("span",{class:G(["truncate-text",{"assistive-color":!_[g.key]}])},k(_[g.key]||"â€”"),3)])):N("",!0)])),64))]))),128))],40,Na)),$(na,{modelValue:h.value,"onUpdate:modelValue":y[2]||(y[2]=_=>h.value=_),onCreated:v(l)},null,8,["modelValue","onCreated"])]))}},Ra=A(La,[["__scopeId","data-v-b72ddafa"]]),Ba=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:Ra},{name:"feeds.details",path:"/feeds/:id",component:()=>ze(()=>import("./FeedDetails-B0sv-tzT.js"),__vite__mapDeps([0,1,2,3,4,5]))}],Fa=Be({history:Fe(),routes:Ba}),Ua=i("div",{class:"dialogs-container"},null,-1),Pa={__name:"MainPage",setup(e){const t=j(""),a=f(()=>({height:t.value}));return B().listen("fullscreenSize",({height:c})=>{t.value=`${c}px`}),Ue("fullscreen-height",t),(c,l)=>(d(),p("div",{class:"app",style:ie(a.value)},[Ua,$(v(Pe))],4))}};fe({"ui-view":he,"ui-complex-table":ye,"ui-icon":be,"ui-button":ge,"ui-status":Se,"ui-menu":ke,"ui-tabs":Ee,"ui-textfield":Ie}).then(e=>{const t=qe(Pa);t.use(Fa),t.use($e,e),t.mount("#app")});export{nt as D,Ia as L,ce as S,Gt as _,U as a,da as b,ee as c,Ga as d,ga as e,za as g,H as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-B0sv-tzT.js","assets/connect-D6CtjTYh.js","assets/vendor-QZT6KSBV.js","assets/ActionsMenu-xnovkCKm.js","assets/ActionsMenu-BEbfmVDt.css","assets/FeedDetails-XAIvT6Bh.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
