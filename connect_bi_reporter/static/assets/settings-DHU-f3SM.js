import{_ as x,u as V,a as q,S as U,C as f,A as R,D as O}from"./ActionsMenu-BdIbYJG3.js";import{s as E,H as P,d as z,o as F,l as G,w as H,e as Y,r as W,c as j}from"./connect-BV-2I-fJ.js";import{m as $,u as B,a as p,c as D,s as X,o as r,x as k,k as L,j as _,b as h,d as s,g as J,l as K,t as w,n as Q,r as Z,h as N,F as T,f as ee,p as te,q as ae,D as le,G as se,H as ne}from"./vendor-1x2ovGvJ.js";const oe={__name:"AddEditCredentialDialog",props:$({mode:{type:String,required:!0},credentialId:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:$(["created","edited"],["update:modelValue"]),setup(e,{emit:t}){const d=t,i=e,n=B(e,"modelValue"),a=p(""),o=p(""),v=D(()=>{var l,u;return((l=a.value)==null?void 0:l.length)>0&&((u=o.value)==null?void 0:u.length)>0}),g=D(()=>i.mode==="edit"),C=D(()=>g.value?"Edit Credentials":"Add Credentials"),y=D(()=>g.value?"Save":"Add"),S=["cancel","submit"],b=V(E()),A=async()=>{const{result:l,request:u}=V(E());await u(`/api/credentials/${i.credentialId}`),a.value=l.name,o.value=l.connection_string},m=()=>{a.value="",o.value=""},c=async()=>{i.mode==="create"?await b.request("/api/credentials","POST",{name:a.value,connection_string:o.value})<400&&d("created"):await b.request(`/api/credentials/${i.credentialId}`,"PUT",{name:a.value,connection_string:o.value})<400&&d("edited")};return X(()=>n.value,()=>{m(),i.mode==="edit"&&A()},{immediate:!0}),(l,u)=>(r(),k(U,{modelValue:n.value,"onUpdate:modelValue":u[2]||(u[2]=I=>n.value=I),title:C.value,actions:S,onSubmit:c,height:"auto",width:"480px",submitLabel:y.value,isValid:v.value},{default:L(()=>[_(q,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=I=>a.value=I),class:"dialog-input",label:"Name"},null,8,["modelValue"]),_(q,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=I=>o.value=I),class:"dialog-input",label:"Connection String"},null,8,["modelValue"])]),_:1},8,["modelValue","title","submitLabel","isValid"]))}},de=x(oe,[["__scopeId","data-v-6d4e2352"]]),ie={class:"alert"},ue={class:"alert__icon"},ce=["iconName","color"],re={class:"alert__text"},me={__name:"AlertItem",props:{message:{type:String,default:"List is empty. Please add item."},icon:{type:String,default:"googleInfoBaseline"},type:{type:String,default:"default"}},setup(e){const t={info:f.DEEP_BLUE,error:f.NICE_RED,success:f.NICE_GREEN,warning:f.NICE_YELLOW,default:f.MIDDLE_GREY};return(d,i)=>(r(),h("div",{class:Q(["alert-holder",`alert_${e.type}`])},[s("div",ie,[s("div",ue,[s("ui-icon",{iconName:e.icon,color:t[e.type],size:"24"},null,8,ce)]),s("div",re,[J(d.$slots,"message",{},()=>[K(w(e.message),1)],!0)])])],2))}},pe=x(me,[["__scopeId","data-v-868574ac"]]),_e=s("br",null,null,-1),ve=s("span",null,"You cannot undo this action once performed.",-1),ge={__name:"DeleteCredentialDialog",props:$({credentialId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:$(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const d=e,i=B(e,"modelValue"),n=t,a=["cancel","delete"],{request:o}=V(E()),v=async()=>{await o(`/api/credentials/${d.credentialId}`,"DELETE")<400&&n("deleted")};return(g,C)=>(r(),k(U,{modelValue:i.value,"onUpdate:modelValue":C[0]||(C[0]=y=>i.value=y),actions:a,onSubmit:v,height:"auto",title:"Delete Credential",width:"480px"},{default:L(()=>[s("p",null,[s("span",null,"Are you sure you want to delete this credential ("+w(e.credentialId)+")?",1),_e,ve])]),_:1},8,["modelValue"]))}},M=e=>(te("data-v-6c1a997d"),e=e(),ae(),e),fe={class:"credentials-card",title:"Credentials"},he={slot:"actions"},Ce=M(()=>s("ui-icon",{iconName:"googleAddBaseline",color:"#fff",size:"14"},null,-1)),ye=M(()=>s("span",{class:"add-button-text"},"Add",-1)),De=[Ce,ye],Ee=["headers"],Ie={__name:"CredentialsCard",setup(e){const{result:t,request:d}=V(E(),!1,!0);d("/api/credentials");const i=Z([{value:"name",text:"Name"},{value:"actions",text:"",width:"48px"}]),n=p(!1),a=p("create"),o=p(!1),v=p(""),g=p(""),C=m=>{v.value=m,o.value=!0},y=(m,c)=>{a.value=m,n.value=!0,g.value=c},S=()=>{d("/api/credentials"),n.value=!1},b=()=>{v.value="",o.value=!1,d("/api/credentials")},A=m=>[{key:"edit",color:f.TEXT,text:"Edit",icon:"googleEditBaseline",handler:()=>y("edit",m)},{separated:!0,key:"delete",color:f.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:()=>C(m)}];return(m,c)=>(r(),h(T,null,[s("ui-card",fe,[s("div",he,[s("ui-button",{backgroundColor:"#2C98F0",width:"61px",height:"28px",onClick:c[0]||(c[0]=l=>y("create"))},De)]),s("div",null,[N(t).length>0?(r(),h("ui-table",{key:0,headers:i},[(r(!0),h(T,null,ee(N(t),l=>(r(),h("tr",{key:l.id},[s("td",null,w(l.name),1),s("td",null,[_(R,{class:"credentials-actions",actions:A(l.id)},null,8,["actions"])])]))),128))],8,Ee)):(r(),k(pe,{key:1,message:"No credentials added"}))])]),_(de,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=l=>n.value=l),mode:a.value,credentialId:g.value,onCreated:S,onEdited:S},null,8,["modelValue","mode","credentialId"]),_(ge,{modelValue:o.value,"onUpdate:modelValue":c[2]||(c[2]=l=>o.value=l),credentialId:v.value,onDeleted:b},null,8,["modelValue","credentialId"])],64))}},Ve=x(Ie,[["__scopeId","data-v-6c1a997d"]]),xe={class:"upload-schedule-card",title:"Upload Schedule"},Se={__name:"UploadScheduleCard",setup(e){const{result:t,request:d}=V(E());d("/api/settings/schedule-tasks/create-uploads");const i={days:"Daily",weeks:"Weekly"},n=D(()=>{var a;return i[(a=t==null?void 0:t.trigger)==null?void 0:a.unit]});return(a,o)=>(r(),h("ui-card",xe,[s("div",null,[_(O,{bodyText:n.value,assistiveText:"00:00 Â· UTC"},null,8,["bodyText"])])]))}},be=x(Se,[["__scopeId","data-v-cc40f2b1"]]),$e={__name:"MainPage",setup(e){const t=p(""),d=D(()=>({height:t.value}));return E().listen("fullscreenSize",({height:n})=>{t.value=`${n}px`}),le("fullscreen-height",t),(n,a)=>(r(),h("div",{class:"app",style:se(d.value)},[_(be),_(Ve)],4))}},Ae=x($e,[["__scopeId","data-v-2073f1a4"]]);P({"ui-table":z,"ui-icon":F,"ui-button":G,"ui-menu":H,"ui-card":Y,"ui-textfield":W}).then(e=>{const t=ne(Ae);t.use(j,e),t.mount("#app")});
