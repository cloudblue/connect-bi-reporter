import{s as F,V as Z,a as pe,H as _e,p as fe,v as ve,o as he,l as ye,b as be,w as ge,z as Se,r as Ee,c as ke}from"./connect-4XpspIZx.js";import{m as N,u as x,c as v,o as n,b as u,d as i,t as b,e as $,w as oe,v as $e,F as R,f as B,g as T,h as p,n as G,a as j,r as Y,j as C,k as D,l as P,p as J,q as Q,R as ie,s as Ie,i as Te,x as ee,y as Ce,z as w,A as ne,B as De,T as Ve,C as xe,D as Ne,E as Ae,G as we,H as Re,I as Le,J as Be,K as Fe,L as Ue}from"./vendor-QZT6KSBV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();const Oe="modulepreload",Pe=function(e){return"/static/"+e},se={},qe=function(t,s,a){let o=Promise.resolve();if(s&&s.length>0){const l=document.getElementsByTagName("link");o=Promise.all(s.map(c=>{if(c=Pe(c),c in se)return;se[c]=!0;const d=c.endsWith(".css"),r=d?'[rel="stylesheet"]':"";if(!!a)for(let h=l.length-1;h>=0;h--){const k=l[h];if(k.href===c&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${r}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Oe,d||(_.as="script",_.crossOrigin=""),_.href=c,document.head.appendChild(_),d)return new Promise((h,k)=>{_.addEventListener("load",h),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}return o.then(()=>t()).catch(l=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l})},y={NICE_GREEN:"#0BB071",NICE_RED:"#FF6A6A",MIDDLE_GREY:"#BDBDBD",DARK_GREY:"#666666",NICE_BLUE:"#2C98F0",DARKER_BLUE:"#4797f2",TEXT:"#212121",WHITE:"#FFFFFF",TRANSPARENT:"transparent"},A=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s},Me={class:"select-input"},ze={key:0,class:"select-input__label"},Ge={class:"select-input__real-input"},je=["value"],Ke={fullWidth:"",closeOnClickInside:""},Xe={slot:"trigger",class:"select-input__selected"},Ye=["color"],He={slot:"content",class:"select-input__menu"},We=["onClick"],Ze={key:1,class:"select-input__hint assistive-text"},Je={__name:"SelectInput",props:N({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),s=e,a=l=>{t.value=l[s.propValue]},o=v(()=>s.options.find(l=>l[s.propValue]===t.value)||null);return(l,c)=>(n(),u("div",Me,[e.label?(n(),u("div",ze,[i("p",null,b(e.label),1)])):$("",!0),i("div",Ge,[oe(i("select",{"onUpdate:modelValue":c[0]||(c[0]=d=>t.value=d)},[(n(!0),u(R,null,B(e.options,d=>(n(),u("option",{key:d[e.propValue],value:d[e.propValue]},null,8,je))),128))],512),[[$e,t.value]])]),i("ui-menu",Ke,[i("div",Xe,[T(l.$slots,"selected",{selectedItem:o.value},()=>[i("span",null,b(t.value),1)],!0),i("ui-icon",{iconName:"googleArrowDropDownBaseline",color:p(y).DARK_GREY,size:"24"},null,8,Ye)]),i("div",He,[(n(!0),u(R,null,B(e.options,d=>(n(),u("div",{key:d[e.propValue],class:G(["select-input__option",{"select-input__option_selected":d[e.propValue]===t.value}]),onClick:r=>a(d)},[T(l.$slots,"option",{option:d,isSelected:d[e.propValue]===t.value},()=>[i("span",null,b(d[e.propValue]),1)],!0)],10,We))),128))])]),e.hint||l.$slots.hint?(n(),u("div",Ze,[T(l.$slots,"hint",{},()=>[i("p",null,b(e.hint),1)],!0)])):$("",!0)]))}},Qe=A(Je,[["__scopeId","data-v-a46b5290"]]),te={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:s}=F(),a=o=>{o.preventDefault(),o.stopPropagation(),s(t.to,t.params)};return(o,l)=>(n(),u("a",{onClick:a},[T(o.$slots,"default")]))}},de=e=>t=>e(...t.detail),et=["value","label","placeholder","suffix"],ae={__name:"TextField",props:N({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),s=de(a=>t.value=a);return(a,o)=>(n(),u("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:o[0]||(o[0]=(...l)=>p(s)&&p(s)(...l))},null,40,et))}};class tt extends Error{constructor(t,s){super(t),this.status=s}}const st=(e,t)=>{let s=`Error ${e.status}: ${e.statusText}.`;return t&&(t.error_code&&(s+=` Error code: ${t.error_code}.`),t.errors&&(s+=t.errors.map(a=>` ${a}`).join(""))),s},at=async e=>{let t;try{t=await e.clone().json()}catch{t=await e.text()}return t},lt=async(e,t="GET",s=null,a=!1)=>{const o={method:t,headers:{"Content-Type":"application/json"}};s&&(o.body=JSON.stringify(s));const l=await fetch(e,o),c=await at(l);if(!l.ok){const d=st(l,c);throw new tt(d)}return a?{status:l.status,body:c}:c},q=(e,t=!1,s=!1)=>{const a=j(!1),o=s?Y([]):Y({});return{loading:a,result:o,request:async(c,d,r)=>{a.value=!0;try{const m=await lt(c,d,r,!0);return s?(o.splice(0),o.push(...m.body)):(Object.assign(o,{}),Object.assign(o,m.body)),m.status}catch(m){if(e.emit("snackbar:error",m.message),t)throw m;return m.status}finally{a.value=!1}}}},re=e=>(J("data-v-a4975057"),e=e(),Q(),e),ot={class:"destination-tab"},it=re(()=>i("span",null,"You may add credentials in the",-1)),nt=re(()=>i("span",null,"settings page",-1)),dt={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=x(e,"credentialId"),s=x(e,"fileName"),a=x(e,"description"),o=F(),{result:l,request:c}=q(o,!1,!0),d=v(()=>{var m;return(m=o.sharedContext.currentInstallation)==null?void 0:m.id}),r=v(()=>{var m,_,h;return(h=(_=(m=o.sharedContext.currentInstallation)==null?void 0:m.environment)==null?void 0:_.extension)==null?void 0:h.name});return c("/api/credentials"),(m,_)=>(n(),u("div",ot,[C(Qe,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=h=>t.value=h),class:"destination-tab__input",options:p(l),label:"Credentials",propDisplay:"name",propValue:"id"},{selected:D(({selectedItem:h})=>[P(b((h==null?void 0:h.name)||"â€“"),1)]),option:D(({option:h})=>[P(b(h.name),1)]),hint:D(()=>[it,C(te,{class:"destination-tab__hint",to:p(Z).extensionSettings,params:d.value},{default:D(()=>[P(b(r.value),1)]),_:1},8,["to","params"]),nt]),_:1},8,["modelValue","options"]),C(ae,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=h=>s.value=h),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),C(ae,{modelValue:a.value,"onUpdate:modelValue":_[2]||(_[2]=h=>a.value=h),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},rt=A(dt,[["__scopeId","data-v-a4975057"]]),O={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},ce={[O.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:y.NICE_GREEN},[O.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:y.MIDDLE_GREY},[O.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:y.NICE_RED},[O.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[O.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[O.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:y.NICE_GREEN}},K=e=>(J("data-v-2d2ed6fd"),e=e(),Q(),e),ct={class:"feed-summary"},ut=K(()=>i("p",{class:"feed-summary__title"},"Summary",-1)),mt={class:"feed-summary__row"},pt=K(()=>i("p",{class:"feed-summary__label"},"Feed",-1)),_t={class:"feed-summary__row"},ft=K(()=>i("p",{class:"feed-summary__label"},"Status",-1)),vt=["iconName","iconColor","text"],ht={class:"feed-summary__row"},yt=K(()=>i("p",{class:"feed-summary__label"},"Report Schedule",-1)),bt={class:"feed-summary__row"},gt=K(()=>i("p",{class:"feed-summary__label"},"Credential",-1)),St={class:"feed-summary__row"},Et=K(()=>i("p",{class:"feed-summary__label"},"Description",-1)),kt={class:"truncator"},$t={class:"truncate-text"},It={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,s=v(()=>ce[t.status]),a=v(()=>({name:"feeds.details",params:{id:t.id}}));return(o,l)=>(n(),u("div",ct,[ut,i("div",mt,[pt,C(p(ie),{to:a.value},{default:D(()=>[P(b(e.id),1)]),_:1},8,["to"])]),i("div",_t,[ft,i("ui-status",{iconName:s.value.icon,iconColor:s.value.color,text:s.value.text},null,8,vt)]),i("div",ht,[yt,C(te,{to:p(Z).reportsScheduleDetails,params:e.scheduleId},{default:D(()=>[P(b(e.scheduleId),1)]),_:1},8,["to","params"])]),i("div",bt,[gt,i("p",null,b(e.credential),1)]),i("div",St,[Et,i("div",kt,[i("p",$t,b(e.description),1)])])]))}},Tt=A(It,[["__scopeId","data-v-2d2ed6fd"]]),S={CANCEL:"cancel",CLOSE:"close",DETAILS:"details",SAVE:"save",SUBMIT:"submit",DELETE:"delete",SPACER:"spacer",NEXT:"next",BACK:"back"},Ct={[S.CANCEL]:"Cancel",[S.CLOSE]:"Close",[S.DETAILS]:"Go to details",[S.SAVE]:"Save",[S.SUBMIT]:"Submit",[S.DELETE]:"Delete",[S.NEXT]:"Next",[S.BACK]:"Back"},H={WIZARD:"wizard",EDIT:"edit"},L=(e,t={})=>e===S.SPACER?{key:"spacer"}:{key:e,label:t.label||Ct[e],handler:t.handler,disabled:t.disabled,loading:t.loading,color:t.color},Dt={class:"dialog__header"},Vt={class:"dialog__title"},xt={class:"dialog__body"},Nt={key:0,class:"dialog__sidebar"},At={class:"dialog__content-wrapper"},wt={class:"dialog__content"},Rt={class:"dialog__actions"},Lt=["disabled","color","onClicked"],Bt=["color"],Ft={key:1,class:"dialog__action-label"},Ut={__name:"SimpleDialog",props:N({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>Object.values(S).includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:N(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const s=x(e,"modelValue"),a=e,o=t,l=Ie(),c=j(!1),d=async()=>{c.value=!0;try{await a.onSubmit()}finally{c.value=!1}},r=()=>s.value=!1,m=v(()=>({[S.CANCEL]:L(S.CANCEL,{handler:r}),[S.CLOSE]:L(S.CLOSE,{handler:r}),[S.SUBMIT]:L(S.SUBMIT,{disabled:!a.isValid,handler:d,label:a.submitLabel,loading:c.value,color:y.NICE_BLUE}),[S.SAVE]:L(S.SAVE,{disabled:!a.isValid,handler:async()=>{await d(),r()},loading:c.value,color:y.NICE_BLUE}),[S.DELETE]:L(S.DELETE,{disabled:!a.isValid,handler:async()=>{await d(),r()},loading:c.value,color:y.NICE_RED}),[S.DETAILS]:L(S.DETAILS,{handler:()=>l.push(a.detailsRoute)}),[S.SPACER]:L(S.SPACER),[S.NEXT]:L(S.NEXT,{disabled:!a.isValid,handler:()=>o("next"),color:y.NICE_BLUE}),[S.BACK]:L(S.BACK,{disabled:a.backDisabled,handler:()=>o("back")})})),_=v(()=>a.actions.map(k=>m.value[k])),h=Te("fullscreen-height");return ee(s,k=>{k?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),Ce(()=>{document.documentElement.classList.remove("is-clipped")}),(k,I)=>(n(),w(Ve,{to:".dialogs-container"},[s.value?(n(),u("div",De({key:0},k.$attrs,{class:"dialog",style:{height:p(h)}}),[i("div",{class:"dialog__container",style:ne({height:e.height,width:e.width})},[i("div",Dt,[T(k.$slots,"header",{},()=>[i("p",Vt,b(e.title),1)],!0)]),i("div",xt,[k.$slots.sidebar?(n(),u("div",Nt,[T(k.$slots,"sidebar",{},void 0,!0)])):$("",!0),i("div",At,[i("div",wt,[T(k.$slots,"default",{},void 0,!0)]),i("div",Rt,[(n(!0),u(R,null,B(_.value,g=>(n(),u(R,null,[g.key==="spacer"?(n(),u("div",{key:g.key,class:"dialog__spacer"})):(n(),u("ui-button",{key:g.key,class:"dialog__action",disabled:g.disabled,color:g.color||p(y).TEXT,height:"36px",backgroundColor:"transparent",onClicked:g.handler},[g.loading?(n(),u("ui-icon",{key:0,class:"dialog__action-icon",color:g.color||p(y).TEXT,iconName:"connectLoaderAnimated",size:"24"},null,8,Bt)):(n(),u("span",Ft,b(g.label),1))],40,Lt))],64))),256))])])])],4)],16)):$("",!0)]))}},ue=A(Ut,[["__scopeId","data-v-e09d9d72"]]),Ot=["onClick"],Pt={key:0,class:"vertical-tabs__tab-index"},qt=["color"],Mt={key:1},zt=["color"],Gt={__name:"VerticalTabs",props:N({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,s=x(e,"activeTabKey"),a=v(()=>t.tabs.findIndex(d=>d.key===s.value)),o=v(()=>t.tabs.map((d,r)=>({...d,step:r+1,active:r===a.value,inactive:t.linear&&r>a.value,classes:{"vertical-tabs__tab_active":r===a.value,"vertical-tabs__tab_inactive":d.skipStep||t.linear&&r>a.value}}))),l=v(()=>({"vertical-tabs_linear":t.linear})),c=d=>{t.linear||(s.value=d.key)};return(d,r)=>(n(),u("div",{class:G(["vertical-tabs",l.value])},[(n(!0),u(R,null,B(o.value,m=>(n(),u("div",{key:m.key,class:G(["vertical-tabs__tab",m.classes]),onClick:_=>c(m)},[t.linear?(n(),u("div",Pt,[m.skipStep?(n(),u("ui-icon",{key:0,iconName:"googleArrowDownwardBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,qt)):m.inactive||m.active?(n(),u("span",Mt,b(m.step),1)):(n(),u("ui-icon",{key:2,iconName:"googleCheckBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,zt))])):$("",!0),i("p",null,b(m.label),1)],10,Ot))),128))],2))}},jt=A(Gt,[["__scopeId","data-v-aba18a93"]]),Kt={__name:"FormDialog",props:N({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return Object.values(H).includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,s=x(e,"modelValue"),a=v(()=>t.mode===H.WIZARD),o=v(()=>t.mode===H.EDIT),l=j(""),c=v(()=>t.tabs.findIndex(V=>V.key===l.value)),d=v(()=>t.tabs.find(V=>V.key===l.value)),r=v(()=>c.value===0),m=v(()=>c.value===t.tabs.length-1),_=v(()=>l.value==="summary"),h=v(()=>d.value.submittable),k=v(()=>o.value?t.title:_.value?`${t.title} â€“ Summary`:`${t.title} â€“ Step ${c.value+1}`),I=v(()=>(d.value.includes||[]).every(U=>{const z=t.rules[U];return z?z.every(me=>me(t.form[U])):!0})),g=V=>{l.value=t.tabs[V].key},f=()=>{const V=c.value+1;g(V)},E=()=>{const V=c.value-1;g(V)},M=async()=>{try{await t.onSubmit(),a.value&&!m.value&&f()}catch{}},X=v(()=>o.value?["spacer","close","save"]:_.value?["spacer","details","close"]:h.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return ee(s,()=>g(0),{immediate:!0}),(V,U)=>(n(),w(ue,{modelValue:s.value,"onUpdate:modelValue":U[1]||(U[1]=z=>s.value=z),class:G(["form-dialog",`form-dialog_${e.mode}`]),actions:X.value,backDisabled:r.value,detailsRoute:e.detailsRoute,height:e.height,isValid:I.value,onSubmit:M,title:k.value,width:e.width,onBack:E,onNext:f},{sidebar:D(()=>[C(jt,{"active-tab-key":l.value,"onUpdate:activeTabKey":U[0]||(U[0]=z=>l.value=z),tabs:e.tabs,linear:a.value},null,8,["active-tab-key","tabs","linear"])]),default:D(()=>[T(V.$slots,l.value)]),_:3},8,["modelValue","class","actions","backDisabled","detailsRoute","height","isValid","title","width"]))}},Xt={class:"detail-item"},Yt={key:0,class:"detail-item__head"},Ht={key:0,class:"detail-item__subhead"},Wt={class:"detail-item__content-holder"},Zt={key:0,class:"detail-item__image"},Jt={class:"detail-item__content"},Qt={key:0,class:"detail-item__text"},es={key:1,class:"detail-item__assistive-text"},ts={__name:"DetailItem",props:{title:{type:String,default:""},subtitle:{type:String,default:""},bodyText:{type:String,default:""},assistiveText:{type:String,default:""}},setup(e){return(t,s)=>(n(),u("div",Xt,[e.title||t.$slots.title?(n(),u("div",Yt,[T(t.$slots,"title",{},()=>[i("span",null,b(e.title),1),e.subtitle?(n(),u("span",Ht,b(e.subtitle),1)):$("",!0)],!0)])):$("",!0),i("div",Wt,[t.$slots.image?(n(),u("div",Zt,[T(t.$slots,"image",{},void 0,!0)])):$("",!0),i("div",Jt,[T(t.$slots,"content",{},()=>[e.bodyText||t.$slots["body-text"]?(n(),u("div",Qt,[T(t.$slots,"body-text",{},()=>[i("span",null,b(e.bodyText),1)],!0)])):$("",!0),e.assistiveText||t.$slots["assistive-text"]?(n(),u("div",es,[T(t.$slots,"assistive-text",{},()=>[i("span",null,b(e.assistiveText),1)],!0)])):$("",!0)],!0)])])]))}},ss=A(ts,[["__scopeId","data-v-54319148"]]),as=["iconName","color"],ls=["value"],os={class:"radio-input__label-text"},is={__name:"RadioInput",props:N({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),s=e,a=v(()=>t.value===s.value),o=v(()=>a.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),l=v(()=>a.value?y.NICE_BLUE:""),c=()=>{t.value=s.value};return(d,r)=>(n(),u("div",{class:"radio-input",onClick:c},[i("ui-icon",{class:"radio-input__box",iconName:o.value,color:l.value},null,8,as),i("label",{class:G(["radio-input__label",{"radio-input__label_empty":!e.label}])},[oe(i("input",{"onUpdate:modelValue":r[0]||(r[0]=m=>t.value=m),value:e.value,class:"radio-input__input",type:"radio"},null,8,ls),[[xe,t.value]]),i("span",os,b(e.label),1)],2)]))}},ns=A(is,[["__scopeId","data-v-c53c5700"]]),ds={class:"radio-table"},rs={class:"radio-table__title"},cs={key:0,class:"radio-table__search"},us=["placeholder"],ms={class:"radio-table__table"},ps=["onClick"],_s={class:"radio-table__item-content"},fs={__name:"RadioTable",props:N({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:N(["search"],["update:modelValue"]),setup(e,{emit:t}){const s=x(e,"modelValue"),a=t,o=e,l=d=>{s.value=d[o.valueProp]},c=de(d=>{a("search",d)});return(d,r)=>(n(),u("div",ds,[i("p",rs,b(e.title),1),e.hideSearch?$("",!0):(n(),u("div",cs,[i("ui-textfield",{placeholder:e.searchPlaceholder,onInput:r[0]||(r[0]=(...m)=>p(c)&&p(c)(...m))},null,40,us)])),i("div",ms,[(n(!0),u(R,null,B(e.items,m=>(n(),u("div",{key:m[e.valueProp],class:"radio-table__item",onClick:_=>l(m)},[i("div",_s,[T(d.$slots,"default",{item:m},void 0,!0)]),C(ns,{modelValue:s.value,"onUpdate:modelValue":r[1]||(r[1]=_=>s.value=_),value:m[e.valueProp]},null,8,["modelValue","value"])],8,ps))),128))])]))}},vs=A(fs,[["__scopeId","data-v-7033db48"]]),hs=(e,t=200)=>{let s=null;return(...a)=>{window.clearTimeout(s),s=window.setTimeout(()=>{e(...a)},t)}},ua=(e=0,t={})=>Ne(e,{base:2,locale:"en",standard:"jedec",...t}),ma=(e,t="")=>{const s=document.createElement("a");document.body.appendChild(s),s.href=e,t?s.download=t:s.rel="noopener noreferrer",s.click(),document.body.removeChild(s)},ys={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),{result:s,request:a}=q(F(),!1,!0),o=v(()=>s.filter(d=>d.renderer==="csv")),l=async(d="")=>{let r="/public/v1/reporting/schedules?limit=100";d&&(r+=`&(((ilike(id,${d}*))|(ilike(name,*${d}*))))`),await a(r)},c=hs(l,500);return l(),(d,r)=>(n(),w(vs,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=m=>t.value=m),items:o.value,searchPlaceholder:"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:p(c)},{default:D(({item:m})=>[C(ss,{bodyText:m.name,assistiveText:m.id},null,8,["bodyText","assistiveText"])]),_:1},8,["modelValue","items","onSearch"]))}},le=e=>!!e,W={required:e=>t=>e&&e.prop?le(t[e.prop]):le(t)},bs={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:N(["created"],["update:modelValue"]),setup(e,{emit:t}){const s=x(e,"modelValue"),a=t,o=F(),{result:l,request:c}=q(o,!0),d=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],r=Y({scheduleId:"",credentialId:"",fileName:"",description:""}),m={scheduleId:[W.required()],credentialId:[W.required()],fileName:[W.required()]},_=v(()=>{var g,f;return{id:l.id,scheduleId:(g=l.schedule)==null?void 0:g.id,credential:(f=l.credential)==null?void 0:f.id,description:l.description,status:l.status}}),h=v(()=>({name:"feeds.details",params:{id:_.value.id}})),k=async()=>{await c("/api/feeds","POST",{schedule:{id:r.scheduleId},credential:{id:r.credentialId},file_name:r.fileName,description:r.description}),a("created")},I=()=>{r.scheduleId="",r.credentialId="",r.fileName="",r.description=""};return ee(s,g=>{g||I()},{immediate:!0}),(g,f)=>(n(),w(Kt,{modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=E=>s.value=E),form:r,rules:m,onSubmit:k,tabs:d,detailsRoute:h.value,title:"Create Feed",mode:"wizard",submitLabel:"Create"},{schedule:D(()=>[C(ys,{modelValue:r.scheduleId,"onUpdate:modelValue":f[0]||(f[0]=E=>r.scheduleId=E)},null,8,["modelValue"])]),destination:D(()=>[C(rt,{"credential-id":r.credentialId,"onUpdate:credentialId":f[1]||(f[1]=E=>r.credentialId=E),"file-name":r.fileName,"onUpdate:fileName":f[2]||(f[2]=E=>r.fileName=E),description:r.description,"onUpdate:description":f[3]||(f[3]=E=>r.description=E)},null,8,["credential-id","file-name","description"])]),summary:D(()=>[C(Tt,{id:_.value.id,status:_.value.status,description:_.value.description,credential:_.value.credential,scheduleId:_.value.scheduleId},null,8,["id","status","description","credential","scheduleId"])]),_:1},8,["modelValue","form","detailsRoute"]))}},gs={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=F(),s=e,a=v(()=>{var l,c,d;return new Intl.DateTimeFormat((l=t==null?void 0:t.timezoneInfo)==null?void 0:l.region.replace("_","-"),{timeZone:(c=t==null?void 0:t.timezoneInfo)==null?void 0:c.timezone,hourCycle:(d=t==null?void 0:t.timezoneInfo)!=null&&d.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(s.date))});return(o,l)=>(n(),u("span",null,b(a.value),1))}},Ss={class:"empty-placeholder"},Es={class:"empty-placeholder_content"},ks={class:"empty-placeholder_icon"},$s=["iconName","color"],Is=["color"],Ts=["color"],Cs={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,s)=>(n(),u("div",Ss,[i("div",Es,[i("div",ks,[i("ui-icon",{iconName:e.icon,color:p(y).MIDDLE_GREY,size:"56"},null,8,$s)]),i("h2",null,b(e.title),1),i("p",null,b(e.message),1),e.action?(n(),u("ui-button",{key:0,class:"empty-placeholder_action",backgroundColor:"transparent",color:p(y).NICE_BLUE,onClicked:s[0]||(s[0]=a=>t.$emit("actionClicked"))},[i("ui-icon",{iconName:"googleAddBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,Ts),i("span",null,b(e.action),1)],40,Is)):$("",!0)])]))}},Ds=A(Cs,[["__scopeId","data-v-19daa194"]]),Vs={class:"actions-menu",align:"right",closeOnClickInside:!1},xs={slot:"trigger",class:"actions-menu__trigger"},Ns=["backgroundColor"],As=["color"],ws={slot:"content",class:"actions-menu__content"},Rs={key:0,class:"horizontal-divider"},Ls=["backgroundColor","color","disabled","onClicked"],Bs={class:"actions-menu__action-content"},Fs=["iconName","color"],Us={__name:"ActionsMenu",props:{actions:{type:Array,required:!0,validator(e){return e.length>0&&e.every(t=>!!(t.key&&t.text&&t.icon&&t.handler))}}},setup(e){return(t,s)=>(n(),u("ui-menu",Vs,[i("div",xs,[T(t.$slots,"trigger",{},()=>[i("ui-button",{class:"actions-menu__trigger-button",backgroundColor:p(y).WHITE,height:"36px",width:"36px"},[i("ui-icon",{class:"actions-menu__trigger-icon",color:p(y).TEXT,iconName:"googleMoreVertBaseline"},null,8,As)],8,Ns)],!0)]),i("div",ws,[(n(!0),u(R,null,B(e.actions,a=>(n(),u("div",{key:a.key,class:"actions-menu__action"},[a.separated?(n(),u("div",Rs)):$("",!0),a.hide?$("",!0):(n(),u("ui-button",{key:1,ref_for:!0,ref:a.key,backgroundColor:p(y).TRANSPARENT,color:a.color||p(y).TEXT,disabled:a.disabled,height:"32px",width:"156px",onClicked:a.handler},[i("div",Bs,[i("ui-icon",{iconName:a.loading?"connectLoaderAnimated":a.icon,color:a.color||p(y).TEXT,size:"18"},null,8,Fs),i("span",null,b(a.text),1)])],40,Ls))]))),128))])]))}},Os=A(Us,[["__scopeId","data-v-e54fa3fe"]]),Ps=i("br",null,null,-1),qs=i("span",null,"You cannot undo this action once performed.",-1),Ms={__name:"DeleteFeedDialog",props:N({feedId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:N(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const s=e,a=x(e,"modelValue"),o=t,l=["cancel","delete"],{request:c}=q(F()),d=async()=>{await c(`/api/feeds/${s.feedId}`,"DELETE")<400&&o("deleted")};return(r,m)=>(n(),w(ue,{modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=_=>a.value=_),actions:l,onSubmit:d,height:"auto",title:"Delete Feed",width:"480px"},{default:D(()=>[i("p",null,[i("span",null,"Are you sure you want to delete this feed ("+b(e.feedId)+")?",1),Ps,qs])]),_:1},8,["modelValue"]))}},zs={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const s=e,a=t,o=F(),l=q(o),c=q(o),d=q(o),r=v(()=>s.feed.id),m=v(()=>s.feed.status===O.DISABLED),_=async()=>{await c.request(`/api/feeds/${r.value}/disable`,"POST")<400&&a("disabled")},h=async()=>{await l.request(`/api/feeds/${r.value}/enable`,"POST")<400&&a("enabled")},k=async()=>{await d.request(`/api/feeds/${r.value}/uploads/force`,"POST")<400&&a("uploaded")},I=j(!1),g=()=>{I.value=!0},f=Y([{key:"disable",color:y.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:c.loading,hide:m,handler:_},{key:"enable",color:y.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:l.loading,hide:!m.value,handler:h},{key:"forceUpload",color:y.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:d.loading,disabled:m.value,handler:k},{separated:!0,key:"delete",color:y.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:g}]);return(E,M)=>(n(),u(R,null,[C(Os,{class:"feed-actions",actions:f},Ae({_:2},[E.$slots.default?{name:"trigger",fn:D(()=>[T(E.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]),C(Ms,{modelValue:I.value,"onUpdate:modelValue":M[0]||(M[0]=X=>I.value=X),feedId:r.value,onDeleted:M[1]||(M[1]=X=>a("deleted"))},null,8,["modelValue","feedId"])],64))}},Gs={class:"loading-indicator"},js=["size","color"],Ks={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,s)=>(n(),u("div",Gs,[i("ui-icon",{iconName:"connectLoaderAnimated",size:e.size,color:p(y).DARKER_BLUE},null,8,js)]))}},Xs=A(Ks,[["__scopeId","data-v-bec31191"]]),Ys=e=>(J("data-v-b72ddafa"),e=e(),Q(),e),Hs={title:"Feeds",style:{height:"inherit"},noPadded:""},Ws={key:0,slot:"actions",class:"header-actions"},Zs=["backgroundColor","color"],Js=Ys(()=>i("span",null,"Create Feed",-1)),Qs=[Js],ea=["totalItems","currentPage"],ta=["iconName","iconColor","text"],sa={key:5,class:"truncator"},aa={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:s,page:a,total:o,load:l,loading:c,next:d,previous:r}=pe("/api/feeds"),m=v(()=>!s.value.length),_=v(()=>s.value.map(I=>({id:I.id,scheduleId:I.schedule.id,createdAt:I.events.created.at,description:I.description,status:ce[I.status],rawFeed:I}))),h=j(!1),k=()=>{h.value=!0};return we(async()=>{await l()}),(I,g)=>(n(),u("ui-view",Hs,[m.value?$("",!0):(n(),u("div",Ws,[i("ui-button",{class:"header-button",backgroundColor:p(y).WHITE,color:p(y).TEXT,height:"36px",onClicked:k},Qs,40,Zs)])),p(c)?(n(),w(Xs,{key:1})):m.value?(n(),w(Ds,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:k})):(n(),u("ui-complex-table",{key:3,headers:t,totalItems:p(o),currentPage:p(a),fixed:"",onNextClicked:g[0]||(g[0]=(...f)=>p(d)&&p(d)(...f)),onPreviousClicked:g[1]||(g[1]=(...f)=>p(r)&&p(r)(...f))},[(n(!0),u(R,null,B(_.value,f=>(n(),u("tr",{key:f.id},[(n(),u(R,null,B(t,E=>i("td",{key:E.key},[E.key==="id"?(n(),w(p(ie),{key:0,to:{name:"feeds.details",params:{id:f.id}}},{default:D(()=>[P(b(f.id),1)]),_:2},1032,["to"])):E.key==="schedule"?(n(),w(te,{key:1,to:p(Z).reportsScheduleDetails,params:f.scheduleId},{default:D(()=>[P(b(f.scheduleId),1)]),_:2},1032,["to","params"])):E.key==="status"?(n(),u("ui-status",{key:2,iconName:f.status.icon,iconColor:f.status.color,text:f.status.text},null,8,ta)):E.key==="createdAt"?(n(),w(gs,{key:3,date:f.createdAt},null,8,["date"])):$("",!0),E.key==="actions"?(n(),w(zs,{key:4,feed:f.rawFeed,onEnabled:p(l),onDisabled:p(l),onUploaded:p(l),onDeleted:p(l)},null,8,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):E.key==="description"?(n(),u("div",sa,[i("span",{class:G(["truncate-text",{"assistive-color":!f[E.key]}])},b(f[E.key]||"â€”"),3)])):$("",!0)])),64))]))),128))],40,ea)),C(bs,{modelValue:h.value,"onUpdate:modelValue":g[2]||(g[2]=f=>h.value=f),onCreated:p(l)},null,8,["modelValue","onCreated"])]))}},la=A(aa,[["__scopeId","data-v-b72ddafa"]]),oa=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:la},{name:"feeds.details",path:"/feeds/:id",component:()=>qe(()=>import("./FeedDetails-vAoIr5_r.js"),__vite__mapDeps([0,1,2,3]))}],ia=Re({history:Le(),routes:oa}),na=i("div",{class:"dialogs-container"},null,-1),da={__name:"MainPage",setup(e){const t=j(""),s=v(()=>({height:t.value}));return F().listen("fullscreenSize",({height:o})=>{t.value=`${o}px`}),Be("fullscreen-height",t),(o,l)=>(n(),u("div",{class:"app",style:ne(s.value)},[na,C(p(Fe))],4))}};_e({"ui-view":fe,"ui-complex-table":ve,"ui-icon":he,"ui-button":ye,"ui-status":be,"ui-menu":ge,"ui-tabs":Se,"ui-textfield":Ee}).then(e=>{const t=Ue(da);t.use(ia),t.use(ke,e),t.mount("#app")});export{Os as A,y as C,rt as D,Xs as L,ce as S,A as _,Kt as a,O as b,gs as c,te as d,ss as e,ma as f,ua as g,zs as h,q as u,W as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-vAoIr5_r.js","assets/connect-4XpspIZx.js","assets/vendor-QZT6KSBV.js","assets/FeedDetails-XAIvT6Bh.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
