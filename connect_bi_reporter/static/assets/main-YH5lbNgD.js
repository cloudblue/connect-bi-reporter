function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-CxvrIteh.js","assets/connect-BV-2I-fJ.js","assets/vendor-1x2ovGvJ.js","assets/ActionsMenu-BdIbYJG3.js","assets/ActionsMenu-DuD_41Xi.css","assets/FeedDetails-Bo_638mO.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as N,C as y,u as O,a as ee,F as H,S as se,p as ue,D as le,A as pe,r as me}from"./ActionsMenu-BdIbYJG3.js";import{s as q,V as X,a as ve,H as _e,p as fe,v as he,o as ye,l as be,b as ge,w as Se,z as ke,r as Ie,c as $e}from"./connect-BV-2I-fJ.js";import{m as B,u as x,c as v,o as i,b as m,d as o,t as f,e as L,w as oe,v as De,F as G,f as j,g as M,h,n as K,j as $,k as D,l as z,p as Z,q as Q,R as ne,a as P,s as ie,x as w,y as Ee,z as Ve,r as de,A as Te,B as xe,C as Ce,D as we,E as Ne,G as Re,H as Fe}from"./vendor-1x2ovGvJ.js";const Be="modulepreload",Ae=function(e){return"/static/"+e},te={},Le=function(t,a,r){let u=Promise.resolve();if(a&&a.length>0){const n=document.getElementsByTagName("link");u=Promise.all(a.map(d=>{if(d=Ae(d),d in te)return;te[d]=!0;const s=d.endsWith(".css"),l=s?'[rel="stylesheet"]':"";if(!!r)for(let _=n.length-1;_>=0;_--){const T=n[_];if(T.href===d&&(!s||T.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${l}`))return;const p=document.createElement("link");if(p.rel=s?"stylesheet":Be,s||(p.as="script",p.crossOrigin=""),p.href=d,document.head.appendChild(p),s)return new Promise((_,T)=>{p.addEventListener("load",_),p.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}return u.then(()=>t()).catch(n=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=n,window.dispatchEvent(d),!d.defaultPrevented)throw n})},qe={class:"select-input"},Ue={key:0,class:"select-input__label"},Pe={class:"select-input__real-input"},Oe=["value"],Me={fullWidth:"",closeOnClickInside:""},ze={slot:"trigger",class:"select-input__selected"},Ge=["color"],je={slot:"content",class:"select-input__menu"},Ke=["onClick"],Ye={key:1,class:"select-input__hint assistive-text"},He={__name:"SelectInput",props:B({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),a=e,r=n=>{t.value=n[a.propValue]},u=v(()=>a.options.find(n=>n[a.propValue]===t.value)||null);return(n,d)=>(i(),m("div",qe,[e.label?(i(),m("div",Ue,[o("p",null,f(e.label),1)])):L("",!0),o("div",Pe,[oe(o("select",{"onUpdate:modelValue":d[0]||(d[0]=s=>t.value=s)},[(i(!0),m(G,null,j(e.options,s=>(i(),m("option",{key:s[e.propValue],value:s[e.propValue]},null,8,Oe))),128))],512),[[De,t.value]])]),o("ui-menu",Me,[o("div",ze,[M(n.$slots,"selected",{selectedItem:u.value},()=>[o("span",null,f(t.value),1)],!0),o("ui-icon",{iconName:"googleArrowDropDownBaseline",color:h(y).DARK_GREY,size:"24"},null,8,Ge)]),o("div",je,[(i(!0),m(G,null,j(e.options,s=>(i(),m("div",{key:s[e.propValue],class:K(["select-input__option",{"select-input__option_selected":s[e.propValue]===t.value}]),onClick:l=>r(s)},[M(n.$slots,"option",{option:s,isSelected:s[e.propValue]===t.value},()=>[o("span",null,f(s[e.propValue]),1)],!0)],10,Ke))),128))])]),e.hint||n.$slots.hint?(i(),m("div",Ye,[M(n.$slots,"hint",{},()=>[o("p",null,f(e.hint),1)],!0)])):L("",!0)]))}},We=N(He,[["__scopeId","data-v-59d8192a"]]),Xe={class:"spa-link"},Ze=["color"],Qe={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:a}=q(),r=u=>{u.preventDefault(),u.stopPropagation(),a(t.to,t.params)};return(u,n)=>(i(),m("span",Xe,[o("a",{onClick:r},[M(u.$slots,"default",{},void 0,!0)]),o("ui-icon",{iconName:"googleOpenInNewBaseline",size:"16px",color:h(y).NICE_BLUE},null,8,Ze)]))}},J=N(Qe,[["__scopeId","data-v-ec87f581"]]),ce=e=>(Z("data-v-bb1db229"),e=e(),Q(),e),Je={class:"destination-tab"},et=ce(()=>o("span",null,"You may add credentials in the",-1)),tt=ce(()=>o("span",null,"settings page",-1)),at={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=x(e,"credentialId"),a=x(e,"fileName"),r=x(e,"description"),u=q(),{result:n,request:d}=O(u,!1,!0),s=v(()=>{var c;return(c=u.sharedContext.currentInstallation)==null?void 0:c.id}),l=v(()=>{var c,p,_;return(_=(p=(c=u.sharedContext.currentInstallation)==null?void 0:c.environment)==null?void 0:p.extension)==null?void 0:_.name});return d("/api/credentials"),(c,p)=>(i(),m("div",Je,[$(We,{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=_=>t.value=_),class:"destination-tab__input",options:h(n),label:"Credentials",propDisplay:"name",propValue:"id"},{selected:D(({selectedItem:_})=>[z(f((_==null?void 0:_.name)||"–"),1)]),option:D(({option:_})=>[z(f(_.name),1)]),hint:D(()=>[et,$(J,{class:"destination-tab__hint",to:h(X).extensionSettings,params:s.value},{default:D(()=>[z(f(l.value),1)]),_:1},8,["to","params"]),tt]),_:1},8,["modelValue","options"]),$(ee,{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=_=>a.value=_),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),$(ee,{modelValue:r.value,"onUpdate:modelValue":p[2]||(p[2]=_=>r.value=_),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},st=N(at,[["__scopeId","data-v-bb1db229"]]),U={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},re={[U.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:y.NICE_GREEN},[U.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:y.MIDDLE_GREY},[U.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:y.NICE_RED},[U.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[U.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[U.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:y.NICE_GREEN}},Y=e=>(Z("data-v-8be7944f"),e=e(),Q(),e),lt={class:"feed-summary"},ot=Y(()=>o("p",{class:"feed-summary__title"},"Summary",-1)),nt={class:"feed-summary__row"},it=Y(()=>o("p",{class:"feed-summary__label"},"Feed",-1)),dt={class:"feed-summary__row"},ct=Y(()=>o("p",{class:"feed-summary__label"},"Status",-1)),rt=["iconName","iconColor","text"],ut={class:"feed-summary__row"},pt=Y(()=>o("p",{class:"feed-summary__label"},"Report Schedule",-1)),mt={class:"feed-summary__row"},vt=Y(()=>o("p",{class:"feed-summary__label"},"Credential",-1)),_t={class:"feed-summary__row"},ft=Y(()=>o("p",{class:"feed-summary__label"},"Description",-1)),ht={class:"truncator"},yt={class:"truncate-text"},bt={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,a=v(()=>re[t.status]),r=v(()=>({name:"feeds.details",params:{id:t.id}}));return(u,n)=>(i(),m("div",lt,[ot,o("div",nt,[it,$(h(ne),{to:r.value},{default:D(()=>[z(f(e.id),1)]),_:1},8,["to"])]),o("div",dt,[ct,o("ui-status",{iconName:a.value.icon,iconColor:a.value.color,text:a.value.text},null,8,rt)]),o("div",ut,[pt,$(J,{to:h(X).reportsScheduleDetails,params:e.scheduleId},{default:D(()=>[z(f(e.scheduleId),1)]),_:1},8,["to","params"])]),o("div",mt,[vt,o("p",null,f(e.credential),1)]),o("div",_t,[ft,o("div",ht,[o("p",yt,f(e.description),1)])])]))}},gt=N(bt,[["__scopeId","data-v-8be7944f"]]),St=["onClick"],kt={key:0,class:"vertical-tabs__tab-index"},It=["color"],$t={key:1},Dt=["color"],Et={__name:"VerticalTabs",props:B({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,a=x(e,"activeTabKey"),r=v(()=>t.tabs.findIndex(s=>s.key===a.value)),u=v(()=>t.tabs.map((s,l)=>({...s,step:l+1,active:l===r.value,inactive:t.linear&&l>r.value,classes:{"vertical-tabs__tab_active":l===r.value,"vertical-tabs__tab_inactive":s.skipStep||t.linear&&l>r.value}}))),n=v(()=>({"vertical-tabs_linear":t.linear})),d=s=>{t.linear||(a.value=s.key)};return(s,l)=>(i(),m("div",{class:K(["vertical-tabs",n.value])},[(i(!0),m(G,null,j(u.value,c=>(i(),m("div",{key:c.key,class:K(["vertical-tabs__tab",c.classes]),onClick:p=>d(c)},[t.linear?(i(),m("div",kt,[c.skipStep?(i(),m("ui-icon",{key:0,iconName:"googleArrowDownwardBaseline",color:h(y).NICE_BLUE,size:"18"},null,8,It)):c.inactive||c.active?(i(),m("span",$t,f(c.step),1)):(i(),m("ui-icon",{key:2,iconName:"googleCheckBaseline",color:h(y).NICE_BLUE,size:"18"},null,8,Dt))])):L("",!0),o("p",null,f(c.label),1)],10,St))),128))],2))}},Vt=N(Et,[["__scopeId","data-v-ca846e95"]]),Tt={__name:"FormDialog",props:B({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return Object.values(H).includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,a=x(e,"modelValue"),r=v(()=>t.mode===H.WIZARD),u=v(()=>t.mode===H.EDIT),n=P(""),d=v(()=>t.tabs.findIndex(E=>E.key===n.value)),s=v(()=>t.tabs.find(E=>E.key===n.value)),l=v(()=>d.value===0),c=v(()=>d.value===t.tabs.length-1),p=v(()=>n.value==="summary"),_=v(()=>s.value.submittable),T=v(()=>u.value?t.title:p.value?`${t.title} – Summary`:`${t.title} – Step ${d.value+1}`),R=v(()=>(s.value.includes||[]).every(S=>{const V=t.rules[S];return V?V.every(I=>I(t.form[S])):!0})),k=E=>{n.value=t.tabs[E].key},b=()=>{const E=d.value+1;k(E)},g=()=>{const E=d.value-1;k(E)},C=async()=>{try{await t.onSubmit(),r.value&&!c.value&&b()}catch{}},A=v(()=>u.value?["spacer","close","save"]:p.value?["spacer","details","close"]:_.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return ie(a,()=>k(0),{immediate:!0}),(E,S)=>(i(),w(se,{modelValue:a.value,"onUpdate:modelValue":S[1]||(S[1]=V=>a.value=V),class:K(["form-dialog",`form-dialog_${e.mode}`]),actions:A.value,backDisabled:l.value,detailsRoute:e.detailsRoute,height:e.height,isValid:R.value,onSubmit:C,title:T.value,width:e.width,onBack:g,onNext:b},{sidebar:D(()=>[$(Vt,{"active-tab-key":n.value,"onUpdate:activeTabKey":S[0]||(S[0]=V=>n.value=V),tabs:e.tabs,linear:r.value},null,8,["active-tab-key","tabs","linear"])]),default:D(()=>[M(E.$slots,n.value)]),_:3},8,["modelValue","class","actions","backDisabled","detailsRoute","height","isValid","title","width"]))}},xt=["iconName","color"],Ct=["value"],wt={class:"radio-input__label-text"},Nt={__name:"RadioInput",props:B({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),a=e,r=v(()=>t.value===a.value),u=v(()=>r.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),n=v(()=>r.value?y.NICE_BLUE:""),d=()=>{t.value=a.value};return(s,l)=>(i(),m("div",{class:"radio-input",onClick:d},[o("ui-icon",{class:"radio-input__box",iconName:u.value,color:n.value},null,8,xt),o("label",{class:K(["radio-input__label",{"radio-input__label_empty":!e.label}])},[oe(o("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>t.value=c),value:e.value,class:"radio-input__input",type:"radio"},null,8,Ct),[[Ee,t.value]]),o("span",wt,f(e.label),1)],2)]))}},Rt=N(Nt,[["__scopeId","data-v-79d612a0"]]),Ft={class:"radio-table"},Bt={class:"radio-table__title"},At={key:0,class:"radio-table__search"},Lt=["placeholder"],qt={class:"radio-table__table"},Ut=["onClick"],Pt={class:"radio-table__item-content"},Ot={__name:"RadioTable",props:B({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:B(["search"],["update:modelValue"]),setup(e,{emit:t}){const a=x(e,"modelValue"),r=t,u=e,n=s=>{a.value=s[u.valueProp]},d=ue(s=>{r("search",s)});return(s,l)=>(i(),m("div",Ft,[o("p",Bt,f(e.title),1),e.hideSearch?L("",!0):(i(),m("div",At,[o("ui-textfield",{placeholder:e.searchPlaceholder,onInput:l[0]||(l[0]=(...c)=>h(d)&&h(d)(...c))},null,40,Lt)])),o("div",qt,[(i(!0),m(G,null,j(e.items,c=>(i(),m("div",{key:c[e.valueProp],class:"radio-table__item",onClick:p=>n(c)},[o("div",Pt,[M(s.$slots,"default",{item:c},void 0,!0)]),$(Rt,{modelValue:a.value,"onUpdate:modelValue":l[1]||(l[1]=p=>a.value=p),value:c[e.valueProp]},null,8,["modelValue","value"])],8,Ut))),128))])]))}},Mt=N(Ot,[["__scopeId","data-v-565cc730"]]),zt=(e,t=200)=>{let a=null;return(...r)=>{window.clearTimeout(a),a=window.setTimeout(()=>{e(...r)},t)}},Ea=(e=0,t={})=>Ve(e,{base:2,locale:"en",standard:"jedec",...t}),Va=(e,t="")=>{const a=document.createElement("a");document.body.appendChild(a),a.href=e,t?a.download=t:a.rel="noopener noreferrer",a.click(),document.body.removeChild(a)},Gt={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),{result:a,request:r}=O(q(),!1,!0),u=v(()=>a.filter(s=>s.renderer==="csv")),n=async(s="")=>{let l="/public/v1/reporting/schedules?limit=100";s&&(l+=`&(((ilike(id,${s}*))|(ilike(name,*${s}*))))`),await r(l)},d=zt(n,500);return n(),(s,l)=>(i(),w(Mt,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=c=>t.value=c),items:u.value,searchPlaceholder:"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:h(d)},{default:D(({item:c})=>[$(le,{bodyText:c.name,assistiveText:c.id},null,8,["bodyText","assistiveText"])]),_:1},8,["modelValue","items","onSearch"]))}},ae=e=>!!e,W={required:e=>t=>e&&e.prop?ae(t[e.prop]):ae(t)},jt={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:B(["created"],["update:modelValue"]),setup(e,{emit:t}){const a=x(e,"modelValue"),r=t,u=q(),{result:n,request:d}=O(u,!0),s=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],l=de({scheduleId:"",credentialId:"",fileName:"",description:""}),c={scheduleId:[W.required()],credentialId:[W.required()],fileName:[W.required()]},p=v(()=>{var k,b;return{id:n.id,scheduleId:(k=n.schedule)==null?void 0:k.id,credential:(b=n.credential)==null?void 0:b.id,description:n.description,status:n.status}}),_=v(()=>({name:"feeds.details",params:{id:p.value.id}})),T=async()=>{await d("/api/feeds","POST",{schedule:{id:l.scheduleId},credential:{id:l.credentialId},file_name:l.fileName,description:l.description}),r("created")},R=()=>{l.scheduleId="",l.credentialId="",l.fileName="",l.description=""};return ie(a,k=>{k||R()},{immediate:!0}),(k,b)=>(i(),w(Tt,{modelValue:a.value,"onUpdate:modelValue":b[4]||(b[4]=g=>a.value=g),form:l,rules:c,onSubmit:T,tabs:s,detailsRoute:_.value,title:"Create Feed",mode:"wizard",submitLabel:"Create"},{schedule:D(()=>[$(Gt,{modelValue:l.scheduleId,"onUpdate:modelValue":b[0]||(b[0]=g=>l.scheduleId=g)},null,8,["modelValue"])]),destination:D(()=>[$(st,{"credential-id":l.credentialId,"onUpdate:credentialId":b[1]||(b[1]=g=>l.credentialId=g),"file-name":l.fileName,"onUpdate:fileName":b[2]||(b[2]=g=>l.fileName=g),description:l.description,"onUpdate:description":b[3]||(b[3]=g=>l.description=g)},null,8,["credential-id","file-name","description"])]),summary:D(()=>[$(gt,{id:p.value.id,status:p.value.status,description:p.value.description,credential:p.value.credential,scheduleId:p.value.scheduleId},null,8,["id","status","description","credential","scheduleId"])]),_:1},8,["modelValue","form","detailsRoute"]))}},Kt={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=q(),a=e,r=v(()=>{var n,d,s;return new Intl.DateTimeFormat((n=t==null?void 0:t.timezoneInfo)==null?void 0:n.region.replace("_","-"),{timeZone:(d=t==null?void 0:t.timezoneInfo)==null?void 0:d.timezone,hourCycle:(s=t==null?void 0:t.timezoneInfo)!=null&&s.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(a.date))});return(u,n)=>(i(),m("span",null,f(r.value),1))}},Yt={class:"empty-placeholder"},Ht={class:"empty-placeholder_content"},Wt={class:"empty-placeholder_icon"},Xt=["iconName","color"],Zt=["color"],Qt=["color"],Jt={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,a)=>(i(),m("div",Yt,[o("div",Ht,[o("div",Wt,[o("ui-icon",{iconName:e.icon,color:h(y).MIDDLE_GREY,size:"56"},null,8,Xt)]),o("h2",null,f(e.title),1),o("p",null,f(e.message),1),e.action?(i(),m("ui-button",{key:0,class:"empty-placeholder_action",backgroundColor:"transparent",color:h(y).NICE_BLUE,onClicked:a[0]||(a[0]=r=>t.$emit("actionClicked"))},[o("ui-icon",{iconName:"googleAddBaseline",color:h(y).NICE_BLUE,size:"18"},null,8,Qt),o("span",null,f(e.action),1)],40,Zt)):L("",!0)])]))}},ea=N(Jt,[["__scopeId","data-v-572d0a1b"]]),ta=o("br",null,null,-1),aa=o("span",null,"You cannot undo this action once performed.",-1),sa={__name:"DeleteFeedDialog",props:B({feedId:{type:String,required:!0}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:B(["deleted"],["update:modelValue"]),setup(e,{emit:t}){const a=e,r=x(e,"modelValue"),u=t,n=["cancel","delete"],{request:d}=O(q()),s=async()=>{await d(`/api/feeds/${a.feedId}`,"DELETE")<400&&u("deleted")};return(l,c)=>(i(),w(se,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=p=>r.value=p),actions:n,onSubmit:s,height:"auto",title:"Delete Feed",width:"480px"},{default:D(()=>[o("p",null,[o("span",null,"Are you sure you want to delete this feed ("+f(e.feedId)+")?",1),ta,aa])]),_:1},8,["modelValue"]))}},la={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const a=e,r=t,u=q(),n=O(u),d=O(u),s=O(u),l=v(()=>a.feed.id),c=v(()=>a.feed.status===U.DISABLED),p=async()=>{await d.request(`/api/feeds/${l.value}/disable`,"POST")<400&&r("disabled")},_=async()=>{await n.request(`/api/feeds/${l.value}/enable`,"POST")<400&&r("enabled")},T=async()=>{await s.request(`/api/feeds/${l.value}/uploads/force`,"POST")<400&&r("uploaded")},R=P(!1),k=()=>{R.value=!0},b=de([{key:"disable",color:y.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:d.loading,hide:c,handler:p},{key:"enable",color:y.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:n.loading,hide:!c.value,handler:_},{key:"forceUpload",color:y.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:s.loading,disabled:c.value,handler:T},{separated:!0,key:"delete",color:y.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",handler:k}]);return(g,C)=>(i(),m(G,null,[$(pe,{class:"feed-actions",actions:b},Te({_:2},[g.$slots.default?{name:"trigger",fn:D(()=>[M(g.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]),$(sa,{modelValue:R.value,"onUpdate:modelValue":C[0]||(C[0]=A=>R.value=A),feedId:l.value,onDeleted:C[1]||(C[1]=A=>r("deleted"))},null,8,["modelValue","feedId"])],64))}},oa={class:"loading-indicator"},na=["size","color"],ia={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,a)=>(i(),m("div",oa,[o("ui-icon",{iconName:"connectLoaderAnimated",size:e.size,color:h(y).DARKER_BLUE},null,8,na)]))}},da=N(ia,[["__scopeId","data-v-bec31191"]]),ca=e=>(Z("data-v-d8f1da85"),e=e(),Q(),e),ra={title:"Feeds",style:{height:"inherit"},noPadded:""},ua={key:0,slot:"actions",class:"header-actions"},pa=["backgroundColor","color"],ma=ca(()=>o("span",null,"Create Feed",-1)),va=[ma],_a=["totalItems","currentPage"],fa=["iconName","iconColor","text"],ha={key:5,class:"truncator"},ya={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:a,page:r,total:u,load:n,next:d,previous:s}=ve("/api/feeds"),l=P(!1),c=P([]),p=P([]),_=v(()=>!a.value.length),T=()=>{p.value=a.value.map(S=>({id:S.id,schedule:c.value.find(V=>V.id===S.schedule.id),createdAt:S.events.created.at,description:S.description,status:re[S.status],rawFeed:S}))},R=async()=>{if(!a.value.length){p.value=[];return}const S=a.value.map(V=>V.schedule.id);c.value=await me(`/public/v1/reporting/schedules?(in(id,(${S.join(",")})))`)},k=async()=>{await C(n)},b=async()=>{await C(d)},g=async()=>{await C(s)},C=async S=>{l.value=!0,await S(),await R(),T(),l.value=!1},A=P(!1),E=()=>{A.value=!0};return k(),(S,V)=>(i(),m("ui-view",ra,[_.value?L("",!0):(i(),m("div",ua,[o("ui-button",{class:"header-button",backgroundColor:h(y).WHITE,color:h(y).TEXT,height:"36px",onClicked:E},va,40,pa)])),l.value?(i(),w(da,{key:1})):_.value?(i(),w(ea,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:E})):(i(),m("ui-complex-table",{key:3,headers:t,totalItems:h(u),currentPage:h(r),fixed:"",onNextClicked:b,onPreviousClicked:g},[(i(!0),m(G,null,j(p.value,I=>(i(),m("tr",{key:I.id},[(i(),m(G,null,j(t,F=>o("td",{key:F.key},[F.key==="id"?(i(),w(h(ne),{key:0,to:{name:"feeds.details",params:{id:I.id}}},{default:D(()=>[z(f(I.id),1)]),_:2},1032,["to"])):F.key==="schedule"?(i(),w(le,{key:1,assistiveText:I.schedule.id},{"body-text":D(()=>[$(J,{to:h(X).reportsScheduleDetails,params:I.schedule.id},{default:D(()=>[z(f(I.schedule.name),1)]),_:2},1032,["to","params"])]),_:2},1032,["assistiveText"])):F.key==="status"?(i(),m("ui-status",{key:2,iconName:I.status.icon,iconColor:I.status.color,text:I.status.text},null,8,fa)):F.key==="createdAt"?(i(),w(Kt,{key:3,date:I.createdAt},null,8,["date"])):L("",!0),F.key==="actions"?(i(),w(la,{key:4,feed:I.rawFeed,onEnabled:k,onDisabled:k,onUploaded:k,onDeleted:k},null,8,["feed"])):F.key==="description"?(i(),m("div",ha,[o("span",{class:K(["truncate-text",{"assistive-color":!I[F.key]}])},f(I[F.key]||"—"),3)])):L("",!0)])),64))]))),128))],40,_a)),$(jt,{modelValue:A.value,"onUpdate:modelValue":V[0]||(V[0]=I=>A.value=I),onCreated:k},null,8,["modelValue"])]))}},ba=N(ya,[["__scopeId","data-v-d8f1da85"]]),ga=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:ba},{name:"feeds.details",path:"/feeds/:id",component:()=>Le(()=>import("./FeedDetails-CxvrIteh.js"),__vite__mapDeps([0,1,2,3,4,5]))}],Sa=xe({history:Ce(),routes:ga}),ka={__name:"MainPage",setup(e){const t=P(""),a=v(()=>({height:t.value}));return q().listen("fullscreenSize",({height:u})=>{t.value=`${u}px`}),we("fullscreen-height",t),(u,n)=>(i(),m("div",{class:"app",style:Re(a.value)},[$(h(Ne))],4))}};_e({"ui-view":fe,"ui-complex-table":he,"ui-icon":ye,"ui-button":be,"ui-status":ge,"ui-menu":Se,"ui-tabs":ke,"ui-textfield":Ie}).then(e=>{const t=Fe(ka);t.use(Sa),t.use($e,e),t.mount("#app")});export{st as D,da as L,J as S,Tt as _,Kt as a,re as b,U as c,Va as d,la as e,Ea as g,W as v};
