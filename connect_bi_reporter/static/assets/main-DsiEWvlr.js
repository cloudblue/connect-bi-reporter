import{s as q,V as W,a as me,H as pe,p as _e,v as fe,o as ve,l as he,b as ye,w as be,z as ge,r as Se,c as Ee}from"./connect-4XpspIZx.js";import{m as R,u as x,c as v,o as n,b as u,d as i,t as b,e as $,w as le,v as ke,F as L,f as B,g as I,h as p,n as z,a as j,r as K,j as D,k as T,l as O,p as Y,q as Z,R as oe,s as $e,i as Ie,x as J,y as Te,z as A,A as ie,B as Ce,T as De,C as Ne,D as xe,E as Ve,G as Ae,H as Re,I as we,J as Le,K as Be,L as Fe}from"./vendor-QZT6KSBV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=s(o);fetch(o.href,l)}})();const Pe="modulepreload",Ue=function(e){return"/static/"+e},te={},Oe=function(t,s,a){let o=Promise.resolve();if(s&&s.length>0){const l=document.getElementsByTagName("link");o=Promise.all(s.map(r=>{if(r=Ue(r),r in te)return;te[r]=!0;const d=r.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(!!a)for(let h=l.length-1;h>=0;h--){const k=l[h];if(k.href===r&&(!d||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${c}`))return;const _=document.createElement("link");if(_.rel=d?"stylesheet":Pe,d||(_.as="script",_.crossOrigin=""),_.href=r,document.head.appendChild(_),d)return new Promise((h,k)=>{_.addEventListener("load",h),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${r}`)))})}))}return o.then(()=>t()).catch(l=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=l,window.dispatchEvent(r),!r.defaultPrevented)throw l})},y={NICE_GREEN:"#0BB071",NICE_RED:"#FF6A6A",MIDDLE_GREY:"#BDBDBD",DARK_GREY:"#666666",NICE_BLUE:"#2C98F0",DARKER_BLUE:"#4797f2",TEXT:"#212121",WHITE:"#FFFFFF",TRANSPARENT:"transparent"},V=(e,t)=>{const s=e.__vccOpts||e;for(const[a,o]of t)s[a]=o;return s},qe={class:"select-input"},Me={key:0,class:"select-input__label"},ze={class:"select-input__real-input"},Ge=["value"],je={fullWidth:"",closeOnClickInside:""},Ke={slot:"trigger",class:"select-input__selected"},Xe=["color"],He={slot:"content",class:"select-input__menu"},We=["onClick"],Ye={key:1,class:"select-input__hint assistive-text"},Ze={__name:"SelectInput",props:R({options:{type:Array,required:!0},propValue:{type:String,default:"id"},hint:{type:String,default:""},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),s=e,a=l=>{t.value=l[s.propValue]},o=v(()=>s.options.find(l=>l[s.propValue]===t.value)||null);return(l,r)=>(n(),u("div",qe,[e.label?(n(),u("div",Me,[i("p",null,b(e.label),1)])):$("",!0),i("div",ze,[le(i("select",{"onUpdate:modelValue":r[0]||(r[0]=d=>t.value=d)},[(n(!0),u(L,null,B(e.options,d=>(n(),u("option",{key:d[e.propValue],value:d[e.propValue]},null,8,Ge))),128))],512),[[ke,t.value]])]),i("ui-menu",je,[i("div",Ke,[I(l.$slots,"selected",{selectedItem:o.value},()=>[i("span",null,b(t.value),1)],!0),i("ui-icon",{iconName:"googleArrowDropDownBaseline",color:p(y).DARK_GREY,size:"24"},null,8,Xe)]),i("div",He,[(n(!0),u(L,null,B(e.options,d=>(n(),u("div",{key:d[e.propValue],class:z(["select-input__option",{"select-input__option_selected":d[e.propValue]===t.value}]),onClick:c=>a(d)},[I(l.$slots,"option",{option:d,isSelected:d[e.propValue]===t.value},()=>[i("span",null,b(d[e.propValue]),1)],!0)],10,We))),128))])]),e.hint||l.$slots.hint?(n(),u("div",Ye,[I(l.$slots,"hint",{},()=>[i("p",null,b(e.hint),1)],!0)])):$("",!0)]))}},Je=V(Ze,[["__scopeId","data-v-a46b5290"]]),Q={__name:"SpaLink",props:{to:{type:[String,Object,Symbol],default:""},params:{type:[String,Number,Object],required:!1,default:void 0}},setup(e){const t=e,{navigateTo:s}=q(),a=o=>{o.preventDefault(),o.stopPropagation(),s(t.to,t.params)};return(o,l)=>(n(),u("a",{onClick:a},[I(o.$slots,"default")]))}},ne=e=>t=>e(...t.detail),Qe=["value","label","placeholder","suffix"],se={__name:"TextField",props:R({label:{type:String,default:""},placeholder:{type:String,default:""},suffix:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),s=ne(a=>t.value=a);return(a,o)=>(n(),u("ui-textfield",{value:t.value,label:e.label,placeholder:e.placeholder,suffix:e.suffix,onInput:o[0]||(o[0]=(...l)=>p(s)&&p(s)(...l))},null,40,Qe))}};class et extends Error{constructor(t,s){super(t),this.status=s}}const tt=(e,t)=>{let s=`Error ${e.status}: ${e.statusText}.`;return t&&(t.error_code&&(s+=` Error code: ${t.error_code}.`),t.errors&&(s+=t.errors.map(a=>` ${a}`).join(""))),s},st=async e=>{let t;try{t=await e.clone().json()}catch{t=await e.text()}return t},at=async(e,t="GET",s=null,a=!1)=>{const o={method:t,headers:{"Content-Type":"application/json"}};s&&(o.body=JSON.stringify(s));const l=await fetch(e,o),r=await st(l);if(!l.ok){const d=tt(l,r);throw new et(d)}return a?{status:l.status,body:r}:r},U=(e,t=!1,s=!1)=>{const a=j(!1),o=s?K([]):K({});return{loading:a,result:o,request:async(r,d,c)=>{a.value=!0;try{const m=await at(r,d,c,!0);return s?(o.splice(0),o.push(...m.body)):(Object.assign(o,{}),Object.assign(o,m.body)),m.status}catch(m){if(e.emit("snackbar:error",m.message),t)throw m;return m.status}finally{a.value=!1}}}},de=e=>(Y("data-v-a4975057"),e=e(),Z(),e),lt={class:"destination-tab"},ot=de(()=>i("span",null,"You may add credentials in the",-1)),it=de(()=>i("span",null,"settings page",-1)),nt={__name:"DestinationTab",props:{credentialId:{type:String,required:!0},credentialIdModifiers:{},fileName:{type:String,required:!0},fileNameModifiers:{},description:{type:String,required:!0},descriptionModifiers:{}},emits:["update:credentialId","update:fileName","update:description"],setup(e){const t=x(e,"credentialId"),s=x(e,"fileName"),a=x(e,"description"),o=q(),{result:l,request:r}=U(o,!1,!0),d=v(()=>{var m;return(m=o.sharedContext.currentInstallation)==null?void 0:m.id}),c=v(()=>{var m,_,h;return(h=(_=(m=o.sharedContext.currentInstallation)==null?void 0:m.environment)==null?void 0:_.extension)==null?void 0:h.name});return r("/api/credentials"),(m,_)=>(n(),u("div",lt,[D(Je,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=h=>t.value=h),class:"destination-tab__input",options:p(l),label:"Credentials",propDisplay:"name",propValue:"id"},{selected:T(({selectedItem:h})=>[O(b((h==null?void 0:h.name)||"â€“"),1)]),option:T(({option:h})=>[O(b(h.name),1)]),hint:T(()=>[ot,D(Q,{class:"destination-tab__hint",to:p(W).extensionSettings,params:d.value},{default:T(()=>[O(b(c.value),1)]),_:1},8,["to","params"]),it]),_:1},8,["modelValue","options"]),D(se,{modelValue:s.value,"onUpdate:modelValue":_[1]||(_[1]=h=>s.value=h),class:"destination-tab__input",label:"Filename Template",suffix:"_yyyymmdd hh:mm:ss.csv"},null,8,["modelValue"]),D(se,{modelValue:a.value,"onUpdate:modelValue":_[2]||(_[2]=h=>a.value=h),class:"destination-tab__input",label:"Description (optional)"},null,8,["modelValue"])]))}},dt=V(nt,[["__scopeId","data-v-a4975057"]]),P={ENABLED:"enabled",DISABLED:"disabled",FAILED:"failed",PENDING:"pending",PROCESSING:"processing",UPLOADED:"uploaded"},re={[P.ENABLED]:{text:"Enabled",icon:"googleFiberManualRecordBaseline",color:y.NICE_GREEN},[P.DISABLED]:{text:"Disabled",icon:"googleFiberManualRecordBaseline",color:y.MIDDLE_GREY},[P.FAILED]:{text:"Failed",icon:"googleCancelBaseline",color:y.NICE_RED},[P.PENDING]:{text:"Pending",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[P.PROCESSING]:{text:"Processing",icon:"connectClockAnimated",color:y.MIDDLE_GREY},[P.UPLOADED]:{text:"Uploaded",icon:"googleCheckCircleBaseline",color:y.NICE_GREEN}},G=e=>(Y("data-v-2d2ed6fd"),e=e(),Z(),e),rt={class:"feed-summary"},ct=G(()=>i("p",{class:"feed-summary__title"},"Summary",-1)),ut={class:"feed-summary__row"},mt=G(()=>i("p",{class:"feed-summary__label"},"Feed",-1)),pt={class:"feed-summary__row"},_t=G(()=>i("p",{class:"feed-summary__label"},"Status",-1)),ft=["iconName","iconColor","text"],vt={class:"feed-summary__row"},ht=G(()=>i("p",{class:"feed-summary__label"},"Report Schedule",-1)),yt={class:"feed-summary__row"},bt=G(()=>i("p",{class:"feed-summary__label"},"Credential",-1)),gt={class:"feed-summary__row"},St=G(()=>i("p",{class:"feed-summary__label"},"Description",-1)),Et={class:"truncator"},kt={class:"truncate-text"},$t={__name:"FeedSummary",props:{id:{type:String,required:!0},scheduleId:{type:String,required:!0},credential:{type:String,required:!0},description:{type:String,required:!0},status:{type:String,required:!0}},setup(e){const t=e,s=v(()=>re[t.status]),a=v(()=>({name:"feeds.details",params:{id:t.id}}));return(o,l)=>(n(),u("div",rt,[ct,i("div",ut,[mt,D(p(oe),{to:a.value},{default:T(()=>[O(b(e.id),1)]),_:1},8,["to"])]),i("div",pt,[_t,i("ui-status",{iconName:s.value.icon,iconColor:s.value.color,text:s.value.text},null,8,ft)]),i("div",vt,[ht,D(Q,{to:p(W).reportsScheduleDetails,params:e.scheduleId},{default:T(()=>[O(b(e.scheduleId),1)]),_:1},8,["to","params"])]),i("div",yt,[bt,i("p",null,b(e.credential),1)]),i("div",gt,[St,i("div",Et,[i("p",kt,b(e.description),1)])])]))}},It=V($t,[["__scopeId","data-v-2d2ed6fd"]]),E={CANCEL:"cancel",CLOSE:"close",DETAILS:"details",SAVE:"save",SUBMIT:"submit",DELETE:"delete",SPACER:"spacer",NEXT:"next",BACK:"back"},Tt={[E.CANCEL]:"Cancel",[E.CLOSE]:"Close",[E.DETAILS]:"Go to details",[E.SAVE]:"Save",[E.SUBMIT]:"Submit",[E.DELETE]:"Delete",[E.NEXT]:"Next",[E.BACK]:"Back"},X={WIZARD:"wizard",EDIT:"edit"},w=(e,t={})=>e===E.SPACER?{key:"spacer"}:{key:e,label:t.label||Tt[e],handler:t.handler,disabled:t.disabled,loading:t.loading,color:t.color},Ct={class:"dialog__header"},Dt={class:"dialog__title"},Nt={class:"dialog__body"},xt={key:0,class:"dialog__sidebar"},Vt={class:"dialog__content-wrapper"},At={class:"dialog__content"},Rt={class:"dialog__actions"},wt=["disabled","color","onClicked"],Lt=["color"],Bt={key:1,class:"dialog__action-label"},Ft={__name:"SimpleDialog",props:R({title:{type:String,required:!0},actions:{type:Array,required:!0,validator(e){return e.every(t=>Object.values(E).includes(t))}},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},isValid:{type:Boolean,default:!0},backDisabled:{type:Boolean,default:!1},detailsRoute:{type:Object,default:()=>({})},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:R(["next","back"],["update:modelValue"]),setup(e,{emit:t}){const s=x(e,"modelValue"),a=e,o=t,l=$e(),r=j(!1),d=async()=>{r.value=!0;try{await a.onSubmit()}finally{r.value=!1}},c=()=>s.value=!1,m=v(()=>({[E.CANCEL]:w(E.CANCEL,{handler:c}),[E.CLOSE]:w(E.CLOSE,{handler:c}),[E.SUBMIT]:w(E.SUBMIT,{disabled:!a.isValid,handler:d,label:a.submitLabel,loading:r.value,color:y.NICE_BLUE}),[E.SAVE]:w(E.SAVE,{disabled:!a.isValid,handler:async()=>{await d(),c()},loading:r.value,color:y.NICE_BLUE}),[E.DELETE]:w(E.DELETE,{disabled:!a.isValid,handler:async()=>{await d(),c()},loading:r.value,color:y.NICE_RED}),[E.DETAILS]:w(E.DETAILS,{handler:()=>l.push(a.detailsRoute)}),[E.SPACER]:w(E.SPACER),[E.NEXT]:w(E.NEXT,{disabled:!a.isValid,handler:()=>o("next"),color:y.NICE_BLUE}),[E.BACK]:w(E.BACK,{disabled:a.backDisabled,handler:()=>o("back")})})),_=v(()=>a.actions.map(k=>m.value[k])),h=Ie("fullscreen-height");return J(s,k=>{k?document.documentElement.classList.add("is-clipped"):document.documentElement.classList.remove("is-clipped")},{immediate:!0}),Te(()=>{document.documentElement.classList.remove("is-clipped")}),(k,C)=>(n(),A(De,{to:".dialogs-container"},[s.value?(n(),u("div",Ce({key:0},k.$attrs,{class:"dialog",style:{height:p(h)}}),[i("div",{class:"dialog__container",style:ie({height:e.height,width:e.width})},[i("div",Ct,[I(k.$slots,"header",{},()=>[i("p",Dt,b(e.title),1)],!0)]),i("div",Nt,[k.$slots.sidebar?(n(),u("div",xt,[I(k.$slots,"sidebar",{},void 0,!0)])):$("",!0),i("div",Vt,[i("div",At,[I(k.$slots,"default",{},void 0,!0)]),i("div",Rt,[(n(!0),u(L,null,B(_.value,g=>(n(),u(L,null,[g.key==="spacer"?(n(),u("div",{key:g.key,class:"dialog__spacer"})):(n(),u("ui-button",{key:g.key,class:"dialog__action",disabled:g.disabled,color:g.color||p(y).TEXT,height:"36px",backgroundColor:"transparent",onClicked:g.handler},[g.loading?(n(),u("ui-icon",{key:0,class:"dialog__action-icon",color:g.color||p(y).TEXT,iconName:"connectLoaderAnimated",size:"24"},null,8,Lt)):(n(),u("span",Bt,b(g.label),1))],40,wt))],64))),256))])])])],4)],16)):$("",!0)]))}},Pt=V(Ft,[["__scopeId","data-v-e09d9d72"]]),Ut=["onClick"],Ot={key:0,class:"vertical-tabs__tab-index"},qt=["color"],Mt={key:1},zt=["color"],Gt={__name:"VerticalTabs",props:R({tabs:{type:Array,required:!0},linear:{type:Boolean,default:!1}},{activeTabKey:{type:String,default:""},activeTabKeyModifiers:{}}),emits:["update:activeTabKey"],setup(e){const t=e,s=x(e,"activeTabKey"),a=v(()=>t.tabs.findIndex(d=>d.key===s.value)),o=v(()=>t.tabs.map((d,c)=>({...d,step:c+1,active:c===a.value,inactive:t.linear&&c>a.value,classes:{"vertical-tabs__tab_active":c===a.value,"vertical-tabs__tab_inactive":d.skipStep||t.linear&&c>a.value}}))),l=v(()=>({"vertical-tabs_linear":t.linear})),r=d=>{t.linear||(s.value=d.key)};return(d,c)=>(n(),u("div",{class:z(["vertical-tabs",l.value])},[(n(!0),u(L,null,B(o.value,m=>(n(),u("div",{key:m.key,class:z(["vertical-tabs__tab",m.classes]),onClick:_=>r(m)},[t.linear?(n(),u("div",Ot,[m.skipStep?(n(),u("ui-icon",{key:0,iconName:"googleArrowDownwardBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,qt)):m.inactive||m.active?(n(),u("span",Mt,b(m.step),1)):(n(),u("ui-icon",{key:2,iconName:"googleCheckBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,zt))])):$("",!0),i("p",null,b(m.label),1)],10,Ut))),128))],2))}},jt=V(Gt,[["__scopeId","data-v-aba18a93"]]),Kt={__name:"FormDialog",props:R({title:{type:String,required:!0},tabs:{type:Array,required:!0,validator(e){return e.length>0}},mode:{type:String,required:!0,validator(e){return Object.values(X).includes(e)}},form:{type:Object,required:!0},height:{type:String,default:"600px"},width:{type:String,default:"800px"},onSubmit:{type:Function,default:()=>{}},detailsRoute:{type:Object,default:null},rules:{type:Object,default:()=>{}},submitLabel:{type:String,default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=e,s=x(e,"modelValue"),a=v(()=>t.mode===X.WIZARD),o=v(()=>t.mode===X.EDIT),l=j(""),r=v(()=>t.tabs.findIndex(N=>N.key===l.value)),d=v(()=>t.tabs.find(N=>N.key===l.value)),c=v(()=>r.value===0),m=v(()=>r.value===t.tabs.length-1),_=v(()=>l.value==="summary"),h=v(()=>d.value.submittable),k=v(()=>o.value?t.title:_.value?`${t.title} â€“ Summary`:`${t.title} â€“ Step ${r.value+1}`),C=v(()=>(d.value.includes||[]).every(F=>{const M=t.rules[F];return M?M.every(ue=>ue(t.form[F])):!0})),g=N=>{l.value=t.tabs[N].key},f=()=>{const N=r.value+1;g(N)},S=()=>{const N=r.value-1;g(N)},ee=async()=>{try{await t.onSubmit(),a.value&&!m.value&&f()}catch{}},ce=v(()=>o.value?["spacer","close","save"]:_.value?["spacer","details","close"]:h.value?["cancel","spacer","back","submit"]:["cancel","spacer","back","next"]);return J(s,()=>g(0),{immediate:!0}),(N,F)=>(n(),A(Pt,{modelValue:s.value,"onUpdate:modelValue":F[1]||(F[1]=M=>s.value=M),class:z(["form-dialog",`form-dialog_${e.mode}`]),actions:ce.value,backDisabled:c.value,detailsRoute:e.detailsRoute,height:e.height,isValid:C.value,onSubmit:ee,title:k.value,width:e.width,onBack:S,onNext:f},{sidebar:T(()=>[D(jt,{"active-tab-key":l.value,"onUpdate:activeTabKey":F[0]||(F[0]=M=>l.value=M),tabs:e.tabs,linear:a.value},null,8,["active-tab-key","tabs","linear"])]),default:T(()=>[I(N.$slots,l.value)]),_:3},8,["modelValue","class","actions","backDisabled","detailsRoute","height","isValid","title","width"]))}},Xt={class:"detail-item"},Ht={key:0,class:"detail-item__head"},Wt={key:0,class:"detail-item__subhead"},Yt={class:"detail-item__content-holder"},Zt={key:0,class:"detail-item__image"},Jt={class:"detail-item__content"},Qt={key:0,class:"detail-item__text"},es={key:1,class:"detail-item__assistive-text"},ts={__name:"DetailItem",props:{title:{type:String,default:""},subtitle:{type:String,default:""},bodyText:{type:String,default:""},assistiveText:{type:String,default:""}},setup(e){return(t,s)=>(n(),u("div",Xt,[e.title||t.$slots.title?(n(),u("div",Ht,[I(t.$slots,"title",{},()=>[i("span",null,b(e.title),1),e.subtitle?(n(),u("span",Wt,b(e.subtitle),1)):$("",!0)],!0)])):$("",!0),i("div",Yt,[t.$slots.image?(n(),u("div",Zt,[I(t.$slots,"image",{},void 0,!0)])):$("",!0),i("div",Jt,[I(t.$slots,"content",{},()=>[e.bodyText||t.$slots["body-text"]?(n(),u("div",Qt,[I(t.$slots,"body-text",{},()=>[i("span",null,b(e.bodyText),1)],!0)])):$("",!0),e.assistiveText||t.$slots["assistive-text"]?(n(),u("div",es,[I(t.$slots,"assistive-text",{},()=>[i("span",null,b(e.assistiveText),1)],!0)])):$("",!0)],!0)])])]))}},ss=V(ts,[["__scopeId","data-v-54319148"]]),as=["iconName","color"],ls=["value"],os={class:"radio-input__label-text"},is={__name:"RadioInput",props:R({value:{type:String,required:!0},label:{type:String,default:""}},{modelValue:{type:String,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),s=e,a=v(()=>t.value===s.value),o=v(()=>a.value?"googleRadioButtonCheckedBaseline":"googleRadioButtonUncheckedBaseline"),l=v(()=>a.value?y.NICE_BLUE:""),r=()=>{t.value=s.value};return(d,c)=>(n(),u("div",{class:"radio-input",onClick:r},[i("ui-icon",{class:"radio-input__box",iconName:o.value,color:l.value},null,8,as),i("label",{class:z(["radio-input__label",{"radio-input__label_empty":!e.label}])},[le(i("input",{"onUpdate:modelValue":c[0]||(c[0]=m=>t.value=m),value:e.value,class:"radio-input__input",type:"radio"},null,8,ls),[[Ne,t.value]]),i("span",os,b(e.label),1)],2)]))}},ns=V(is,[["__scopeId","data-v-c53c5700"]]),ds={class:"radio-table"},rs={class:"radio-table__title"},cs={key:0,class:"radio-table__search"},us=["placeholder"],ms={class:"radio-table__table"},ps=["onClick"],_s={class:"radio-table__item-content"},fs={__name:"RadioTable",props:R({valueProp:{type:String,default:"id"},loading:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},hideSearch:{type:Boolean,default:!1},title:{type:String,default:""},searchPlaceholder:{type:String,default:""}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:R(["search"],["update:modelValue"]),setup(e,{emit:t}){const s=x(e,"modelValue"),a=t,o=e,l=d=>{s.value=d[o.valueProp]},r=ne(d=>{a("search",d)});return(d,c)=>(n(),u("div",ds,[i("p",rs,b(e.title),1),e.hideSearch?$("",!0):(n(),u("div",cs,[i("ui-textfield",{placeholder:e.searchPlaceholder,onInput:c[0]||(c[0]=(...m)=>p(r)&&p(r)(...m))},null,40,us)])),i("div",ms,[(n(!0),u(L,null,B(e.items,m=>(n(),u("div",{key:m[e.valueProp],class:"radio-table__item",onClick:_=>l(m)},[i("div",_s,[I(d.$slots,"default",{item:m},void 0,!0)]),D(ns,{modelValue:s.value,"onUpdate:modelValue":c[1]||(c[1]=_=>s.value=_),value:m[e.valueProp]},null,8,["modelValue","value"])],8,ps))),128))])]))}},vs=V(fs,[["__scopeId","data-v-7033db48"]]),hs=(e,t=200)=>{let s=null;return(...a)=>{window.clearTimeout(s),s=window.setTimeout(()=>{e(...a)},t)}},da=(e=0,t={})=>xe(e,{base:2,locale:"en",standard:"jedec",...t}),ra=(e,t="")=>{const s=document.createElement("a");document.body.appendChild(s),s.href=e,t?s.download=t:s.rel="noopener noreferrer",s.click(),document.body.removeChild(s)},ys={__name:"ScheduleTab",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=x(e,"modelValue"),{result:s,request:a}=U(q(),!1,!0),o=v(()=>s.filter(d=>d.renderer==="csv")),l=async(d="")=>{let c="/public/v1/reporting/schedules?limit=100";d&&(c+=`&(((ilike(id,${d}*))|(ilike(name,*${d}*))))`),await a(c)},r=hs(l,500);return l(),(d,c)=>(n(),A(vs,{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=m=>t.value=m),items:o.value,searchPlaceholder:"Search for Report Schedule name or ID",title:"Select Report Schedule",onSearch:p(r)},{default:T(({item:m})=>[D(ss,{bodyText:m.name,assistiveText:m.id},null,8,["bodyText","assistiveText"])]),_:1},8,["modelValue","items","onSearch"]))}},ae=e=>!!e,H={required:e=>t=>e&&e.prop?ae(t[e.prop]):ae(t)},bs={__name:"CreateFeedDialog",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:R(["created"],["update:modelValue"]),setup(e,{emit:t}){const s=x(e,"modelValue"),a=t,o=q(),{result:l,request:r}=U(o,!0),d=[{key:"schedule",label:"Report Schedule",includes:["scheduleId"]},{key:"destination",label:"Destination",includes:["credentialId","fileName"],submittable:!0},{key:"summary",label:"Summary"}],c=K({scheduleId:"",credentialId:"",fileName:"",description:""}),m={scheduleId:[H.required()],credentialId:[H.required()],fileName:[H.required()]},_=v(()=>{var g,f;return{id:l.id,scheduleId:(g=l.schedule)==null?void 0:g.id,credential:(f=l.credential)==null?void 0:f.id,description:l.description,status:l.status}}),h=v(()=>({name:"feeds.details",params:{id:_.value.id}})),k=async()=>{await r("/api/feeds","POST",{schedule:{id:c.scheduleId},credential:{id:c.credentialId},file_name:c.fileName,description:c.description}),a("created")},C=()=>{c.scheduleId="",c.credentialId="",c.fileName="",c.description=""};return J(s,g=>{g||C()},{immediate:!0}),(g,f)=>(n(),A(Kt,{modelValue:s.value,"onUpdate:modelValue":f[4]||(f[4]=S=>s.value=S),form:c,rules:m,onSubmit:k,tabs:d,detailsRoute:h.value,title:"Create Feed",mode:"wizard",submitLabel:"Create"},{schedule:T(()=>[D(ys,{modelValue:c.scheduleId,"onUpdate:modelValue":f[0]||(f[0]=S=>c.scheduleId=S)},null,8,["modelValue"])]),destination:T(()=>[D(dt,{"credential-id":c.credentialId,"onUpdate:credentialId":f[1]||(f[1]=S=>c.credentialId=S),"file-name":c.fileName,"onUpdate:fileName":f[2]||(f[2]=S=>c.fileName=S),description:c.description,"onUpdate:description":f[3]||(f[3]=S=>c.description=S)},null,8,["credential-id","file-name","description"])]),summary:T(()=>[D(It,{id:_.value.id,status:_.value.status,description:_.value.description,credential:_.value.credential,scheduleId:_.value.scheduleId},null,8,["id","status","description","credential","scheduleId"])]),_:1},8,["modelValue","form","detailsRoute"]))}},gs={__name:"DateItem",props:{date:{type:String,required:!0}},setup(e){const{sharedContext:t}=q(),s=e,a=v(()=>{var l,r,d;return new Intl.DateTimeFormat((l=t==null?void 0:t.timezoneInfo)==null?void 0:l.region.replace("_","-"),{timeZone:(r=t==null?void 0:t.timezoneInfo)==null?void 0:r.timezone,hourCycle:(d=t==null?void 0:t.timezoneInfo)!=null&&d.time_24h?"h23":"h12",timeStyle:"short",dateStyle:"short"}).format(new Date(s.date))});return(o,l)=>(n(),u("span",null,b(a.value),1))}},Ss={class:"empty-placeholder"},Es={class:"empty-placeholder_content"},ks={class:"empty-placeholder_icon"},$s=["iconName","color"],Is=["color"],Ts=["color"],Cs={__name:"EmptyPlaceholder",props:{title:{type:String,default:"No data"},message:{type:String,default:"There is no data to be shown."},icon:{type:String,default:"googleQuestionMarkBaseline"},action:{type:String,default:""}},emits:["actionClicked"],setup(e){return(t,s)=>(n(),u("div",Ss,[i("div",Es,[i("div",ks,[i("ui-icon",{iconName:e.icon,color:p(y).MIDDLE_GREY,size:"56"},null,8,$s)]),i("h2",null,b(e.title),1),i("p",null,b(e.message),1),e.action?(n(),u("ui-button",{key:0,class:"empty-placeholder_action",backgroundColor:"transparent",color:p(y).NICE_BLUE,onClicked:s[0]||(s[0]=a=>t.$emit("actionClicked"))},[i("ui-icon",{iconName:"googleAddBaseline",color:p(y).NICE_BLUE,size:"18"},null,8,Ts),i("span",null,b(e.action),1)],40,Is)):$("",!0)])]))}},Ds=V(Cs,[["__scopeId","data-v-19daa194"]]),Ns={class:"actions-menu",align:"right",closeOnClickInside:!1},xs={slot:"trigger",class:"actions-menu__trigger"},Vs=["backgroundColor"],As=["color"],Rs={slot:"content",class:"actions-menu__content"},ws={key:0,class:"horizontal-divider"},Ls=["backgroundColor","color","disabled","onClicked"],Bs={class:"actions-menu__action-content"},Fs=["iconName","color"],Ps={__name:"ActionsMenu",props:{actions:{type:Array,required:!0,validator(e){return e.length>0&&e.every(t=>!!(t.key&&t.text&&t.icon&&t.handler))}}},setup(e){return(t,s)=>(n(),u("ui-menu",Ns,[i("div",xs,[I(t.$slots,"trigger",{},()=>[i("ui-button",{class:"actions-menu__trigger-button",backgroundColor:p(y).WHITE,height:"36px",width:"36px"},[i("ui-icon",{class:"actions-menu__trigger-icon",color:p(y).TEXT,iconName:"googleMoreVertBaseline"},null,8,As)],8,Vs)],!0)]),i("div",Rs,[(n(!0),u(L,null,B(e.actions,a=>(n(),u("div",{key:a.key,class:"actions-menu__action"},[a.separated?(n(),u("div",ws)):$("",!0),a.hide?$("",!0):(n(),u("ui-button",{key:1,ref_for:!0,ref:a.key,backgroundColor:p(y).TRANSPARENT,color:a.color||p(y).TEXT,disabled:a.disabled,height:"32px",width:"156px",onClicked:a.handler},[i("div",Bs,[i("ui-icon",{iconName:a.loading?"connectLoaderAnimated":a.icon,color:a.color||p(y).TEXT,size:"18"},null,8,Fs),i("span",null,b(a.text),1)])],40,Ls))]))),128))])]))}},Us=V(Ps,[["__scopeId","data-v-e54fa3fe"]]),Os={__name:"FeedActions",props:{feed:{type:Object,required:!0}},emits:["enabled","disabled","uploaded","deleted"],setup(e,{emit:t}){const s=e,a=t,o=q(),l=U(o),r=U(o),d=U(o),c=U(o),m=v(()=>s.feed.id),_=v(()=>s.feed.status===P.DISABLED),h=async()=>{await r.request(`/api/feeds/${m.value}/disable`,"POST")<400&&a("disabled")},k=async()=>{await l.request(`/api/feeds/${m.value}/enable`,"POST")<400&&a("enabled")},C=async()=>{await c.request(`/api/feeds/${m.value}/uploads/force`,"POST")<400&&a("uploaded")},g=async()=>{await d.request(`/api/feeds/${m.value}`,"DELETE")<400&&a("deleted")},f=K([{key:"disable",color:y.TEXT,text:"Disable",icon:"googleToggleOffBaseline",loading:r.loading,hide:_,handler:h},{key:"enable",color:y.TEXT,text:"Enable",icon:"googleToggleOnBaseline",loading:l.loading,hide:!_.value,handler:k},{key:"forceUpload",color:y.TEXT,text:"Force upload",icon:"googleUploadBaseline",loading:c.loading,disabled:_.value,handler:C},{separated:!0,key:"delete",color:y.NICE_RED,text:"Delete",icon:"googleDeleteForeverBaseline",loading:d.loading,handler:g}]);return(S,ee)=>(n(),A(Us,{class:"feed-actions",actions:f},Ve({_:2},[S.$slots.default?{name:"trigger",fn:T(()=>[I(S.$slots,"default")]),key:"0"}:void 0]),1032,["actions"]))}},qs={class:"loading-indicator"},Ms=["size","color"],zs={__name:"LoadingIndicator",props:{size:{type:[Number,String],default:76}},setup(e){return(t,s)=>(n(),u("div",qs,[i("ui-icon",{iconName:"connectLoaderAnimated",size:e.size,color:p(y).DARKER_BLUE},null,8,Ms)]))}},Gs=V(zs,[["__scopeId","data-v-bec31191"]]),js=e=>(Y("data-v-b72ddafa"),e=e(),Z(),e),Ks={title:"Feeds",style:{height:"inherit"},noPadded:""},Xs={key:0,slot:"actions",class:"header-actions"},Hs=["backgroundColor","color"],Ws=js(()=>i("span",null,"Create Feed",-1)),Ys=[Ws],Zs=["totalItems","currentPage"],Js=["iconName","iconColor","text"],Qs={key:5,class:"truncator"},ea={__name:"FeedsView",setup(e){const t=[{key:"id",text:"ID",width:"130px"},{key:"schedule",text:"Report Schedule",width:"215px"},{key:"createdAt",text:"created",width:"200px"},{key:"description",text:"description"},{key:"status",text:"status",width:"105px"},{key:"actions",width:"36px"}],{items:s,page:a,total:o,load:l,loading:r,next:d,previous:c}=me("/api/feeds"),m=v(()=>!s.value.length),_=v(()=>s.value.map(C=>({id:C.id,scheduleId:C.schedule.id,createdAt:C.events.created.at,description:C.description,status:re[C.status],rawFeed:C}))),h=j(!1),k=()=>{h.value=!0};return Ae(async()=>{await l()}),(C,g)=>(n(),u("ui-view",Ks,[m.value?$("",!0):(n(),u("div",Xs,[i("ui-button",{class:"header-button",backgroundColor:p(y).WHITE,color:p(y).TEXT,height:"36px",onClicked:k},Ys,40,Hs)])),p(r)?(n(),A(Gs,{key:1})):m.value?(n(),A(Ds,{key:2,title:"No Feeds",icon:"googleAutoGraphBaseline",action:"Create Feed",onActionClicked:k})):(n(),u("ui-complex-table",{key:3,headers:t,totalItems:p(o),currentPage:p(a),fixed:"",onNextClicked:g[0]||(g[0]=(...f)=>p(d)&&p(d)(...f)),onPreviousClicked:g[1]||(g[1]=(...f)=>p(c)&&p(c)(...f))},[(n(!0),u(L,null,B(_.value,f=>(n(),u("tr",{key:f.id},[(n(),u(L,null,B(t,S=>i("td",{key:S.key},[S.key==="id"?(n(),A(p(oe),{key:0,to:{name:"feeds.details",params:{id:f.id}}},{default:T(()=>[O(b(f.id),1)]),_:2},1032,["to"])):S.key==="schedule"?(n(),A(Q,{key:1,to:p(W).reportsScheduleDetails,params:f.scheduleId},{default:T(()=>[O(b(f.scheduleId),1)]),_:2},1032,["to","params"])):S.key==="status"?(n(),u("ui-status",{key:2,iconName:f.status.icon,iconColor:f.status.color,text:f.status.text},null,8,Js)):S.key==="createdAt"?(n(),A(gs,{key:3,date:f.createdAt},null,8,["date"])):$("",!0),S.key==="actions"?(n(),A(Os,{key:4,feed:f.rawFeed,onEnabled:p(l),onDisabled:p(l),onUploaded:p(l),onDeleted:p(l)},null,8,["feed","onEnabled","onDisabled","onUploaded","onDeleted"])):S.key==="description"?(n(),u("div",Qs,[i("span",{class:z(["truncate-text",{"assistive-color":!f[S.key]}])},b(f[S.key]||"â€”"),3)])):$("",!0)])),64))]))),128))],40,Zs)),D(bs,{modelValue:h.value,"onUpdate:modelValue":g[2]||(g[2]=f=>h.value=f),onCreated:p(l)},null,8,["modelValue","onCreated"])]))}},ta=V(ea,[["__scopeId","data-v-b72ddafa"]]),sa=[{path:"/",redirect:{name:"feeds"}},{name:"feeds",path:"/feeds",component:ta},{name:"feeds.details",path:"/feeds/:id",component:()=>Oe(()=>import("./FeedDetails-BzG4s-IO.js"),__vite__mapDeps([0,1,2,3]))}],aa=Re({history:we(),routes:sa}),la=i("div",{class:"dialogs-container"},null,-1),oa={__name:"MainPage",setup(e){const t=j(""),s=v(()=>({height:t.value}));return q().listen("fullscreenSize",({height:o})=>{t.value=`${o}px`}),Le("fullscreen-height",t),(o,l)=>(n(),u("div",{class:"app",style:ie(s.value)},[la,D(p(Be))],4))}};pe({"ui-view":_e,"ui-complex-table":fe,"ui-icon":ve,"ui-button":he,"ui-status":ye,"ui-menu":be,"ui-tabs":ge,"ui-textfield":Se}).then(e=>{const t=Fe(oa);t.use(aa),t.use(Ee,e),t.mount("#app")});export{Us as A,y as C,dt as D,Gs as L,re as S,V as _,Kt as a,P as b,gs as c,Q as d,ss as e,ra as f,da as g,Os as h,U as u,H as v};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/FeedDetails-BzG4s-IO.js","assets/connect-4XpspIZx.js","assets/vendor-QZT6KSBV.js","assets/FeedDetails-XAIvT6Bh.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
